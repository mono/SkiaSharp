<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(PlatformTargetFrameworks)</TargetFrameworks>
    <PackagingGroup>SkiaSharp.Views</PackagingGroup>
    <!-- https://github.com/NuGet/Home/issues/5226 -->
    <PackageId>SkiaSharp.Views</PackageId>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.Contains('-ios')) or $(TargetFramework.Contains('-maccatalyst'))">
    <RootNamespace>SkiaSharp.Views.iOS</RootNamespace>
    <AssemblyName>SkiaSharp.Views.iOS</AssemblyName>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.Contains('-tvos'))">
    <RootNamespace>SkiaSharp.Views.tvOS</RootNamespace>
    <AssemblyName>SkiaSharp.Views.tvOS</AssemblyName>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.Contains('-macos'))">
    <RootNamespace>SkiaSharp.Views.Mac</RootNamespace>
    <AssemblyName>SkiaSharp.Views.Mac</AssemblyName>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.Contains('-android'))">
    <RootNamespace>SkiaSharp.Views.Android</RootNamespace>
    <AssemblyName>SkiaSharp.Views.Android</AssemblyName>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.Contains('-tizen'))">
    <RootNamespace>SkiaSharp.Views.Tizen</RootNamespace>
    <AssemblyName>SkiaSharp.Views.Tizen</AssemblyName>
  </PropertyGroup>
  <PropertyGroup Condition="$(TargetFramework.Contains('-windows'))">
    <RootNamespace>SkiaSharp.Views.InvalidPlatform</RootNamespace>
    <AssemblyName>SkiaSharp.Views.InvalidPlatform</AssemblyName>
  </PropertyGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\..\binding\SkiaSharp\SkiaSharp.csproj" />
  </ItemGroup>
  <ItemGroup>
    <!-- Remove all the platform-specific files -->
    <Compile Remove="Platform\**" />
    <None Include="Platform\**" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.Contains('-ios')) or $(TargetFramework.Contains('-maccatalyst')) or $(TargetFramework.Contains('-tvos'))">
    <!-- iOS / tvOS / Mac Catalyst -->
    <Compile Include="..\SkiaSharp.Views.Shared\**\*.cs" Link="%(RecursiveDir)%(Filename)%(Extension)" />
    <Compile Include="Platform\Apple\**\*.cs" />
    <Compile Include="Platform\iOS\**\*.cs" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.Contains('-macos'))">
    <!-- macOS -->
    <Compile Include="..\SkiaSharp.Views.Shared\**\*.cs" Link="%(RecursiveDir)%(Filename)%(Extension)" />
    <Compile Include="Platform\Apple\**\*.cs" />
    <Compile Include="Platform\macOS\**\*.cs" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.Contains('-android'))">
    <!-- Android -->
    <Compile Include="..\SkiaSharp.Views.Shared\**\*.cs" Link="%(RecursiveDir)%(Filename)%(Extension)" />
    <Compile Include="Platform\Android\**\*.cs" />
    <AndroidResource Include="Platform\Android\Resources\*\*" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.Contains('-tizen'))">
    <!-- Tizen -->
    <Compile Include="..\SkiaSharp.Views.Shared\**\*.cs" Link="%(RecursiveDir)%(Filename)%(Extension)" />
    <Compile Include="Platform\Tizen\**\*.cs" />
  </ItemGroup>
</Project>
