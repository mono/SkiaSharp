parameters:
  branch1: $(Build.SourceBranch)
  branch2: $(empty)
  download: $(DOWNLOAD_EXTERNALS)

steps:
  - powershell: |
      echo "the branch = $(Build.SourceBranch)"
      echo "before = $(empty)"
      echo "argh = ${{ coalesce(variables['empty'], 'dogs') }}"
      echo "init = ${{ coalesce(variables['Build.SourceBranch'], 'dogs') }}"
      echo "first = ${{ coalesce(parameters.branch1, 'dogs') }}"
      echo "second = ${{ coalesce(parameters.branch2, 'dogs') }}"
      echo "minor = $(minor)"
      echo "download = $(download)"
  - ${{ if ne(parameters.download, '') }}:
    - powershell: |
        echo helloooooo!
  - ${{ if eq(parameters.download, '') }}:
    - powershell: |
        echo byeeeeeeee!
