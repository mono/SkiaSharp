parameters:
  - name: buildPipelineType
    type: string
  - name: buildExternals
    type: string
    default: 'latest'
  - name: buildAgentHost
    type: object
  - name: buildAgentWindows
    type: object
  - name: buildAgentWindowsNative
    type: object
  - name: buildAgentMac
    type: object
  - name: buildAgentMacNative
    type: object
  - name: buildAgentLinux
    type: object
  - name: buildAgentLinuxNative
    type: object
  - name: buildAgentAndroidTests
    type: object
  - name: sdl
    type: object
    default:
      apiscan:
        enabled: false
      binskim:
        break: false
      spotBugs:
        enabled: false
  - name: use1ESPipelineTemplates
    type: boolean
    default: false
  - name: enableSigning
    type: boolean
    default: false
  - name: forceRealSigning
    type: boolean
    default: false

stages:

  - template: /scripts/azure-templates-stages-prepare.yml@self
    parameters:
      buildAgentHost: ${{ parameters.buildAgentHost }}
