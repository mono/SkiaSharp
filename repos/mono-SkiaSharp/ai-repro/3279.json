{
  "meta": {
    "schemaVersion": "1.0",
    "number": 3279,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-12T17:55:00Z"
  },
  "conclusion": "reproduced",
  "assessment": "breaking-change",
  "notes": "Reproduced all 5 compiler errors (4x CS0117, 1x CS1501) as reported. The old SKMatrix APIs (MakeIdentity, MakeTranslation, MakeScale, MakeRotation, static PostConcat with ref) were deprecated in v2.88.x with [Obsolete] attributes pointing to replacements (CreateIdentity, CreateTranslation, CreateScale, CreateRotation, instance PostConcat), and removed entirely in v3.x. This is an intentional breaking change — the v2.88.9 build succeeds with obsolete warnings showing the migration path. Suggest closing as by-design with a pointer to the new API names.",
  "reproductionTime": "~8 minutes",
  "reproProject": {
    "type": "console",
    "tfm": "net8.0",
    "packages": [
      { "name": "SkiaSharp", "version": "3.119.0" }
    ]
  },
  "versionResults": [
    {
      "version": "2.88.9",
      "source": "nuget",
      "result": "not-reproduced",
      "notes": "Builds successfully with 5 CS0618 obsolete warnings showing renamed APIs: MakeIdentity->CreateIdentity, MakeTranslation->CreateTranslation, MakeScale->CreateScale, MakeRotation->CreateRotation, PostConcat(ref,matrix)->PostConcat(matrix)."
    },
    {
      "version": "3.119.0",
      "source": "nuget",
      "result": "reproduced",
      "notes": "Build fails with 4 CS0117 errors (MakeIdentity, MakeTranslation, MakeScale, MakeRotation). PostConcat CS1501 also confirmed separately."
    },
    {
      "version": "3.119.2",
      "source": "nuget",
      "result": "reproduced",
      "notes": "Same 4 CS0117 errors as 3.119.0. Old APIs remain removed in latest stable."
    },
    {
      "version": "main (source)",
      "source": "source",
      "result": "reproduced",
      "notes": "Old Make* APIs do not exist in source. New Create* APIs confirmed present. All 20 SKMatrixTest tests pass with new APIs."
    }
  ],
  "reproductionSteps": [
    {
      "stepNumber": 1,
      "description": "Create standalone console project with SkiaSharp 3.119.0 and write reproduction code using the old v2.88.9 SKMatrix APIs from the issue.",
      "layer": "setup",
      "command": "dotnet new console -n Repro --framework net8.0 && cd Repro && dotnet add package SkiaSharp --version 3.119.0",
      "exitCode": 0,
      "result": "success",
      "filesCreated": [
        {
          "filename": "Program.cs",
          "description": "Reproduction code using all 5 old SKMatrix APIs reported in the issue.",
          "content": "// Reproduction of issue #3279 - SKMatrix APIs from v2.88.9 used in v3.x\nusing SkiaSharp;\n\n// Error 5: CS0117 - 'SKMatrix' does not contain a definition for 'MakeIdentity'\nSKMatrix Matrix = SKMatrix.MakeIdentity();\n\n// Error 2: CS0117 - 'SKMatrix' does not contain a definition for 'MakeTranslation'\nvar translation = SKMatrix.MakeTranslation(100f, 200f);\n\n// Error 3: CS0117 - 'SKMatrix' does not contain a definition for 'MakeScale'\nvar scale = SKMatrix.MakeScale(2.0f, 2.0f, 50f, 50f);\n\n// Error 4: CS0117 - 'SKMatrix' does not contain a definition for 'MakeRotation'\nvar rotation = SKMatrix.MakeRotation(1.57f, 50f, 50f);\n\n// Error 1: CS1501 - No overload for method 'PostConcat' takes 2 arguments\nSKMatrix.PostConcat(ref Matrix, translation);\n\nConsole.WriteLine($\"Matrix: {Matrix}\");"
        }
      ]
    },
    {
      "stepNumber": 2,
      "description": "Build with SkiaSharp 3.119.0 — expect CS0117 and CS1501 compiler errors for removed APIs.",
      "layer": "deployment",
      "command": "dotnet build",
      "exitCode": 1,
      "output": "Repro net8.0 failed with 4 error(s)\n  Program.cs(5,28): error CS0117: 'SKMatrix' does not contain a definition for 'MakeIdentity'\n  Program.cs(8,28): error CS0117: 'SKMatrix' does not contain a definition for 'MakeTranslation'\n  Program.cs(11,22): error CS0117: 'SKMatrix' does not contain a definition for 'MakeScale'\n  Program.cs(14,25): error CS0117: 'SKMatrix' does not contain a definition for 'MakeRotation'\n\nBuild failed with 4 error(s) in 0.9s",
      "result": "failure"
    },
    {
      "stepNumber": 3,
      "description": "Test PostConcat CS1501 separately (previous step's variable errors prevented reaching the PostConcat line).",
      "layer": "deployment",
      "command": "dotnet build",
      "exitCode": 1,
      "output": "Repro net8.0 failed with 1 error(s)\n  Program.cs(9,10): error CS1501: No overload for method 'PostConcat' takes 2 arguments\n\nBuild failed with 1 error(s) in 0.6s",
      "result": "failure"
    },
    {
      "stepNumber": 4,
      "description": "Test with SkiaSharp 2.88.9 (last known good) to confirm old APIs existed with deprecation warnings.",
      "layer": "deployment",
      "command": "dotnet add package SkiaSharp --version 2.88.9 && dotnet build",
      "exitCode": 0,
      "output": "Repro net8.0 succeeded with 5 warning(s)\n  Program.cs(5,19): warning CS0618: 'SKMatrix.MakeIdentity()' is obsolete: 'Use CreateIdentity() instead.'\n  Program.cs(8,19): warning CS0618: 'SKMatrix.MakeTranslation(float, float)' is obsolete: 'Use CreateTranslation(float, float) instead.'\n  Program.cs(11,13): warning CS0618: 'SKMatrix.MakeScale(float, float, float, float)' is obsolete: 'Use CreateScale(float, float, float, float) instead.'\n  Program.cs(14,16): warning CS0618: 'SKMatrix.MakeRotation(float, float, float)' is obsolete: 'Use CreateRotation(float, float, float) instead.'\n  Program.cs(17,1): warning CS0618: 'SKMatrix.PostConcat(ref SKMatrix, SKMatrix)' is obsolete: 'Use PostConcat(SKMatrix) instead.'\n\nBuild succeeded with 5 warning(s) in 5.1s",
      "result": "success"
    },
    {
      "stepNumber": 5,
      "description": "Test with SkiaSharp 3.119.2 (latest stable) to confirm old APIs remain removed.",
      "layer": "deployment",
      "command": "dotnet add package SkiaSharp --version 3.119.2 && dotnet build",
      "exitCode": 1,
      "output": "Program.cs(5,28): error CS0117: 'SKMatrix' does not contain a definition for 'MakeIdentity'\nProgram.cs(8,28): error CS0117: 'SKMatrix' does not contain a definition for 'MakeTranslation'\nProgram.cs(11,22): error CS0117: 'SKMatrix' does not contain a definition for 'MakeScale'\nProgram.cs(14,25): error CS0117: 'SKMatrix' does not contain a definition for 'MakeRotation'\nBuild FAILED.",
      "result": "failure"
    },
    {
      "stepNumber": 6,
      "description": "Test on main (source) — confirm old APIs not present in source and all 20 SKMatrix tests pass with new APIs.",
      "layer": "csharp",
      "command": "dotnet test tests/SkiaSharp.Tests.Console/SkiaSharp.Tests.Console.csproj --no-build --filter \"FullyQualifiedName~SKMatrixTest\"",
      "exitCode": 0,
      "output": "Passed! - Failed: 0, Passed: 20, Skipped: 0, Total: 20, Duration: 19 ms",
      "result": "success"
    }
  ],
  "errorMessages": {
    "primaryError": "CS0117: 'SKMatrix' does not contain a definition for 'MakeIdentity' / 'MakeTranslation' / 'MakeScale' / 'MakeRotation'; CS1501: No overload for method 'PostConcat' takes 2 arguments",
    "additionalErrors": [
      "CS0117: 'SKMatrix' does not contain a definition for 'MakeIdentity'",
      "CS0117: 'SKMatrix' does not contain a definition for 'MakeTranslation'",
      "CS0117: 'SKMatrix' does not contain a definition for 'MakeScale'",
      "CS0117: 'SKMatrix' does not contain a definition for 'MakeRotation'",
      "CS1501: No overload for method 'PostConcat' takes 2 arguments"
    ]
  },
  "environment": {
    "os": "macOS 26.2",
    "arch": "arm64",
    "dotnetVersion": "8.0.417",
    "skiaSharpVersion": "3.119.0",
    "dockerUsed": false
  }
}
