{
  "meta": {
    "schemaVersion": "2.0",
    "number": 736,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2025-07-24T12:00:00Z"
  },
  "conclusion": "needs-platform",
  "notes": "Issue #736 reports that SkiaSharp.Views.Mac namespace is not found when switching a Cocoa project from 'Xamarin.Mac Modern' to 'Xamarin.Mac Full' framework in Visual Studio for Mac. Inspection of SkiaSharp.Views 1.68.0 nupkg confirms the root cause: the package contains lib/Xamarin.Mac20/ (Modern) but no lib/XamarinMacFull/ folder. When switching to 'Full', NuGet resolves to lib/net45/ which only contains Desktop/Gtk/WPF views, not Mac views. This was confirmed by the maintainer as a NuGet target framework resolution issue, with a workaround PR submitted to NuGet.Client. Reproduction requires Xamarin.Mac (legacy, deprecated 2024) and Visual Studio for Mac (discontinued May 2024), neither of which is available in the current environment.",
  "assessment": "likely-bug",
  "reproductionTime": "~5 minutes",
  "versionResults": [
    {
      "version": "1.68.0",
      "source": "nuget",
      "result": "not-tested",
      "notes": "Requires Xamarin.Mac Full framework which is deprecated and unavailable on modern .NET/macOS."
    },
    {
      "version": "main (source)",
      "source": "source",
      "result": "not-tested",
      "notes": "SkiaSharp.Views.Mac no longer exists in modern SkiaSharp (v3.x). The Xamarin.Mac platform has been replaced by .NET macOS/Mac Catalyst."
    }
  ],
  "reproductionSteps": [
    {
      "stepNumber": 1,
      "description": "Download and inspect SkiaSharp.Views 1.68.0 nupkg to verify available TFMs and presence of Mac views assembly",
      "layer": "deployment",
      "command": "curl -sLo /tmp/check-views.nupkg 'https://api.nuget.org/v3-flatcontainer/skiasharp.views/1.68.0/skiasharp.views.1.68.0.nupkg' && unzip -l /tmp/check-views.nupkg | grep 'lib/'",
      "exitCode": 0,
      "output": "lib/MonoAndroid/SkiaSharp.Views.Android.dll\nlib/net45/SkiaSharp.Views.Desktop.dll\nlib/net45/SkiaSharp.Views.Gtk.dll\nlib/net45/SkiaSharp.Views.WPF.dll\nlib/tizen40/SkiaSharp.Views.Tizen.dll\nlib/uap10.0/SkiaSharp.Views.UWP.dll\nlib/Xamarin.iOS/SkiaSharp.Views.iOS.dll\nlib/Xamarin.Mac20/SkiaSharp.Views.Mac.dll\nlib/Xamarin.TVOS/SkiaSharp.Views.tvOS.dll\nlib/Xamarin.WatchOS/SkiaSharp.Views.watchOS.dll",
      "result": "success"
    },
    {
      "stepNumber": 2,
      "description": "Verify that SkiaSharp.Views.Mac.dll exists only under Xamarin.Mac20 (Modern) TFM and NOT under any 'Full' framework TFM. The net45 folder contains only Desktop/Gtk/WPF views — no Mac views. This confirms that when NuGet resolves 'Xamarin.Mac Full' to net45, the Mac views namespace is unavailable.",
      "layer": "deployment",
      "output": "Confirmed: lib/Xamarin.Mac20/ contains SkiaSharp.Views.Mac.dll. lib/net45/ contains only SkiaSharp.Views.Desktop.dll, SkiaSharp.Views.Gtk.dll, SkiaSharp.Views.WPF.dll. No XamarinMacFull or equivalent TFM folder exists in the package."
    },
    {
      "stepNumber": 3,
      "description": "Attempt to create a Xamarin.Mac project to reproduce the build error. Xamarin.Mac is a legacy framework (deprecated 2024) and Visual Studio for Mac was discontinued in May 2024. Neither is available in the current environment (macOS 26.2, .NET 8.0, arm64).",
      "layer": "setup",
      "result": "skip"
    }
  ],
  "errorMessages": {
    "primaryError": "SkiaSharp.Views.Mac namespace not found when using Xamarin.Mac Full framework — NuGet resolves to net45 TFM which lacks Mac views assembly"
  },
  "environment": {
    "os": "macOS 26.2",
    "arch": "arm64",
    "dotnetVersion": "8.0.417",
    "skiaSharpVersion": "1.68.0 (nupkg inspection only)",
    "dockerUsed": false
  },
  "blockers": [
    "Requires Xamarin.Mac Full framework which was deprecated in 2024 and is no longer available for installation",
    "Requires Visual Studio for Mac which was discontinued in May 2024",
    "The Xamarin.Mac platform and its NuGet TFM resolution behavior cannot be reproduced on modern .NET"
  ]
}
