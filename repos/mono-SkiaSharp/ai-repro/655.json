{
  "meta": {
    "schemaVersion": "1.1",
    "number": 655,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-12T00:50:01Z"
  },
  "conclusion": "not-reproduced",
  "assessment": "likely-bug",
  "notes": "Could not reproduce the path intersection bug on any available version. Reporter used SkiaSharp 1.60.3 which only ships x64 macOS native binaries (no arm64), so it could not be tested on current macOS arm64 hardware. Tested on SkiaSharp 2.88.9 (earliest version with arm64 macOS support) and 3.119.2 (latest stable) — both correctly return 4 intersection points. Also verified on main (source) via the test project — intersection returns points correctly. The bug was likely fixed in an upstream Skia update between SkiaSharp 1.60.3 and 2.88.9. The issue is from 2018 and the reporter's Skia fiddle link confirms the C++ pathops worked correctly even then, suggesting this was a SkiaSharp/Skia version-specific bug that has since been resolved.",
  "reproProject": {
    "type": "console",
    "tfm": "net8.0",
    "packages": [
      {"name": "SkiaSharp", "version": "2.88.9"}
    ]
  },
  "versionResults": [
    {
      "version": "1.60.3",
      "source": "nuget",
      "result": "not-tested",
      "notes": "Reporter's version. Cannot test on macOS arm64 — nupkg only contains x64 native binary (runtimes/osx/native/libSkiaSharp.dylib is x86_64 only). No x64 .NET SDK available for Rosetta."
    },
    {
      "version": "2.88.9",
      "source": "nuget",
      "result": "not-reproduced",
      "notes": "Intersection returns 4 points correctly. Earliest testable version with arm64 macOS support."
    },
    {
      "version": "3.119.2",
      "source": "nuget",
      "result": "not-reproduced",
      "notes": "Intersection returns 4 points correctly on latest stable release."
    },
    {
      "version": "main (source)",
      "source": "source",
      "result": "not-reproduced",
      "notes": "Test passed — intersection returns points correctly on main branch."
    }
  ],
  "reproductionSteps": [
    {
      "stepNumber": 1,
      "description": "Create standalone console project with SkiaSharp 2.88.9 (earliest testable version with arm64 support)",
      "layer": "setup",
      "command": "mkdir -p /tmp/repro-655 && cd /tmp/repro-655 && dotnet new console -n Repro --framework net8.0 && cd Repro && dotnet add package SkiaSharp --version 2.88.9",
      "exitCode": 0,
      "output": "The template \"Console App\" was created successfully.\nPackageReference for package 'SkiaSharp' version '2.88.9' added.",
      "filesCreated": [
        {
          "filename": "Program.cs",
          "description": "Reproduction code from issue #655 — creates two paths with SkBits2Float values and tests their intersection via SKPath.Op(SKPathOp.Intersect)",
          "content": "using System;\nusing SkiaSharp;\n\nclass Program\n{\n    private static float SkBits2Float(uint n)\n    {\n        byte[] data = BitConverter.GetBytes(n);\n        return BitConverter.ToSingle(data, 0);\n    }\n\n    static void Main(string[] args)\n    {\n        Console.WriteLine($\"SkiaSharp Assembly: {typeof(SKPath).Assembly.GetName().Version}\");\n        Console.WriteLine($\"Runtime: {System.Runtime.InteropServices.RuntimeInformation.FrameworkDescription}\");\n        Console.WriteLine($\"Arch: {System.Runtime.InteropServices.RuntimeInformation.ProcessArchitecture}\");\n        Console.WriteLine();\n\n        SKPath path_a = new SKPath();\n        path_a.FillType = SKPathFillType.Winding;\n        path_a.MoveTo(SkBits2Float(0x00000000), SkBits2Float(0x44070000));\n        path_a.LineTo(SkBits2Float(0x44340000), SkBits2Float(0x44070000));\n        path_a.LineTo(SkBits2Float(0x44340000), SkBits2Float(0x00000000));\n        path_a.LineTo(SkBits2Float(0x00000000), SkBits2Float(0x00000000));\n        path_a.Close();\n\n        SKPath path_b = new SKPath();\n        path_b.FillType = SKPathFillType.EvenOdd;\n        path_b.MoveTo(SkBits2Float(0xB6D27CA9), SkBits2Float(0x44070000));\n        path_b.LineTo(SkBits2Float(0x44340000), SkBits2Float(0x44070000));\n        path_b.LineTo(SkBits2Float(0x44340000), SkBits2Float(0x36CCD0F6));\n        path_b.LineTo(SkBits2Float(0xB6D27CA9), SkBits2Float(0x36CCD0F6));\n        path_b.Close();\n\n        Console.WriteLine($\"path_a PointCount: {path_a.PointCount}\");\n        Console.WriteLine($\"path_b PointCount: {path_b.PointCount}\");\n\n        SKPath path_r = path_a.Op(path_b, SKPathOp.Intersect);\n\n        if (path_r != null)\n        {\n            Console.WriteLine($\"Intersection PointCount: {path_r.PointCount}\");\n            Console.WriteLine($\"Intersection Bounds: {path_r.Bounds}\");\n            if (path_r.PointCount == 0)\n                Console.WriteLine(\"BUG: Intersection returned 0 points\");\n            else\n                Console.WriteLine(\"OK: Intersection has points as expected\");\n        }\n        else\n        {\n            Console.WriteLine(\"Intersection returned null\");\n        }\n    }\n}"
        }
      ],
      "result": "success"
    },
    {
      "stepNumber": 2,
      "description": "Run reproduction with SkiaSharp 2.88.9 — path intersection should return 0 points per the bug report",
      "layer": "csharp",
      "command": "cd /tmp/repro-655/Repro && dotnet run",
      "exitCode": 0,
      "output": "SkiaSharp Assembly: 2.88.0.0\nRuntime: .NET 8.0.23\nArch: Arm64\n\npath_a PointCount: 4\npath_b PointCount: 4\nIntersection PointCount: 4\nIntersection Bounds: {Left=0,Top=6.104E-06,Width=720,Height=540}\nOK: Intersection has points as expected",
      "result": "success"
    },
    {
      "stepNumber": 3,
      "description": "Test with latest stable release (3.119.2) to confirm intersection still works",
      "layer": "csharp",
      "command": "dotnet add package SkiaSharp --version 3.119.2 && dotnet run",
      "exitCode": 0,
      "output": "SkiaSharp Assembly: 3.119.0.0\nRuntime: .NET 8.0.23\nArch: Arm64\n\npath_a PointCount: 4\npath_b PointCount: 4\nIntersection PointCount: 4\nIntersection Bounds: {Left=0,Top=6.104E-06,Width=720,Height=540}\nOK: Intersection has points as expected",
      "result": "success"
    },
    {
      "stepNumber": 4,
      "description": "Test on main branch (source) using xUnit test infrastructure — added temporary test Issue655PathIntersectionReturnsPoints to SKPathTest.cs",
      "layer": "csharp",
      "command": "dotnet test tests/SkiaSharp.Tests.Console/SkiaSharp.Tests.Console.csproj --filter \"FullyQualifiedName~Issue655\"",
      "exitCode": 0,
      "output": "Passed!  - Failed: 0, Passed: 1, Skipped: 0, Total: 1, Duration: < 1 ms - SkiaSharp.Tests.dll (net8.0)",
      "result": "success"
    }
  ],
  "environment": {
    "os": "macOS 26.2",
    "arch": "arm64",
    "dotnetVersion": "8.0.417",
    "skiaSharpVersion": "2.88.9, 3.119.2, main (source)",
    "dockerUsed": false
  },
  "blockers": [
    "Cannot test reporter's exact version (1.60.3) — nupkg ships only x64 macOS native binary, no arm64. No x64 .NET SDK available for Rosetta emulation."
  ]
}
