{
  "number": 676,
  "type": "issue",
  "state": "closed",
  "title": "Support Windows Nano Server",
  "body": "### Description\r\n\r\nWindows Nano Server is missing some dlls, so SkiaSharp does not work. Related to https://github.com/mono/SkiaSharp/issues/591\r\n\r\n\r\nHaving a look at Nano Server... Ran the \u0060NanoServerApiScan.exe\u0060 tool from: https://blogs.technet.microsoft.com/nanoserver/2016/04/27/nanoserverapiscan-exe-updated-for-tp5/\r\n\r\n\u0060\u0060\u0060\r\n=== libSkiaSharp.dll ===\r\n\r\nERRORS:\r\n\r\n  FONTSUB.dll\r\n    CreateFontPackage(Proc not found)\r\n  USER32.dll\r\n    SystemParametersInfoW(Proc not found)\r\n  MSVCP140.dll\r\n    \u2026\r\n    \u2026\r\n    \u2026\r\n      Please copy Nano Server compliant MSVCP140.dll from %ProgramFiles(x86)%\\Microsoft Visual Studio 14.0\\VC\\redist\\onecore\\x64\\Microsoft.VC140.CRT\\\r\n  VCRUNTIME140.dll\r\n    \u2026\r\n    \u2026\r\n    \u2026\r\n      Please copy Nano Server compliant VCRUNTIME140.dll from %ProgramFiles(x86)%\\Microsoft Visual Studio 14.0\\VC\\redist\\onecore\\x64\\Microsoft.VC140.CRT\\\r\n\u0060\u0060\u0060\r\n\r\nI need to investigate the 2 usages that appear to be bad:\r\n\r\n - FONTSUB.dll (CreateFontPackage)\r\n - USER32.dll (SystemParametersInfoW)\r\n\r\n---\r\n\r\nJust did some investigation :)\r\n\r\n\u0060CreateFontPackage\u0060 from FONTSUB.dll is just for XPS support - and this is also just for font subsetting. The UWP build does not have this at all, so I could just remove it for a nano build.\r\n\r\n\u0060SystemParametersInfoW\u0060 from USER32.dll is also not too essential - it is just for determining the default font. Again, this is not available for UWP - we just pick the \u0022Segoe UI\u0022 which we know is available by default.\r\n\r\nNano Server support could very well be possible in the near future - just have to check priorities.\r\n\r\nAdd your vote to this issue so we can prioritize this issue.\n\n\u003E VS bug [#727251](https://devdiv.visualstudio.com/DevDiv/_workitems/edit/727251)",
  "author": {
    "login": "mattleibow",
    "type": "User"
  },
  "labels": [
    {
      "name": "status/low-priority",
      "color": "B8EC4A"
    },
    {
      "name": "os/Windows-Classic",
      "color": "fbca04"
    },
    {
      "name": "area/SkiaSharp",
      "color": "0052cc"
    },
    {
      "name": "area/libSkiaSharp.native",
      "color": "0052cc"
    },
    {
      "name": "type/feature-request",
      "color": "ededed"
    }
  ],
  "assignees": [
    {
      "login": "mattleibow",
      "type": "User"
    }
  ],
  "milestone": "v1.68.1.1",
  "createdAt": "2018-11-06T17:55:48",
  "updatedAt": "2022-08-19T12:02:48",
  "closedAt": "2019-12-04T01:12:15",
  "commentCount": 13,
  "reactionCount": 41,
  "engagement": {
    "syncedAt": "2026-02-04T20:43:52.5581746Z",
    "reactions": [
      {
        "user": "iamcarbon",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581819Z"
      },
      {
        "user": "cschwarz",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581832Z"
      },
      {
        "user": "evgeny-kuleshov",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581835Z"
      },
      {
        "user": "kain-tm",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581838Z"
      },
      {
        "user": "edward-raven",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581842Z"
      },
      {
        "user": "btolfa",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581844Z"
      },
      {
        "user": "dumka",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581848Z"
      },
      {
        "user": "sakozlov-r62",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581851Z"
      },
      {
        "user": "inavrotskiy",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581854Z"
      },
      {
        "user": "AndreyNNN",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581857Z"
      },
      {
        "user": "Norfo",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581859Z"
      },
      {
        "user": "EatenHardship",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581862Z"
      },
      {
        "user": "DVorobyev",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581863Z"
      },
      {
        "user": "Artblack",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581865Z"
      },
      {
        "user": "i-mochalov",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581867Z"
      },
      {
        "user": "SML-DmitrySokolov",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.558187Z"
      },
      {
        "user": "falleretic",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581872Z"
      },
      {
        "user": "alexeybut",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581874Z"
      },
      {
        "user": "stdstring",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581877Z"
      },
      {
        "user": "dvdarkin",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581879Z"
      },
      {
        "user": "vchebotok",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581881Z"
      },
      {
        "user": "mattleibow",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581882Z"
      },
      {
        "user": "romans91",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581883Z"
      },
      {
        "user": "azhilt",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581887Z"
      },
      {
        "user": "timcovar",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581888Z"
      },
      {
        "user": "konst-tin",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581889Z"
      },
      {
        "user": "sdfleod",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581892Z"
      },
      {
        "user": "steffenloesch",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581893Z"
      },
      {
        "user": "ilyaegorov",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581894Z"
      },
      {
        "user": "jewijaya",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581895Z"
      },
      {
        "user": "Starkie",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581898Z"
      },
      {
        "user": "ADD-Juan-Perez",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581901Z"
      },
      {
        "user": "VictorIranzo",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581904Z"
      },
      {
        "user": "Suriman",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581905Z"
      },
      {
        "user": "slakul",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581906Z"
      },
      {
        "user": "warrenxxx",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.558191Z"
      },
      {
        "user": "3xanimo",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581913Z"
      },
      {
        "user": "AlexNosk",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581914Z"
      },
      {
        "user": "dennisbot",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581915Z"
      },
      {
        "user": "jeffska",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.5581918Z"
      },
      {
        "user": "OPSnake",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:43:52.558192Z"
      }
    ],
    "comments": [
      {
        "id": 477163433,
        "author": "Starkie",
        "createdAt": "2019-03-27T13:49:49",
        "reactions": [
          {
            "user": "VictorIranzo",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:43:50.2319781Z"
          },
          {
            "user": "Suriman",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:43:50.2319786Z"
          },
          {
            "user": "ADD-Juan-Perez",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:43:50.2319788Z"
          },
          {
            "user": "dennisbot",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:43:50.2319789Z"
          }
        ]
      },
      {
        "id": 546279695,
        "author": "VictorIranzo",
        "createdAt": "2019-10-25T09:30:07",
        "reactions": []
      },
      {
        "id": 552796253,
        "author": "AlexNosk",
        "createdAt": "2019-11-12T08:53:53",
        "reactions": []
      },
      {
        "id": 554214894,
        "author": "vijayasurya20",
        "createdAt": "2019-11-15T05:10:01",
        "reactions": []
      },
      {
        "id": 554235377,
        "author": "Gillibald",
        "createdAt": "2019-11-15T06:43:53",
        "reactions": []
      },
      {
        "id": 554669755,
        "author": "mattleibow",
        "createdAt": "2019-11-16T20:06:28",
        "reactions": []
      },
      {
        "id": 554684127,
        "author": "mattleibow",
        "createdAt": "2019-11-16T23:25:52",
        "reactions": []
      },
      {
        "id": 554700005,
        "author": "mattleibow",
        "createdAt": "2019-11-17T03:31:30",
        "reactions": []
      },
      {
        "id": 554700486,
        "author": "mattleibow",
        "createdAt": "2019-11-17T03:38:15",
        "reactions": []
      },
      {
        "id": 554759976,
        "author": "mattleibow",
        "createdAt": "2019-11-17T15:59:56",
        "reactions": []
      },
      {
        "id": 561395767,
        "author": "mattleibow",
        "createdAt": "2019-12-03T22:59:06",
        "reactions": []
      },
      {
        "id": 561430401,
        "author": "mattleibow",
        "createdAt": "2019-12-04T01:15:37",
        "reactions": [
          {
            "user": "daltonks",
            "content": "hooray",
            "createdAt": "2026-02-04T20:43:52.3269413Z"
          },
          {
            "user": "AlexNosk",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:43:52.3269418Z"
          },
          {
            "user": "Starkie",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:43:52.3269419Z"
          }
        ]
      },
      {
        "id": 563479999,
        "author": "mattleibow",
        "createdAt": "2019-12-09T23:02:09",
        "reactions": []
      }
    ]
  }
}