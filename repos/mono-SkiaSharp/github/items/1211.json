{
  "number": 1211,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] Crash bug in SKTouchHandler.OnTouch ",
  "body": "**Description**\r\n\r\nhttps://github.com/mscherotter/SkiaSharp/blob/master/source/SkiaSharp.Views.Forms/SkiaSharp.Views.Forms.Android/SKTouchHandler.cs\r\n\r\n    var toolType = evt.GetToolType(id); \r\n\r\nin line 50 incorrectly passes the pointerID, not the pointer index and causes an exception: pointerIndex out of range\r\n\r\n**Code**\r\nThe line should be \r\n\r\n    var toolType = evt.GetToolType(pointer);\r\n\r\n**Expected Behavior**\r\n\r\nNo exception\r\n\r\n**Actual Behavior**\r\n\r\nAn exception when touching the canvas\r\n**Basic Information**\r\n\r\n- Version with issue:  1.68.2-preview.50\r\n- Last known good version:  1.68.2-preview.45\r\n- IDE:   Visual Studio \r\n- Platform Target Frameworks: Android\r\n  - Android: 9.0 \r\n- Target Devices:   \u003C!-- the devices that you noticed this on, e.g. iPhone X --\u003E\r\n  - \u003C!-- Google Pixel 4 XL --\u003E\r\n  - \u003C!-- iPhone 11 --\u003E\r\n\r\n**Screenshots**\r\n\r\n\u003C!-- if the issue is a visual issue, please include screenshots showing the problem if possible --\u003E\r\n\r\n**Reproduction Link**\r\n\r\n\u003C!-- please upload or provide a link to a reproduction case --\u003E\r\n",
  "author": {
    "login": "mscherotter",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2020-04-04T15:44:22",
  "updatedAt": "2022-08-19T06:02:09",
  "closedAt": "2020-04-07T09:10:13",
  "commentCount": 5,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:12:28.8814302Z",
    "reactions": [],
    "comments": [
      {
        "id": 610177938,
        "author": "pauldendulk",
        "body": "@mattleibow This is also a serious issue for Mapsui. Saturday we released rc.2 with 1.68.2-preview.50. Every time a user starts panning in the Android Forms sample it crashes.\r\n\r\nTo reproduce: \r\n1. Start Mapsui.Samples.Forms.Android\r\n2. Select \u00221 MBtiles\u0022 sample\r\n3. Place first finger on map\r\n4. Place second finger on map\r\n5. Lift first finger from map\r\n6. See exception",
        "createdAt": "2020-04-07T05:13:43",
        "reactions": []
      },
      {
        "id": 610274137,
        "author": "mattleibow",
        "body": "I got a fix in, will release ASAP with the other one. I was just waiting for a build to complete.\r\n\r\nThe interesting thing is that getting the bad index did not fail on my Pixel 2 with Android 10. I tried with 3 finders and the pointers still worked. Pointer 2 with ID 0....\r\nWhat devices did it actually crash on.",
        "createdAt": "2020-04-07T09:15:27",
        "reactions": []
      },
      {
        "id": 610276454,
        "author": "pauldendulk",
        "body": "- I tested on an Samsung Galaxy A70 with Android 10. \r\n- @jenssmeds reported it on a Huawei P20 Pro with Android 9. \r\n- Not sure what @charlenni used.",
        "createdAt": "2020-04-07T09:20:18",
        "reactions": []
      },
      {
        "id": 610279803,
        "author": "mattleibow",
        "body": "Just tested on a Razer (v1) with Android 9 and it crashed... Very interesting.",
        "createdAt": "2020-04-07T09:27:24",
        "reactions": []
      },
      {
        "id": 610280318,
        "author": "mattleibow",
        "body": "Well, it will be fixed and release as soon as that CI is done.",
        "createdAt": "2020-04-07T09:28:32",
        "reactions": []
      }
    ]
  }
}