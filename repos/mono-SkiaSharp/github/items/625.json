{
  "number": 625,
  "type": "issue",
  "state": "closed",
  "title": "Bitmap Negative Scale",
  "body": "### Description\r\n\r\nTrying to apply a negative scale (to flip a bitmap) the bitmap disappears.\r\n\r\n### Code\r\n\r\n\u0060\u0060\u0060\r\ncanvas.Translate( -imageWidth/ 2.0f, -imageHeight/ 2.0f );\r\ncanvas.Scale( -1, 1,0,0 );\r\ncanvas.DrawBitmap( bitmap, new SKPoint( 0.0f, 0.0f ) );\r\ncanvas.Scale( -1, 1, 0, 0 );\r\ncanvas.Translate( imageWidth/ 2.0f, imageHeight / 2.0f );\r\n\u0060\u0060\u0060\r\n\r\n### Expected Behavior\r\n\r\nThe bitmap should mirrored around the y axis.\r\n\r\n### Actual Behavior\r\n\r\nThe bitmap does not appear. I\u0027ve done some translations to check and I don\u0027t think it\u0027s there.\r\n\r\n### Basic Information\r\n\r\n- Version with issue:  1.60.1\r\n- Last known good version:  I don\u0027t think there is\r\n- IDE:  Visual Studio\r\n- Platform Target Frameworks: \r\n  - Android: 8.1\r\n- Target Devices:\r\n  -   Pixel C\r\n\r\n### Screenshots\r\n\r\nA blank screen.\r\n",
  "author": {
    "login": "davidmn",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2018-08-28T14:40:20",
  "updatedAt": "2022-08-19T15:01:41",
  "closedAt": "2018-09-09T23:52:19",
  "commentCount": 1,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:04:09.1570846Z",
    "reactions": [],
    "comments": [
      {
        "id": 419754262,
        "author": "mattleibow",
        "body": "this is because you actually want to do the reverse. SkiaSharp drawing happens by transforming a matrix, and then drawing using that.\r\n\r\nYour code actually asks for this:\r\n - move the origin off the screen (left and up) by half the bitmap width and height\r\n - flip the origin on the y-axis (this makes the right side of the image flip over to the far left)\r\n - draw the image with the top left at the origin (right now at the very far left of the screen)\r\n\r\nWhat you want to do is the opposite, but there is also a shortcut way for flipping the matrix at the center:\r\n\r\n\u0060\u0060\u0060csharp\r\ncanvas.Scale(-1, 1, imageWidth / 2.0f, 0);\r\ncanvas.DrawBitmap(bitmap, 0, 0);\r\n\u0060\u0060\u0060\r\n\r\nTo do this in separate operations, you just need to translate the entire image to the right, and then flip:\r\n\r\n\u0060\u0060\u0060csharp\r\ncanvas.Translate(imageWidth , 0);\r\ncanvas.Scale(-1, 1, 0, 0);\r\n\u0060\u0060\u0060\r\n\r\nAlso, to avoid having mixed transforms and having to undo everything, just wrap them in a \u0060SKAutoCanvasRestore\u0060 (or just use the \u0060Save\u0060 and \u0060Restore\u0060 methods):\r\n\r\n\u0060\u0060\u0060csharp\r\nusing(new SKAutoCanvasRestore(canvas, true))\r\n{\r\n   // transform and draw . . .\r\n}\r\n\u0060\u0060\u0060\r\n",
        "createdAt": "2018-09-09T23:51:58",
        "reactions": []
      }
    ]
  }
}