{
  "number": 1382,
  "type": "pr",
  "state": "closed",
  "title": "Build for Linux ARM32 (armhf) and ARM64 (aarch64)",
  "body": "**Description of Change**\r\n\r\nAdd a new Linux architecture: armhf\r\n\r\nThis is build on Ubuntu 16.04 using the ARM prebuilt toolchain: https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-a/downloads\r\n\r\nUsing GCC because of: https://github.com/mono/SkiaSharp/pull/1382#discussion_r449709079\r\n\r\n**Test Binaries**\r\n\r\nBuilt using Clang: \r\n - ARM 32 v7a: [native_linux_arm_linux.zip](https://github.com/mono/SkiaSharp/files/4874470/native_linux_arm_linux.zip)\r\n - ARM 64 v8: [native_linux_arm64_linux.zip](https://github.com/mono/SkiaSharp/files/4874471/native_linux_arm64_linux.zip)\r\n\r\nBuilt using GCC:\r\n - ARM 32 v7a: [native_linux_arm_gcc_linux.zip](https://github.com/mono/SkiaSharp/files/4874474/native_linux_arm_gcc_linux.zip)\r\n - ARM 64 v8: [native_linux_arm64_gcc_linux.zip](https://github.com/mono/SkiaSharp/files/4874476/native_linux_arm64_gcc_linux.zip)\r\n\r\n**Test NuGet**\r\n\r\nAll the packages are on the preview feed as \u0060v2.80.0-pr.1382.31\u0060: \u0060https://aka.ms/skiasharp-eap/index.json\u0060\r\n\r\n**Bugs Fixed**\r\n\r\n- Related to issue #453 \r\n",
  "author": {
    "login": "mattleibow",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v2.80.0",
  "createdAt": "2020-07-03T21:37:06",
  "updatedAt": "2025-01-31T17:35:59",
  "closedAt": "2020-07-07T00:23:43",
  "commentCount": 17,
  "reactionCount": 4,
  "draft": false,
  "mergeable": false,
  "merged": true,
  "mergedAt": "2020-07-07T00:23:43",
  "mergeableState": "dirty",
  "baseBranch": "master",
  "headBranch": "dev/linux-armhf",
  "additions": 462,
  "deletions": 494,
  "changedFiles": 27,
  "commits": 48,
  "reviews": [
    {
      "author": "mattleibow",
      "state": "COMMENTED",
      "submittedAt": "2020-07-03T21:47:12"
    },
    {
      "author": "mattleibow",
      "state": "COMMENTED",
      "submittedAt": "2020-07-04T02:25:23"
    },
    {
      "author": "jp2masa",
      "state": "COMMENTED",
      "submittedAt": "2020-07-04T03:34:00"
    },
    {
      "author": "mattleibow",
      "state": "COMMENTED",
      "submittedAt": "2020-07-04T04:25:20"
    }
  ],
  "engagement": {
    "syncedAt": "2026-02-06T13:30:20.3737343Z",
    "reactions": [
      {
        "user": "jmacato",
        "content": "hooray",
        "createdAt": "2026-02-06T13:30:20.3737375Z"
      },
      {
        "user": "ahopper",
        "content": "hooray",
        "createdAt": "2026-02-06T13:30:20.373738Z"
      },
      {
        "user": "saskathex",
        "content": "hooray",
        "createdAt": "2026-02-06T13:30:20.3737382Z"
      },
      {
        "user": "michaldobrodenka",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:30:20.3737383Z"
      }
    ],
    "comments": [
      {
        "id": 653728480,
        "author": "jmacato",
        "body": "@mattleibow the Linux ARM64 bins are almost working, though my app had this error:\r\n\u0060\u0060\u0060\r\nUnhandled exception. System.EntryPointNotFoundException: Unable to find an entry point named \u0027sk_paint_set_text_encoding\u0027 in shared library \u0027libSkiaSharp\u0027.\r\n   at SkiaSharp.SkiaApi.sk_paint_set_text_encoding(IntPtr param0, SKTextEncoding param1)\r\n   at Avalonia.Skia.FormattedTextImpl..ctor(String text, Typeface typeface, Double fontSize, TextAlignment textAlignment, TextWrapping wrapping, Size constraint, IReadOnlyList\u00601 spans)\r\n   at Avalonia.Skia.PlatformRenderInterface.CreateFormattedText(String text, Typeface typeface, Double fontSize, TextAlignment textAlignment, TextWrapping wrapping, Size constraint, IReadOnlyList\u00601 spans)\r\n   at Avalonia.Media.FormattedText.get_PlatformImpl()\r\n   at Avalonia.Media.FormattedText.get_Bounds()\r\n\u0060\u0060\u0060\r\n\r\n@Gillibald should we perhaps update SkiaSharp in Avalonia?",
        "createdAt": "2020-07-04T06:28:55",
        "reactions": []
      },
      {
        "id": 653729434,
        "author": "Gillibald",
        "body": "@jmacato This is targeting the next release. We should be able to update. ",
        "createdAt": "2020-07-04T06:41:14",
        "reactions": []
      },
      {
        "id": 653729577,
        "author": "jmacato",
        "body": "@Gillibald awesome :)) well... guess i cant test stuff out without us updating ",
        "createdAt": "2020-07-04T06:43:03",
        "reactions": []
      },
      {
        "id": 653730026,
        "author": "Gillibald",
        "body": "The new version is a 1:1 replacement just bump the version number. We can just create a PR that does that and you could use the CI build. ",
        "createdAt": "2020-07-04T06:48:43",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "hooray",
            "createdAt": "2026-02-06T13:30:17.0387544Z"
          }
        ]
      },
      {
        "id": 653730687,
        "author": "jmacato",
        "body": "@Gillibald yeah please do, so we can check other issues here just in case",
        "createdAt": "2020-07-04T06:56:42",
        "reactions": []
      },
      {
        "id": 653751025,
        "author": "mattleibow",
        "body": "@jmacato what happens if you bump the version of SkiaSharp in your project to the latest preview on NuGet. Unless Avalonia is p/invoking directly, it should work. The versions should be API compatible as I made no breaks in the .NET API. ",
        "createdAt": "2020-07-04T10:53:00",
        "reactions": []
      },
      {
        "id": 653751091,
        "author": "jmacato",
        "body": "@mattleibow i\u0027ll try the preview releases first",
        "createdAt": "2020-07-04T10:53:46",
        "reactions": []
      },
      {
        "id": 653751312,
        "author": "Gillibald",
        "body": "I am in the process of creating a PR that changes Avalonia to use the preview. Then you just have to copy the ARM bits manually.",
        "createdAt": "2020-07-04T10:56:04",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "heart",
            "createdAt": "2026-02-06T13:30:18.0300337Z"
          }
        ]
      },
      {
        "id": 653751467,
        "author": "jmacato",
        "body": "@Gillibald alright i\u0027ll wait for that instead :D",
        "createdAt": "2020-07-04T10:57:49",
        "reactions": []
      },
      {
        "id": 653757444,
        "author": "jmacato",
        "body": "Well well well :D \r\n![Screenshot_2020-07-04_19-52-56](https://user-images.githubusercontent.com/16554748/86512072-4778de80-be31-11ea-8fc3-92f963c37b79.png)\r\n\r\nThank you so much @mattleibow \u0026 @Gillibald ",
        "createdAt": "2020-07-04T12:02:54",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "heart",
            "createdAt": "2026-02-06T13:30:18.5375038Z"
          },
          {
            "user": "mattleibow",
            "content": "rocket",
            "createdAt": "2026-02-06T13:30:18.5375043Z"
          },
          {
            "user": "mattleibow",
            "content": "hooray",
            "createdAt": "2026-02-06T13:30:18.5375044Z"
          },
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:30:18.5375045Z"
          },
          {
            "user": "mattleibow",
            "content": "laugh",
            "createdAt": "2026-02-06T13:30:18.5375046Z"
          },
          {
            "user": "mattleibow",
            "content": "eyes",
            "createdAt": "2026-02-06T13:30:18.5375047Z"
          }
        ]
      },
      {
        "id": 654538331,
        "author": "mattleibow",
        "body": "CI just failed on the emscripten lols. Why now? Who knows. Maybe a rebuild will fix it?",
        "createdAt": "2020-07-07T01:02:19",
        "reactions": []
      },
      {
        "id": 654539941,
        "author": "mattleibow",
        "body": "Hopefully #1387 will fix it...",
        "createdAt": "2020-07-07T01:07:59",
        "reactions": []
      },
      {
        "id": 716711440,
        "author": "dinonovak",
        "body": "any change to build this for v2.80.2 ?",
        "createdAt": "2020-10-26T17:37:31",
        "reactions": []
      },
      {
        "id": 716718749,
        "author": "mattleibow",
        "body": "This is already out on the SkiaSharp.NativeAssets.Linux packages",
        "createdAt": "2020-10-26T17:50:05",
        "reactions": []
      },
      {
        "id": 716761303,
        "author": "dinonovak",
        "body": "Found it , sorry for confusion.",
        "createdAt": "2020-10-26T19:06:07",
        "reactions": []
      },
      {
        "id": 717000138,
        "author": "mattleibow",
        "body": "No prob. Let me know if there are any problems by opening a new issue. Have fun drawing! ",
        "createdAt": "2020-10-27T05:48:49",
        "reactions": []
      },
      {
        "id": 2627877986,
        "author": "aicynide",
        "body": "Not working in android ",
        "createdAt": "2025-01-31T17:35:58",
        "reactions": []
      }
    ]
  }
}