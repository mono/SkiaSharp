{
  "number": 1675,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] build error, \u0022the type forward for ... causes a cycle\u0022 (Managed build only / windows 10 / visual studio)",
  "body": "I\u0027m trying to build using the build instructions found [here](https://github.com/mono/SkiaSharp/wiki/Building-SkiaSharp#managed-only-building) (Managed only building) but i ran into errors when building UWP\r\n\u0060\u0060\u0060\r\n    C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\Binding.Shared\\PlatformConfiguration.cs(37,15): error CS0103: The name \u0027Package\u0027 does not exist in the current context [C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\HarfBuzzSharp.UWP\\HarfBuzzSharp.UWP.csproj]\r\n         C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\Binding.Shared\\PlatformConfiguration.cs(38,10): error CS0731: The type forwarder for type \u0027Windows.System.ProcessorArchitecture\u0027 in assembly \u0027Windows\u0027 causes a cycle [C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\HarfBuzzSharp.UWP\\HarfBuzzSharp.UWP.csproj]\r\n         C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\Binding.Shared\\PlatformConfiguration.cs(38,10): error CS1069: The type name \u0027ProcessorArchitecture\u0027 could not be found in the namespace \u0027Windows.System\u0027. This type has been forwarded to assembly \u0027Windows, Version=255.255.255.255, Culture=neutral, PublicKeyToken=null, ContentType=WindowsRuntime\u0027 Consider adding a reference to that assembly. [C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\HarfBuzzSharp.UWP\\HarfBuzzSharp.UWP.csproj]\r\n         C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\Binding.Shared\\PlatformConfiguration.cs(38,41): error CS0731: The type forwarder for type \u0027Windows.System.ProcessorArchitecture\u0027 in assembly \u0027Windows\u0027 causes a cycle [C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\HarfBuzzSharp.UWP\\HarfBuzzSharp.UWP.csproj]\r\n         C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\Binding.Shared\\PlatformConfiguration.cs(38,41): error CS1069: The type name \u0027ProcessorArchitecture\u0027 could not be found in the namespace \u0027Windows.System\u0027. This type has been forwarded to assembly \u0027Windows, Version=255.255.255.255, Culture=neutral, PublicKeyToken=null, ContentType=WindowsRuntime\u0027 Consider adding a reference to that assembly. [C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\HarfBuzzSharp.UWP\\HarfBuzzSharp.UWP.csproj]\r\n         C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\Binding.Shared\\PlatformConfiguration.cs(39,20): error CS0103: The name \u0027ProcessorArchitecture\u0027 does not exist in the current context [C:\\Users\\Thomas\\source\\repos\\SkiaSharp\\binding\\HarfBuzzSharp.UWP\\HarfBuzzSharp.UWP.csproj]\r\n\r\n\u0060\u0060\u0060\r\nhere is the full output of .\\bootstrapper.ps1 -t everything --skipExternals=all\r\n[log.txt](https://github.com/mono/SkiaSharp/files/6220640/log.txt)\r\n\r\nI looked it up on google, some indications were pointing towards the fact that the windows10 sdk may be wrongly installed, i tried to uninstall and reinstall visual studio, the error remains.\r\n\r\nAlso one other problem that i noticed, is that the \u0022Windows 10 SDK (10.0.10240)\u0022 is not available(anymore?) in the visual studio installer (so i did not install it, may the problem be coming from this?), are the compile instruction up to date ?\r\n\r\nMy ulterior motive for building skiasharp is to do some debugging and development for Xamarin.Forms on the Xamarin Android and Xamarin iOS platforms only , I dont need UWP. Is there a way to disable completely the build of UWP?\r\n\r\n\r\n**Expected Behavior**\r\nthe compilation should be successful\r\n\r\n**Actual Behavior**\r\nthe compilation triggers errors\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  latest commit as of 29 March 2021 (1a779558b3696412f2c13b7fb64b554f30daf4e7)\r\n- IDE:  Visual Studio \r\n- Operating System Microsoft Windows 10 Professional edition , version 10.0.19042 Build 19042\r\n",
  "author": {
    "login": "tmijieux",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2021-03-29T09:31:52",
  "updatedAt": "2022-08-19T00:02:51",
  "closedAt": "2021-04-02T19:42:50",
  "commentCount": 2,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:17:00.3856802Z",
    "reactions": [],
    "comments": [
      {
        "id": 810045448,
        "author": "tmijieux",
        "body": "after digging a little in the azure yaml config files , i found this:\r\nhttps://github.com/mono/SkiaSharp/blob/1a779558b3696412f2c13b7fb64b554f30daf4e7/scripts/azure-templates-bootstrapper.yml#L122-L131\r\n\r\nAs i supposed downloading the exact version 10.0.10240 solved the build problems, even if i had to run some commands several times (i had to generate documentation, then re run \u0060externals-download\u0060 and then the \u0060everything \u0060again ...)\r\n\r\nalso the nuget target does not work on windows as the \u0022windows\u0022 solution does not build the ios stuff by default .\r\n\r\nwhen using skipExternals option, (using downloaded native libraries), shouldn\u0027t that be possible to build the managed dll even for mac/ios and use the downloaded ios native stuff and build the complete nuget even on windows ? \r\nI dont think we need to run mtouch on the managed dll stuff as it will be done by projects using the library ...\r\nIs there a mac only tool used to generate the bindings library maybe ?",
        "createdAt": "2021-03-30T08:56:45",
        "reactions": []
      },
      {
        "id": 812682325,
        "author": "tmijieux",
        "body": "solution:\r\nadd \u0060-packall=true -buildall=true\u0060 options to the bootstrapper.ps1 commandline",
        "createdAt": "2021-04-02T19:42:50",
        "reactions": []
      }
    ]
  }
}