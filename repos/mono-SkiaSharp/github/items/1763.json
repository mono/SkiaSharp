{
  "number": 1763,
  "type": "issue",
  "state": "closed",
  "title": "[QUESTION] Why does SKFontStyleWidth not work correctly with some fonts?",
  "body": "I am using SkiaSharp 2.80.2 on Windows 10 with a .NET Core project.\r\n\r\nI am running into a weird issue where it appears that \u0060SKFontStyleWidth\u0060 does not change a font\u0027s width at all once it\u0027s written out on a canvas. I am attempting to write using the Century Gothic font, and I noticed this issue when I used \u0060SKTypeface.FromFamilyName\u0060 to create a \u0060SKTypeface\u0060 using \u0060SKFontStyleWidth.UltraCondensed\u0060 first, then \u0060SKFontStyleWidth.UltraExpanded\u0060 after, and both times, the \u0060FontWidth\u0060 property is set to 5 (which if that maps to the \u0060SKFontStyleWidth\u0060 enum, would be \u0060Normal\u0060, instead of what I specified):\r\n\r\n\u0060\u0060\u0060\r\nfontFamily = SKTypeface.FromFamilyName(\u0022Century Gothic\u0022, SKFontStyleWeight.Bold, SKFontStyleWidth.UltraCondensed, SKFontStyleSlant.Italic);\r\n{SkiaSharp.SKTypeface}\r\n    FamilyName: \u0022Century Gothic\u0022\r\n    FontSlant: Italic\r\n    FontStyle: {SkiaSharp.SKFontStyle}\r\n    FontWeight: 700\r\n    FontWidth: 5\r\n    GlyphCount: 666\r\n    Handle: 0x000002b080612d50\r\n    IgnorePublicDispose: true\r\n    IsBold: true\r\n    IsDisposed: false\r\n    IsFixedPitch: false\r\n    IsItalic: true\r\n    OwnsHandle: true\r\n    Style: BoldItalic\r\n    TableCount: 18\r\n    UnitsPerEm: 2048\r\nfontFamily = SKTypeface.FromFamilyName(\u0022Century Gothic\u0022, SKFontStyleWeight.Bold, SKFontStyleWidth.UltraExpanded, SKFontStyleSlant.Italic);\r\n{SkiaSharp.SKTypeface}\r\n    FamilyName: \u0022Century Gothic\u0022\r\n    FontSlant: Italic\r\n    FontStyle: {SkiaSharp.SKFontStyle}\r\n    FontWeight: 700\r\n    FontWidth: 5\r\n    GlyphCount: 666\r\n    Handle: 0x000002b080612d50\r\n    IgnorePublicDispose: true\r\n    IsBold: true\r\n    IsDisposed: false\r\n    IsFixedPitch: false\r\n    IsItalic: true\r\n    OwnsHandle: true\r\n    Style: BoldItalic\r\n    TableCount: 18\r\n    UnitsPerEm: 2048\r\n\u0060\u0060\u0060\r\n\r\nI also tried using the Arial font. In that font\u0027s case, \u0060SKFontStyleWidth.UltraCondensed\u0060 resulted in a \u0060FontWidth\u0060 of 3, while \u0060SKFontStyleWidth.UltraExpanded\u0060 resulted in 5. I would have expected a much wider variance between 3 and 5.\r\n\r\nCan someone help me understand what\u0027s going on here, or if I\u0027m doing something wrong in my attempt to change letter spacing for a font?",
  "author": {
    "login": "washamdev",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2021-08-09T02:49:56",
  "updatedAt": "2022-08-19T00:02:35",
  "closedAt": "2021-08-09T18:41:11",
  "commentCount": 6,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:17:37.3053077Z",
    "reactions": [],
    "comments": [
      {
        "id": 895008117,
        "author": "Gillibald",
        "body": "Are you sure a ultra condensed variant of \u0060Century Gothic\u0060 is installed on your system? ",
        "createdAt": "2021-08-09T07:23:16",
        "reactions": []
      },
      {
        "id": 895285759,
        "author": "washamdev",
        "body": "@Gillibald Forgive me, I don\u0027t 100% understand how fonts work in this regard. I have been using Inkscape to generate SVGs that include text, and in their GUI, you can specify the \u0022letter spacing\u0022 for any font:\r\n\r\n![image](https://user-images.githubusercontent.com/4692325/128725657-8a2a1e5a-6bd3-4451-aa4f-0f03bb0ebd6c.png)\r\n\r\nIn the case of Arial, I can set letter spacing to -6px to make it look nice and condensed. I was trying to do the same thing with SkiaSharp, and all I could find to duplicate that kind of reduction in letter spacing was to use \u0060SKFontStyleWidth\u0060, but it\u0027s not working the same. Am I just misunderstanding something to expect SkiaSharp to have the same capabilities as Inkscape? Or is there a different way to achieve different letter spacing for all fonts in SkiaSharp?",
        "createdAt": "2021-08-09T14:46:20",
        "reactions": []
      },
      {
        "id": 895293688,
        "author": "Gillibald",
        "body": "That feature isn\u0027t something that works out of the box. Inkscape probably adjusts the spacing between glyphs. To achieve the same with SkiaSharp you need to manually adjust the glypg layout. That is something that needs more work.",
        "createdAt": "2021-08-09T14:55:57",
        "reactions": []
      },
      {
        "id": 895300075,
        "author": "washamdev",
        "body": "@Gillibald Interesting, didn\u0027t realize that. Thank you very much for the information! Very helpful.\r\n\r\nIs there a better library to use for writing text onto an image that supports more features, like adjusting letter spacing? Or is SkiaSharp the best there is right now?",
        "createdAt": "2021-08-09T15:03:20",
        "reactions": []
      },
      {
        "id": 895306732,
        "author": "Gillibald",
        "body": "I suggest using https://github.com/toptensoftware/RichTextKit that works on top of SkiaSharp",
        "createdAt": "2021-08-09T15:10:53",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-06T14:17:37.0624844Z"
          }
        ]
      },
      {
        "id": 895451581,
        "author": "washamdev",
        "body": "You\u0027ve been very helpful, @Gillibald, thank you for your quick answers and tips!",
        "createdAt": "2021-08-09T18:41:11",
        "reactions": []
      }
    ]
  }
}