{
  "number": 2426,
  "type": "issue",
  "state": "closed",
  "title": "[QUESTION] SKTypeface.FromStream in MAUI",
  "body": "Hi \r\nI am porting a Xamarin app to Maui.\r\nToday we do it like this in Xamarin. \r\n\u0060\u0060\u0060\r\nvar assembly = IntrospectionExtensions.GetTypeInfo(typeof(SkiaSharpHelper)).Assembly;\r\nStream stream =assembly.GetManifestResourceStream(\u0022LiberoClub.Resources.Fonts.babyplanetregular.otf\u0022);\r\n_babyPlanetRegular = SKTypeface.FromStream(stream);\r\n\u0060\u0060\u0060\r\n\r\nbut this is not working when the font files are of type MauiFont in the projectfile.\r\n\u0060\u0060\u0060\r\n\u003C!-- Fonts --\u003E\r\n\u003CMauiFont Include=\u0022Resources\\Fonts\\*\u0022 /\u003E \r\n\u0060\u0060\u0060\r\n\r\nSo to get this to work I need to add this line for every font in the project. \r\n\u0060\u0060\u0060\r\n\u003CItemGroup\u003E\r\n\t  \u003CEmbeddedResource Include=\u0022Resources\\Fonts\\babyplanetregular.otf\u0022 /\u003E   \r\n\u003C/ItemGroup\u003E\r\n\u0060\u0060\u0060\r\n\r\nIs there some way to do this where I don\u0027t need to manual add the font twice.\r\n\r\n//Thanks Joacim",
  "author": {
    "login": "JoacimWall",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/feature-request",
      "color": "ededed"
    },
    {
      "name": "area/SkiaSharp.Views.Maui",
      "color": "0052cc"
    },
    {
      "name": "partner/maui",
      "color": "A2C0F9"
    }
  ],
  "assignees": [],
  "milestone": "Backlog",
  "createdAt": "2023-03-24T07:49:52",
  "updatedAt": "2025-07-08T16:10:43",
  "closedAt": "2024-03-01T14:05:35",
  "commentCount": 10,
  "reactionCount": 1,
  "engagement": {
    "syncedAt": "2026-02-06T13:26:10.5477738Z",
    "reactions": [
      {
        "user": "DennisWelu",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:26:10.5477811Z"
      }
    ],
    "comments": [
      {
        "id": 1597568158,
        "author": "mattleibow",
        "body": "Maybe MAUI should get an API to get a stream for a font and/or image...",
        "createdAt": "2023-06-19T18:10:10",
        "reactions": [
          {
            "user": "DennisWelu",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:26:08.6387289Z"
          }
        ]
      },
      {
        "id": 1701215551,
        "author": "DennisWelu",
        "body": "It would be really cool if you could use SKTypeFace.FromFamilyName(fontFamilyName) where fontFamilyName will reference names as registered custom fonts in MAUI. Then you could skip the stream loading etc. But I\u0027m thinking that would be difficult because the SKTypeFace implementation is \u0022probably\u0022 just looking at registered system fonts.",
        "createdAt": "2023-08-31T15:00:36",
        "reactions": []
      },
      {
        "id": 1730350472,
        "author": "activa",
        "body": "\u003E It would be really cool if you could use SKTypeFace.FromFamilyName(fontFamilyName) where fontFamilyName will reference names as registered custom fonts in MAUI. Then you could skip the stream loading etc. But I\u0027m thinking that would be difficult because the SKTypeFace implementation is \u0022probably\u0022 just looking at registered system fonts.\r\n\r\nSKTypeFace.FromFamilyName() works perfectly in Xamarin Forms apps that have embedded fonts. Unfortunately, it doesn\u0027t work in MAUI",
        "createdAt": "2023-09-21T21:53:46",
        "reactions": [
          {
            "user": "DennisWelu",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:26:09.0256649Z"
          }
        ]
      },
      {
        "id": 1973156289,
        "author": "LuStefanoX",
        "body": "It\u0027s been a while since the last post, but if anyone still needs it, this is how I made a workaround for MAUI\r\nI have packed the ttf file in the \u0022Fonts\u0022 folder\r\n\r\nvar textPaint = new SKPaint();\r\nusing var data = await FileSystem.OpenAppPackageFileAsync(\u0022YourTTFFile.ttf\u0022);\r\ntextPaint.Typeface = SKTypeface.FromStream(data);\r\n\r\ncanvas.DrawIconifiedText(text, x, x, textPaint);",
        "createdAt": "2024-03-01T13:00:45",
        "reactions": [
          {
            "user": "DennisWelu",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:26:09.2588239Z"
          },
          {
            "user": "ftp-obdev",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:26:09.2588244Z"
          },
          {
            "user": "alexlogvin",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:26:09.2588245Z"
          },
          {
            "user": "standamikes",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:26:09.2588246Z"
          }
        ]
      },
      {
        "id": 1973266076,
        "author": "mattleibow",
        "body": "Thanks for that update @LuStefanoX \r\n\r\nI believe this is the correct way to get fonts. For raw assets, this will also work. For image, this is a bit harder since they are packaged in a special way on Android but also have scaling suffixes. However, this issue is for fonts and I think your code is the correct and best way.",
        "createdAt": "2024-03-01T14:05:35",
        "reactions": []
      },
      {
        "id": 2168155780,
        "author": "albilaga",
        "body": "\u003E It\u0027s been a while since the last post, but if anyone still needs it, this is how I made a workaround for MAUI I have packed the ttf file in the \u0022Fonts\u0022 folder\r\n\u003E \r\n\u003E var textPaint = new SKPaint(); using var data = await FileSystem.OpenAppPackageFileAsync(\u0022YourTTFFile.ttf\u0022); textPaint.Typeface = SKTypeface.FromStream(data);\r\n\u003E \r\n\u003E canvas.DrawIconifiedText(text, x, x, textPaint);\r\n\r\n@LuStefanoX do you successfully using this on android as well? Weird thing in my case sometime \u0060FileSystem.OpenAppPackageFileAsync\u0060 throw File not found exception. Working well with \u0060MauiAsset\u0060 but I don\u0027t want to duplicate the font if possiblle :(",
        "createdAt": "2024-06-14T14:21:43",
        "reactions": []
      },
      {
        "id": 2169209370,
        "author": "LuStefanoX",
        "body": "@albilaga \r\nIt works for me for Android and iOS.\r\n- Did you add the font in the Font Folder and changed the property to \u0022MAUIFont\u0022?\r\n- And did you add the fonts in the MAUIAppBuilder in MauiProgram.cs - class like this?\r\n \u0060.ConfigureFonts(fonts =\u003E{\r\n    fonts.AddFont(\u0022nameOfYourFont.ttf\u0022, \u0022nameOfYourFont\u0022),\r\n    fonts.AddFont(\u0022nameOfYourFont2.ttf\u0022, \u0022nameOfYourFont2\u0022),\r\n   }\u0060",
        "createdAt": "2024-06-15T08:33:22",
        "reactions": []
      },
      {
        "id": 2169430347,
        "author": "albilaga",
        "body": "@LuStefanoX yes I am adding both. Sometimes it is working and sometimes it is crashing so that\u0027s why I am adding it to \u0060MauiAsset\u0060 just to make it safe. Besides in here it is said https://learn.microsoft.com/en-us/dotnet/maui/platform-integration/storage/file-system-helpers?view=net-maui-8.0\u0026tabs=android it is rely on \u0060MauiAsset\u0060. Not really sure tbh",
        "createdAt": "2024-06-15T12:16:02",
        "reactions": []
      },
      {
        "id": 3022096793,
        "author": "insertintosb",
        "body": "@LuStefanoX  \n\n#\n\n\u003E It\u0027s been a while since the last post, but if anyone still needs it, this is how I made a workaround for MAUI I have packed the ttf file in the \u0022Fonts\u0022 folder\n\u003E \n\u003E var textPaint = new SKPaint(); using var data = await FileSystem.OpenAppPackageFileAsync(\u0022YourTTFFile.ttf\u0022); textPaint.Typeface = SKTypeface.FromStream(data);\n\u003E \n\u003E canvas.DrawIconifiedText(text, x, x, textPaint);\n\n this is works  for SKTypeFace.FromFamilyName()  ??",
        "createdAt": "2025-07-01T06:44:23",
        "reactions": []
      },
      {
        "id": 3049533483,
        "author": "mattleibow",
        "body": "I may be wrong, but I think all MauiFont items are also assets. Looking at the code here seems to indicate they got to the same place as MauiAsset: https://github.com/dotnet/maui/blob/b6d3543c12f0f2a1b5fc214f2ef1b23baf16ef9e/src/SingleProject/Resizetizer/src/nuget/buildTransitive/Microsoft.Maui.Resizetizer.After.targets#L519",
        "createdAt": "2025-07-08T16:10:43",
        "reactions": []
      }
    ]
  }
}