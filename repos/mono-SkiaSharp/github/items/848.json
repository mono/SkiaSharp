{
  "number": 848,
  "type": "issue",
  "state": "open",
  "title": "PDF output size",
  "body": "Running this sample https://github.com/mono/SkiaSharp/blob/master/samples/Gallery/Shared/Samples/CreatePdfSample.cs which creates a simple two pages PDF file, the created file (under Windows) is about 510KB\r\n\r\nIs there any compression setting to get the output PDF file size lighter? 510KB for a two pages PDF with a simple text seems to be somehow heavy... Any hints?  ",
  "author": {
    "login": "neodynamic",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/enhancement",
      "color": "84b6eb"
    },
    {
      "name": "type/question",
      "color": "daffa8"
    },
    {
      "name": "type/feature-request",
      "color": "ededed"
    },
    {
      "name": "backend/PDF",
      "color": "1acea7"
    }
  ],
  "assignees": [],
  "milestone": "Backlog",
  "createdAt": "2019-05-22T20:59:41",
  "updatedAt": "2025-11-09T17:18:07",
  "commentCount": 39,
  "reactionCount": 11,
  "engagement": {
    "syncedAt": "2026-02-06T12:38:45.4718431Z",
    "reactions": [
      {
        "user": "Alexbits",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718457Z"
      },
      {
        "user": "gresolio",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718461Z"
      },
      {
        "user": "zejji",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718464Z"
      },
      {
        "user": "ascott18",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718465Z"
      },
      {
        "user": "marcoregueira",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718466Z"
      },
      {
        "user": "romfir",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718467Z"
      },
      {
        "user": "wstaelens",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718468Z"
      },
      {
        "user": "flensrocker",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718469Z"
      },
      {
        "user": "papakojo",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.471847Z"
      },
      {
        "user": "isaksky",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718471Z"
      },
      {
        "user": "KillyMXI",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:38:45.4718472Z"
      }
    ],
    "comments": [
      {
        "id": 500377735,
        "author": "charlesroddie",
        "body": "@neodynamic Can you see what [Skia](https://github.com/google/skia/blob/master/site/user/sample/pdf.md) produces?",
        "createdAt": "2019-06-10T11:02:09",
        "reactions": []
      },
      {
        "id": 500379620,
        "author": "neodynamic",
        "body": "@charlesroddie no, and you?",
        "createdAt": "2019-06-10T11:09:44",
        "reactions": []
      },
      {
        "id": 504812526,
        "author": "mattleibow",
        "body": "You could have a look at setting the quality down: https://docs.microsoft.com/en-us/dotnet/api/skiasharp.skdocumentpdfmetadata",
        "createdAt": "2019-06-24T02:00:22",
        "reactions": []
      },
      {
        "id": 656711496,
        "author": "neodynamic",
        "body": "We\u0027ve been reviewing this matter and we can conclude that the concerns about pdf output file size cannot be improved because the following... it seems that Skia (native lib) [PDF backend design](https://skia.org/dev/design/pdftheory#Fonts) will embed any font file needed to render the text at the target device. That page states the following:\r\n\r\n\u003E We can\u0027t assume that an arbitrary font will be available at PDF view time, so we embed all fonts in accordance with modern PDF guidelines.\r\n\r\nThe sample here [https://github.com/mono/SkiaSharp/blob/master/samples/Gallery/Shared/Samples/CreatePdfSample.cs](https://github.com/mono/SkiaSharp/blob/master/samples/Gallery/Shared/Samples/CreatePdfSample.cs) will use the default font in the system, which under Windows, it\u0027s likely to be \u0060Segoe UI\u0060 which TTF file size is about 900KB\r\nThe output PDF file for that simple test where a single text is drawn is about 510KB. That big size for such a simple pdf is because \u0060Segoe UI\u0060 font file is embedded in the file by Skia design. We\u0027ve made another tests by drawing Chinese text using the \u0060Yu Gothic\u0060 font which file size is about 13MB! and the output pdf file is about 8MB! which confirms that the size is because the font files being embedded. Linked fonts seems not to be supported which could make the pdf output file size smaller. \r\n\r\nIf no one here has more comments on this matter, then @mattleibow you can close this issue. ",
        "createdAt": "2020-07-10T14:40:49",
        "reactions": [
          {
            "user": "gresolio",
            "content": "confused",
            "createdAt": "2026-02-06T12:38:36.9791044Z"
          },
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:36.9791047Z"
          },
          {
            "user": "qwertzou",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:36.9791048Z"
          }
        ]
      },
      {
        "id": 656730932,
        "author": "Gillibald",
        "body": "You could use HarfBuzz\u0027s subsetting to reduce the font\u0027s size. Then load that font to produce the PDF. Sadly this isn\u0027t supported by HarfBuzzSharp. Yet....",
        "createdAt": "2020-07-10T15:19:45",
        "reactions": [
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.1958522Z"
          },
          {
            "user": "azoof-ahmed",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.1958526Z"
          },
          {
            "user": "kyleKBlee",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.1958527Z"
          }
        ]
      },
      {
        "id": 656741130,
        "author": "neodynamic",
        "body": "Yes, that could be the only way to reduce pdf output file size...",
        "createdAt": "2020-07-10T15:39:34",
        "reactions": []
      },
      {
        "id": 656857584,
        "author": "mattleibow",
        "body": "Looking at the skia code, it seems there is 2 subsetters built in. But, this is disabled because we are not building with either icu or harfbuzz/sfntly.\r\n\r\nHowever, there is a hook that makes subsetting work, but it is not a \u0022public API\u0022. But, since it is fairly simple, we might be able to do something. The API hasn\u0027t changed much, so it might just be safe to do something. \r\n\r\nI\u0027ll have a look at what we can do. Can\u0027t promise anything as I haven\u0027t had a look at exactly how the PDF is constructed, but it seems to only write the fonts when the PDF is closed, so we could potentially add a argument there, or in the metadata in the constructor. They actually have an enum there that allows you to pick either harfbuzz or sfntly. Seems to be not too hard to add one for us, and then we can use _any_ font subsetter.",
        "createdAt": "2020-07-10T19:42:53",
        "reactions": []
      },
      {
        "id": 656928995,
        "author": "mattleibow",
        "body": "Started a thing on the skia bugtracker. I want to do this right: https://bugs.chromium.org/p/skia/issues/detail?id=10491\r\nAnd discussion: https://groups.google.com/g/skia-discuss/c/XIvDEEwZrAM",
        "createdAt": "2020-07-10T22:54:24",
        "reactions": [
          {
            "user": "Alexbits",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.9202999Z"
          },
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.9203002Z"
          },
          {
            "user": "Tieno",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.9203004Z"
          },
          {
            "user": "johmarjac",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:37.9203005Z"
          }
        ]
      },
      {
        "id": 680711946,
        "author": "Alexbits",
        "body": "\u003E You could have a look at setting the quality down: https://docs.microsoft.com/en-us/dotnet/api/skiasharp.skdocumentpdfmetadata\r\n\r\nHi @mattleibow. I\u0027ve tried to set lower EncodingQuality and RasterDpi and they have no impact on the output file at all. It outputs the same file size and quality. Latest SkiaSharp on Windows 10.",
        "createdAt": "2020-08-26T07:32:58",
        "reactions": []
      },
      {
        "id": 903439187,
        "author": "reinux",
        "body": "Any progress on this? Japanese/Chinese fonts are easily 10MB\u002B (per weight), so this becomes nigh unusable.",
        "createdAt": "2021-08-23T04:46:00",
        "reactions": [
          {
            "user": "Usergitbit",
            "content": "confused",
            "createdAt": "2026-02-06T12:38:38.4264431Z"
          },
          {
            "user": "JandosHk",
            "content": "confused",
            "createdAt": "2026-02-06T12:38:38.4264434Z"
          },
          {
            "user": "lindexi",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.4264435Z"
          }
        ]
      },
      {
        "id": 947109278,
        "author": "johmarjac",
        "body": "Cant believe this is an issue. You should let the developer choose whether to embed the font file or not.",
        "createdAt": "2021-10-19T21:13:11",
        "reactions": [
          {
            "user": "MarcinZiabek",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059521Z"
          },
          {
            "user": "reinux",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059524Z"
          },
          {
            "user": "Usergitbit",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059526Z"
          },
          {
            "user": "JandosHk",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059527Z"
          },
          {
            "user": "MauroMaciel",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059528Z"
          },
          {
            "user": "robodrunk",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059529Z"
          },
          {
            "user": "cimpok",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059529Z"
          },
          {
            "user": "qwertzou",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.705953Z"
          },
          {
            "user": "kyleKBlee",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.7059531Z"
          }
        ]
      },
      {
        "id": 953206329,
        "author": "jeffska",
        "body": "@mattleibow I was able to build the Windows libSkiaSharp using Skia\u0027s support for Harfbuzz subsetting. It seems to work fine. My test PDF that was over 280 KB went down to less than 10 KB with the subsetting. Other than changing the Skia build switches, the only thing I had to do was edit Skia\u0027s Harfbuzz BUILD.gn since the forked version appears to be out of sync with the Harfbuzz commit in the DEPS.\r\n\r\nCan you think of any reason that this wouldn\u0027t be a viable solution?",
        "createdAt": "2021-10-27T18:37:08",
        "reactions": [
          {
            "user": "reinux",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363518Z"
          },
          {
            "user": "MarcinZiabek",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.936352Z"
          },
          {
            "user": "krstesizgoric",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363521Z"
          },
          {
            "user": "petr-fleischmann",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363522Z"
          },
          {
            "user": "ebussa",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363523Z"
          },
          {
            "user": "jksware",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363524Z"
          },
          {
            "user": "Usergitbit",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363524Z"
          },
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363525Z"
          },
          {
            "user": "jbartlau",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363525Z"
          },
          {
            "user": "flensrocker",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:38.9363526Z"
          }
        ]
      },
      {
        "id": 1004824086,
        "author": "wstaelens",
        "body": "any updates regarding the file size/fonts?",
        "createdAt": "2022-01-04T13:45:52",
        "reactions": []
      },
      {
        "id": 1012842634,
        "author": "reinux",
        "body": "Should I assume this has been abandoned and rebuild my project using another PDF library?",
        "createdAt": "2022-01-14T07:27:27",
        "reactions": []
      },
      {
        "id": 1012890623,
        "author": "johmarjac",
        "body": "\u003E Should I assume this has been abandoned and rebuild my project using another PDF library?\r\n\r\nIn case you go for a different library, don\u0027t use QuestPDF as it uses SkiaSharp under the hood and suffers from the same big file sizes. ",
        "createdAt": "2022-01-14T07:58:41",
        "reactions": []
      },
      {
        "id": 1012897530,
        "author": "reinux",
        "body": "Thanks for the tip. I don\u0027t understand how something like this wouldn\u0027t be recognized as a fatal issue.\r\n\r\n\u003E If no one here has more comments on this matter, then @mattleibow you can close this issue.\r\n\r\nLike, what.",
        "createdAt": "2022-01-14T08:06:53",
        "reactions": []
      },
      {
        "id": 1012906067,
        "author": "johmarjac",
        "body": "\u003E Thanks for the tip. I don\u0027t understand how something like this wouldn\u0027t be recognized as a fatal issue.\r\n\u003E \r\n\u003E \u003E If no one here has more comments on this matter, then @mattleibow you can close this issue.\r\n\u003E \r\n\u003E Like, what.\r\n\r\nDepends on the use case really. If you only generate a single pdf, no one cares for a 2 MB PDF on their PC. But I needed it for a production series for part protocol where I have a part every 2 seconds so every 2 seconds I need to save a pdf to network share to archive the part measure results. Then a 2 MB file every 2 seconds costs a hell lot of storage and that\u0027s just not going to work",
        "createdAt": "2022-01-14T08:21:24",
        "reactions": [
          {
            "user": "jksware",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:40.1102339Z"
          },
          {
            "user": "MauroMaciel",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:40.1102342Z"
          },
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:40.1102343Z"
          },
          {
            "user": "cimpok",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:40.1102344Z"
          }
        ]
      },
      {
        "id": 1012935523,
        "author": "wstaelens",
        "body": "indeed, thousands of small files are processed. 1000 * 2MB (while it is normally like 159KB - 236KB really means a big difference, in network traffic, processing time, diskspace etc...)\r\n\r\nit is related to fonts, but should be investigated by skia...\r\n\r\nanother reason: Most ISP mailboxes/corporate policies still have a mailbox email size limit of 10MB or 15MB. meaning 5 attachments vs. 15 - 20....",
        "createdAt": "2022-01-14T09:07:08",
        "reactions": []
      },
      {
        "id": 1013134644,
        "author": "jeffska",
        "body": "Even though I got the native Skia subsetting working with a custom build, I wasn\u0027t happy with it. It\u0027s a very naive implementation,, and doesn\u0027t perform well for larger (like CJK) fonts. It\u0027s better than nothing, but wasn\u0027t sufficient for my use. \r\n\r\nI ended up using a two-pass approach by building the font subsets before rendering and then passing those in to SkiaSharp.",
        "createdAt": "2022-01-14T13:51:10",
        "reactions": [
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:40.6701337Z"
          },
          {
            "user": "jksware",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:40.670134Z"
          }
        ]
      },
      {
        "id": 1013348116,
        "author": "KillyMXI",
        "body": "Is there a way to force Skia to render all text as paths?\r\nIs there a way to make a path from a particular text?",
        "createdAt": "2022-01-14T18:13:54",
        "reactions": []
      },
      {
        "id": 1014802272,
        "author": "KillyMXI",
        "body": "I\u0027m trying to run [pdf checker](https://www.datalogics.com/products/pdf-tools/pdf-checker/) on a file generated with SkiaSharp, with no strings in it.\r\nThe only non-empty notice in the report:\r\n\r\n\u0060\u0060\u0060\r\nCleanup Results\r\n    Errors:\r\n        None\r\n    Information:\r\n        Contains conservatively compressed streams:\r\n            Uncompressed: (141 instances)\r\n    Checks Completed:\r\n        suboptimal-compression\r\n\u0060\u0060\u0060\r\n\r\nOptimizing it with 3rd party tools allowed to go from ~500kb to 100kb.\r\n\r\nLooks like there is something besides embedded fonts that could be optimized in Skia.\r\n\r\nMy sample is generated with Svg.Skia and the source only consists of vector lines. I\u0027ve no idea what can be so inefficient there.\r\n\r\nTrying to mess with SKDocumentPdfMetadata actually results in bigger file size. I would expect it to be a no-op, but if I supply any RasterDpi value or non-default EncodingQuality value, the file size jumps up another ~400kb. This doesn\u0027t make sense.",
        "createdAt": "2022-01-17T18:30:00",
        "reactions": [
          {
            "user": "jksware",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.126229Z"
          },
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.1262294Z"
          }
        ]
      },
      {
        "id": 1137106149,
        "author": "domagojmedo",
        "body": "Any updates for this? \r\n@mattleibow ",
        "createdAt": "2022-05-25T11:06:37",
        "reactions": [
          {
            "user": "wstaelens",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.3687859Z"
          },
          {
            "user": "Greybird",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.3687863Z"
          },
          {
            "user": "azoof-ahmed",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.3687864Z"
          },
          {
            "user": "romfir",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.3687865Z"
          }
        ]
      },
      {
        "id": 1187127051,
        "author": "Greybird",
        "body": "\u003E I ended up using a two-pass approach by building the font subsets before rendering and then passing those in to SkiaSharp.\r\n\r\n@jeffska : would you have a gist or some place where we could take a look at what you put in place to build the font subsets externally ?\r\n",
        "createdAt": "2022-07-18T11:22:55",
        "reactions": []
      },
      {
        "id": 1495460860,
        "author": "TimLee88",
        "body": "So, How is the progress?",
        "createdAt": "2023-04-04T07:11:07",
        "reactions": [
          {
            "user": "wstaelens",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929968Z"
          },
          {
            "user": "wstaelens",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.8929971Z"
          },
          {
            "user": "reinux",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929973Z"
          },
          {
            "user": "reinux",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.8929974Z"
          },
          {
            "user": "marcoregueira",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.8929975Z"
          },
          {
            "user": "marcoregueira",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929976Z"
          },
          {
            "user": "romfir",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929976Z"
          },
          {
            "user": "kookcomputer",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:41.8929977Z"
          },
          {
            "user": "kookcomputer",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929978Z"
          },
          {
            "user": "marcmognol",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929979Z"
          },
          {
            "user": "exendahal",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.892998Z"
          },
          {
            "user": "tinybaby",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:41.8929981Z"
          }
        ]
      },
      {
        "id": 1497017577,
        "author": "wstaelens",
        "body": "Wondering the same @TimLee88 ",
        "createdAt": "2023-04-05T07:05:17",
        "reactions": []
      },
      {
        "id": 1801814113,
        "author": "wstaelens",
        "body": "images in PDFs don\u0027t seem to support 1bpp which increases also the pdf size, correct?",
        "createdAt": "2023-11-08T12:41:28",
        "reactions": [
          {
            "user": "wstaelens",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:42.3833582Z"
          }
        ]
      },
      {
        "id": 1923650757,
        "author": "giz303",
        "body": "Hi, has anything happened here? We are looking for a solution.\r\nWe had been using https://github.com/Sicos1977/ChromeHtmlToPdf to convert from SVG to PDF and moved to SkiaSharp to get rid of the Google chrome processes.\r\n\r\nBut now the PDF files which had been between 20 and 40 KB are now over 500 KB big.\r\nSince we convert a lot of files in production, and need to send these PDF files over ethernet to terminals, we would like the file sizes to be lower again.\r\nAll used fonts are available on the terminals and there is no need to embed them in the PDF file.\r\n\r\nSo, is there someone workling on this issue or will this not be implemented at all?",
        "createdAt": "2024-02-02T11:49:05",
        "reactions": [
          {
            "user": "gresolio",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:42.6114138Z"
          },
          {
            "user": "wstaelens",
            "content": "eyes",
            "createdAt": "2026-02-06T12:38:42.6114141Z"
          },
          {
            "user": "wstaelens",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:38:42.6114142Z"
          }
        ]
      },
      {
        "id": 1924434844,
        "author": "jeffska",
        "body": "\u003E Hi, has anything happened here? We are looking for a solution. We had been using https://github.com/Sicos1977/ChromeHtmlToPdf to convert from SVG to PDF and moved to SkiaSharp to get rid of the Google chrome processes.\r\n\u003E \r\n\u003E But now the PDF files which had been between 20 and 40 KB are now over 500 KB big. Since we convert a lot of files in production, and need to send these PDF files over ethernet to terminals, we would like the file sizes to be lower again. All used fonts are available on the terminals and there is no need to embed them in the PDF file.\r\n\r\nHave you inspected the PDF to make sure the SVG isn\u0027t just being rasterized?\r\n",
        "createdAt": "2024-02-02T18:13:25",
        "reactions": [
          {
            "user": "wstaelens",
            "content": "-1",
            "createdAt": "2026-02-06T12:38:42.8766724Z"
          },
          {
            "user": "KillyMXI",
            "content": "-1",
            "createdAt": "2026-02-06T12:38:42.8766728Z"
          }
        ]
      },
      {
        "id": 1926427146,
        "author": "wstaelens",
        "body": "we\u0027ve seen an increase because 1bpp images are not supported. Resulting in larger pdf\u0027s (every 1bpp image is converted to 24bpp). The 1bpp pdf\u0027s happen when multifunctional devices make scans..\r\n\r\nWould like to see some support also for 1bpp... as this makes pdf\u0027s much much bigger. (especially when 1bpp glyph bitmaps are used)",
        "createdAt": "2024-02-05T08:11:00",
        "reactions": []
      },
      {
        "id": 2032137692,
        "author": "flensrocker",
        "body": "I don\u0027t care so much about performance or lib size and I already use HarfBuzzSharp for measuring text widths.\r\nIs there any way to (optionally) enable font subsetting with HarfBuzz?",
        "createdAt": "2024-04-02T14:04:15",
        "reactions": []
      },
      {
        "id": 2453026863,
        "author": "cimpok",
        "body": "It was yesterday I chose SkiaSharp for my back-end api server to create small simple, flowchart-like pages (svg for in-browser view, and pdf for printing of the same thing)   My reason to choose SkiaSharp was that it can do both.\r\n\r\nToday it took me four hours to track down that it is not me doing anything so wrong that a one-page pdf with a single rectangle and a label in it is half a megabyte large, the same is below 1KB in svg.  \r\nI need hundreds of these on my server, and my users would download them dozens per session, I was hoping to be in the ballpark of 10-50KB per file the maximum.  I spend sometimes hours to fine-tune a feature to save on bandwidth to give our users a fastest possible responding UI.  ...and I didn\u0027t even dare to test it with the UI set to Chinese.\r\n\r\n...and then I just found out here that in the FIVE years since 2019 when this issue was first mentioned here, with no workaround, nothing happened, except that the issue was closed. I guess to solve it would be not much more complicated than putting in an extra if statement into the code.  If this package was not 34MB code (zipped!) I might even had a look if I could try it\r\nI gave up on SkiSharp, just removed the NuGet package, trying PdfSharp and  SVG.NET now..\r\n\r\n...Btw, is open source dying?",
        "createdAt": "2024-11-02T15:42:19",
        "reactions": [
          {
            "user": "reinux",
            "content": "confused",
            "createdAt": "2026-02-06T12:38:43.5873296Z"
          }
        ]
      },
      {
        "id": 2456480814,
        "author": "reinux",
        "body": "\u003E ...Btw, is open source dying?\r\n\r\nI\u0027d say that in general, ongoing economic consolidation and things like covid have probably made anything free or Free or \u0022free\u0022 less sustainable.\r\n\r\nThat said, this is a reasonably reasonably active repo, so I can only conclude that they just don\u0027t care about pdf output.",
        "createdAt": "2024-11-05T08:01:46",
        "reactions": []
      },
      {
        "id": 2456486871,
        "author": "wstaelens",
        "body": "one of the problems is that these are not supported: https://github.com/mono/SkiaSharp/issues/848#issuecomment-1926427146\r\n\r\n\r\nNote: Microsoft is putting again effort on XPS after \u00B18 years. Might be an option to switch again to XPS files \uD83D\uDE4C ",
        "createdAt": "2024-11-05T08:04:56",
        "reactions": []
      },
      {
        "id": 2664430294,
        "author": "qwertzou",
        "body": "Since Skia cannot enable font subset, can we choose not to embed font files when generating PDFs? Or delete the embedded fonts after generating the PDF. Conventional fonts exist in Windows systems, and deleting embedded fonts has no impact on PDFs",
        "createdAt": "2025-02-18T01:53:15",
        "reactions": []
      },
      {
        "id": 2664846325,
        "author": "wstaelens",
        "body": "\u003E Since Skia cannot enable font subset, can we choose not to embed font files when generating PDFs? Or delete the embedded fonts after generating the PDF. Conventional fonts exist in Windows systems, and deleting embedded fonts has no impact on PDFs\n\nnot embedding fonts _can_ have a huge negative impact on/when printing, which relies on the font information embedded.\n\nsupporting 1bpp images would be needed to reduce size :-)",
        "createdAt": "2025-02-18T07:47:22",
        "reactions": []
      },
      {
        "id": 2664855446,
        "author": "qwertzou",
        "body": "\u003E \u003E Since Skia cannot enable font subset, can we choose not to embed font files when generating PDFs? Or delete the embedded fonts after generating the PDF. Conventional fonts exist in Windows systems, and deleting embedded fonts has no impact on PDFs\n\u003E \n\u003E not embedding fonts _can_ have a huge negative impact on/when printing, which relies on the font information embedded.\n\u003E \n\u003E supporting 1bpp images would be needed to reduce size :-)\n\nHave you tried deleting embedded fonts?",
        "createdAt": "2025-02-18T07:52:38",
        "reactions": []
      },
      {
        "id": 2664871702,
        "author": "wstaelens",
        "body": "\u003E \u003E \u003E Since Skia cannot enable font subset, can we choose not to embed font files when generating PDFs? Or delete the embedded fonts after generating the PDF. Conventional fonts exist in Windows systems, and deleting embedded fonts has no impact on PDFs\n\u003E \u003E \n\u003E \u003E \n\u003E \u003E not embedding fonts _can_ have a huge negative impact on/when printing, which relies on the font information embedded.\n\u003E \u003E supporting 1bpp images would be needed to reduce size :-)\n\u003E \n\u003E Have you tried deleting embedded fonts?\n\nanother optimization should be to check if the same font/font tables are added per page, if they can be set centrally to reduce the resources per page. ",
        "createdAt": "2025-02-18T08:01:27",
        "reactions": []
      },
      {
        "id": 2665208222,
        "author": "qwertzou",
        "body": "\u003E \u003E \u003E \u003E Since Skia cannot enable font subset, can we choose not to embed font files when generating PDFs? Or delete the embedded fonts after generating the PDF. Conventional fonts exist in Windows systems, and deleting embedded fonts has no impact on PDFs\n\u003E \u003E \u003E \n\u003E \u003E \u003E \n\u003E \u003E \u003E not embedding fonts _can_ have a huge negative impact on/when printing, which relies on the font information embedded.\n\u003E \u003E \u003E supporting 1bpp images would be needed to reduce size :-)\n\u003E \u003E \n\u003E \u003E \n\u003E \u003E Have you tried deleting embedded fonts?\n\u003E \n\u003E another optimization should be to check if the same font/font tables are added per page, if they can be set centrally to reduce the resources per page.\n\nDo you know how to remove embedded fonts in PDFs through code? I would like to try",
        "createdAt": "2025-02-18T10:25:40",
        "reactions": []
      },
      {
        "id": 3508542827,
        "author": "jbartlau",
        "body": "\u003E [@mattleibow](https://github.com/mattleibow) I was able to build the Windows libSkiaSharp using Skia\u0027s support for Harfbuzz subsetting. It seems to work fine.\n\n@jeffska did you ever think of opening a PR for this change? Would this be welcome, @mattleibow ? This is such a great project, however the PDF file size issue keeps coming back all the time. I\u0027d rather not have to fork and lose the benefits of main line support. However I can offer to create a PR and do thorough testing if there\u0027s a chance for getting a merge. ",
        "createdAt": "2025-11-09T17:18:07",
        "reactions": [
          {
            "user": "wstaelens",
            "content": "heart",
            "createdAt": "2026-02-06T12:38:45.4216154Z"
          },
          {
            "user": "flensrocker",
            "content": "heart",
            "createdAt": "2026-02-06T12:38:45.4216157Z"
          }
        ]
      }
    ]
  }
}