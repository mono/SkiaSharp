{
  "number": 3192,
  "type": "pr",
  "state": "closed",
  "title": "Add riscv64 build support",
  "body": "**Description of Change**\r\n\r\nAdd linux-riscv64 and linux-musl-riscv64 support. Debian 12 with clang 19 and libfontconfig1_2.15.0-2 (http://deb.debian.org/debian/pool/main/f/fontconfig/) is a good baseline to start.\r\n\r\n**Bugs Fixed**\r\n\r\n- Fixes https://github.com/mono/SkiaSharp/issues/3191\r\n\r\n\u003C!-- Provide links to issues here. Ensure that a GitHub issue was created for your feature or bug fix before sending PR. --\u003E\r\n\r\n**API Changes**\r\n\r\nNone.\r\n\r\n\u003C!-- REPLACE THIS COMMENT\r\n\r\nList all API changes here (or just put None), example:\r\n\r\nAdded: \r\n \r\n- \u0060string Class.Property { get; set; }\u0060\r\n- \u0060void Class.Method();\u0060\r\n\r\nChanged:\r\n\r\n - \u0060object Cell.OldPropertyName =\u003E object Cell.NewPropertyName\u0060\r\n\r\n--\u003E\r\n\r\n**Behavioral Changes**\r\n\r\nNone.\r\n\r\n\u003C!-- Describe any non-bug related behavioral changes that may change how users app behaves when upgrading to this version of the codebase. --\u003E\r\n\r\n**Required skia PR**\r\n\r\nNone.\r\n\r\n\u003C!-- Replace this with the full URL to the skia PR. --\u003E\r\n\r\n**PR Checklist**\r\n\r\n- [ ] Has tests (if omitted, state reason in description)\r\n- [ ] Rebased on top of main at time of PR\r\n- [ ] Merged related skia PRs\r\n- [ ] Changes adhere to coding standard\r\n- [ ] Updated documentation\r\n",
  "author": {
    "login": "kasperk81",
    "type": "User"
  },
  "labels": [
    {
      "name": "community \u2728",
      "color": "ededed"
    }
  ],
  "assignees": [],
  "createdAt": "2025-03-09T00:09:25",
  "updatedAt": "2025-03-25T06:36:41",
  "closedAt": "2025-03-12T03:01:12",
  "commentCount": 19,
  "reactionCount": 0,
  "draft": false,
  "merged": true,
  "mergedAt": "2025-03-12T03:01:12",
  "mergeableState": "unknown",
  "baseBranch": "main",
  "headBranch": "main",
  "additions": 141,
  "deletions": 34,
  "changedFiles": 14,
  "commits": 5,
  "reviews": [
    {
      "author": "mattleibow",
      "state": "DISMISSED",
      "submittedAt": "2025-03-10T10:58:43"
    },
    {
      "author": "mattleibow",
      "state": "APPROVED",
      "submittedAt": "2025-03-10T19:56:59"
    },
    {
      "author": "mattleibow",
      "state": "CHANGES_REQUESTED",
      "submittedAt": "2025-03-10T20:05:35"
    },
    {
      "author": "kasperk81",
      "state": "COMMENTED",
      "submittedAt": "2025-03-10T20:15:08"
    },
    {
      "author": "mattleibow",
      "state": "APPROVED",
      "submittedAt": "2025-03-11T18:52:51"
    },
    {
      "author": "mattleibow",
      "state": "COMMENTED",
      "submittedAt": "2025-03-11T18:57:17"
    },
    {
      "author": "mattleibow",
      "state": "COMMENTED",
      "submittedAt": "2025-03-11T18:58:56"
    },
    {
      "author": "kasperk81",
      "state": "COMMENTED",
      "submittedAt": "2025-03-11T19:13:20"
    }
  ],
  "engagement": {
    "syncedAt": "2026-02-06T12:45:33.9213161Z",
    "reactions": [],
    "comments": [
      {
        "id": 2708821910,
        "author": "mattleibow",
        "body": "/azp run",
        "createdAt": "2025-03-09T12:02:23",
        "reactions": []
      },
      {
        "id": 2708821962,
        "author": "azure-pipelines[bot]",
        "body": "\u003Csamp\u003E\nAzure Pipelines could not run because the pipeline triggers exclude this branch/path.\u003Cbr\u003E\r\n\n\u003C/samp\u003E",
        "createdAt": "2025-03-09T12:02:31",
        "reactions": []
      },
      {
        "id": 2710193510,
        "author": "mattleibow",
        "body": "/azp run",
        "createdAt": "2025-03-10T10:59:19",
        "reactions": []
      },
      {
        "id": 2710193852,
        "author": "azure-pipelines[bot]",
        "body": "\u003Csamp\u003E\nAzure Pipelines could not run because the pipeline triggers exclude this branch/path.\u003Cbr\u003E\r\n\n\u003C/samp\u003E",
        "createdAt": "2025-03-10T10:59:26",
        "reactions": []
      },
      {
        "id": 2710206719,
        "author": "mattleibow",
        "body": "While we wait for the build to run again, are you able to confirm that the artifacts work in the first run? https://dev.azure.com/xamarin/public/_build/results?buildId=137319\u0026view=results",
        "createdAt": "2025-03-10T11:04:23",
        "reactions": []
      },
      {
        "id": 2710282867,
        "author": "mattleibow",
        "body": "/azp run",
        "createdAt": "2025-03-10T11:34:00",
        "reactions": []
      },
      {
        "id": 2710283123,
        "author": "azure-pipelines[bot]",
        "body": "\u003Csamp\u003E\nAzure Pipelines could not run because the pipeline triggers exclude this branch/path.\u003Cbr\u003E\r\n\n\u003C/samp\u003E",
        "createdAt": "2025-03-10T11:34:07",
        "reactions": []
      },
      {
        "id": 2712865738,
        "author": "mattleibow",
        "body": "/azp run",
        "createdAt": "2025-03-11T06:51:47",
        "reactions": []
      },
      {
        "id": 2712865894,
        "author": "azure-pipelines[bot]",
        "body": "\u003Csamp\u003E\nAzure Pipelines could not run because the pipeline triggers exclude this branch/path.\u003Cbr\u003E\r\n\n\u003C/samp\u003E",
        "createdAt": "2025-03-11T06:51:54",
        "reactions": []
      },
      {
        "id": 2715410268,
        "author": "mattleibow",
        "body": "I see all the linux tests are failing with :\r\n\r\n\u0060\u0060\u0060\r\nSystem.TypeInitializationException : The type initializer for \u0027SkiaSharp.SKImageInfo\u0027 threw an exception.\r\n---- System.DllNotFoundException : Unable to load shared library \u0027libSkiaSharp\u0027 or one of its dependencies. \r\n\u0060\u0060\u0060\r\n\r\nIt could either be that the so is truly not there OR it may be the so is depending on something that is not there.",
        "createdAt": "2025-03-11T18:56:17",
        "reactions": []
      },
      {
        "id": 2715425357,
        "author": "mattleibow",
        "body": "Actually, all of my CI is failing with that - even those with no changes... I wonder if the azure devops image is broken somehow.\r\n\r\nLet me rebuild main and see what happens.",
        "createdAt": "2025-03-11T19:03:04",
        "reactions": []
      },
      {
        "id": 2715426169,
        "author": "kasperk81",
        "body": "the fix is https://github.com/mono/SkiaSharp/pull/3194 ",
        "createdAt": "2025-03-11T19:03:23",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "heart",
            "createdAt": "2026-02-06T12:45:32.1580692Z"
          }
        ]
      },
      {
        "id": 2716279347,
        "author": "mattleibow",
        "body": "Thanks for the work on this PR!",
        "createdAt": "2025-03-12T03:01:29",
        "reactions": [
          {
            "user": "kasperk81",
            "content": "hooray",
            "createdAt": "2026-02-06T12:45:32.3895587Z"
          }
        ]
      },
      {
        "id": 2722117472,
        "author": "mattleibow",
        "body": "This build should be on the preview feed as nightly 19",
        "createdAt": "2025-03-13T17:32:07",
        "reactions": []
      },
      {
        "id": 2727035529,
        "author": "aicynide",
        "body": "@kasperk81 please add linux-bionic build support also \uD83D\uDE4F for arm64, x64 and x86 Architectures\r\nPlease",
        "createdAt": "2025-03-15T22:32:46",
        "reactions": []
      },
      {
        "id": 2727105550,
        "author": "kasperk81",
        "body": "@aicynide, android has its own package https://www.nuget.org/packages/SkiaSharp.NativeAssets.Android",
        "createdAt": "2025-03-16T01:06:14",
        "reactions": []
      },
      {
        "id": 2727135903,
        "author": "aicynide",
        "body": "\u003E @aicynide, android has its own package https://www.nuget.org/packages/SkiaSharp.NativeAssets.Android\r\n\r\nYes you are I think SkiaSharp my work under \u0060linux-bionic\u0060 but issue is with sqlitePCL.raw \u0060libe_sqlite.so\u0060 https://github.com/termux/termux-packages/actions/runs/13115509057/job/36588727595?pr=23074#step:6:2786\r\n\u0060linux-bionic-{arch}\u0060 is somewhat different from android. \u0060android-{arch} is for android\u0060 but \u0060linux-bionic-{arch}\u0060 is for Termux\r\nI\u0027m a termux package contributor and package maintainer, currently I\u0027m working on porting jellyfin to termux and some dependencies of jellyfin like SQLITEPCL.raw nuget is available for \u0060linux-bionic\u0060\r\n\r\nIt would be a huge help if you can provide SQLITEPCL.raw \u0027s \u0060libe_sqlite.so\u0060 for linux-bionic\r\n\r\nThank you",
        "createdAt": "2025-03-16T02:28:04",
        "reactions": []
      },
      {
        "id": 2727165937,
        "author": "mattleibow",
        "body": "@aicynide please open a new issue. ",
        "createdAt": "2025-03-16T03:36:08",
        "reactions": []
      },
      {
        "id": 2750230512,
        "author": "mattleibow",
        "body": "Hi folks,\r\n\r\nThe builds are now available on the preview feed: https://aka.ms/skiasharp-eap/index.json\r\nLet me know if version **3.119.0-preview.0.38** is now working again for you.\r\n\r\nAs soon as you let me know, I can release this to NuGet and then hopefully a stable version shortly afterwards.",
        "createdAt": "2025-03-25T06:36:40",
        "reactions": [
          {
            "user": "aicynide",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:45:33.871104Z"
          }
        ]
      }
    ]
  }
}