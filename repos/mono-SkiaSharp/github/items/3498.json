{
  "number": 3498,
  "type": "pr",
  "state": "closed",
  "title": "Add SKShapeView: MAUI shapes rendered via SkiaSharp",
  "body": "**Description of Change**\n\nAdds \u0060SKShapeView\u0060, a canvas control that accepts MAUI \u0060Shape\u0060 children and renders them with SkiaSharp. XAML-first design similar to WPF/UWP Canvas\u2014define shapes declaratively, everything flattens to pixels.\n\n**New types:**\n- \u0060SKShapeView\u0060 \u2014 Canvas control with \u0060Children\u0060 collection and \u0060Left\u0060/\u0060Top\u0060 attached properties\n- \u0060GeometryExtensions\u0060 \u2014 MAUI geometry \u2192 \u0060SKPath\u0060 (ellipse, rect, line, path, arc segments, beziers, etc.)\n- \u0060BrushExtensions\u0060 \u2014 MAUI brush \u2192 \u0060SKPaint\u0060 (solid, linear gradient, radial gradient, stroke/dash)\n\n**Supported:**\n- All MAUI shapes: Rectangle, RoundRectangle, Ellipse, Line, Polyline, Polygon, Path\n- All transforms: Rotate, Scale, Skew, Translate, Composite, TransformGroup, Matrix\n- Stroke: thickness, dash patterns, line caps, line joins, miter limit\n- Per-shape opacity\n\n\u0060\u0060\u0060xml\n\u003Cskia:SKShapeView HeightRequest=\u0022200\u0022\u003E\n    \u003Cshapes:Rectangle \n        skia:SKShapeView.Left=\u002210\u0022 skia:SKShapeView.Top=\u002210\u0022\n        WidthRequest=\u002280\u0022 HeightRequest=\u002260\u0022\n        Fill=\u0022CornflowerBlue\u0022 Stroke=\u0022DarkBlue\u0022 StrokeThickness=\u00222\u0022 /\u003E\n    \u003Cshapes:Ellipse \n        skia:SKShapeView.Left=\u0022100\u0022 \n        WidthRequest=\u002280\u0022 HeightRequest=\u002280\u0022\n        Fill=\u0022{StaticResource GradientBrush}\u0022 /\u003E\n\u003C/skia:SKShapeView\u003E\n\u0060\u0060\u0060\n\nSee \u0060documentation/maui-shape-api-comparison.md\u0060 for full MAUI/WPF/UWP coverage matrix.\n\n**Bugs Fixed**\n\nNone \u2014 new feature.\n\n**API Changes**\n\nAdded:\n\n- \u0060SKShapeView\u0060 \u2014 View implementing \u0060ISKCanvasView\u0060\n- \u0060SKShapeView.LeftProperty\u0060, \u0060SKShapeView.TopProperty\u0060 \u2014 attached properties\n- \u0060SKShapeView.Children\u0060 \u2014 \u0060IList\u003CShape\u003E\u0060\n- \u0060GeometryExtensions.ToSKPath(Geometry)\u0060, \u0060GeometryExtensions.ToSKPath(Shape)\u0060\n- \u0060BrushExtensions.ToSKPaint(Brush, SKRect)\u0060, \u0060BrushExtensions.ToSKStrokePaint(...)\u0060\n- \u0060BrushExtensions.ToSKStrokeCap(PenLineCap)\u0060, \u0060BrushExtensions.ToSKStrokeJoin(PenLineJoin)\u0060\n\n**Behavioral Changes**\n\nNone.\n\n**Required skia PR**\n\nNone.\n\n**PR Checklist**\n\n- [ ] Has tests (MAUI workloads unavailable in CI; sample page added for manual verification)\n- [x] Rebased on top of main at time of PR\n- [x] Merged related skia PRs\n- [x] Changes adhere to coding standard\n- [x] Updated documentation\n\n\u003C!-- START COPILOT CODING AGENT SUFFIX --\u003E\n\n\n\n\u003C!-- START COPILOT ORIGINAL PROMPT --\u003E\n\n\n\n\u003Cdetails\u003E\n\n\u003Csummary\u003EOriginal prompt\u003C/summary\u003E\n\n\u003E I want to add a feature to skiasharop for maui where people can just drop in the skcanvasview and then drop in maui geometry or shapes and use that to draw. Same with brusehs. If the user drops in xaml controls as children of a canvas, it should DRAW that control using the brushes and styles and animations of maui. We want to effectively suppoert maui geometry and shanpes as children in xaml. This should be a xaml first design where we imitate the xaml canvas conterols of WPF andUWP. We can put any geometry in there. At the end, there is just a canvas with pixels at a color and not layers of nested things.\n\n\n\u003C/details\u003E\n\n\n\n\u003C!-- START COPILOT CODING AGENT TIPS --\u003E\n---\n\n\uD83D\uDCAC We\u0027d love your input! Share your thoughts on Copilot coding agent in our [2 minute survey](https://gh.io/copilot-coding-agent-survey).\n",
  "author": {
    "login": "Copilot",
    "type": "Bot"
  },
  "labels": [],
  "assignees": [
    {
      "login": "mattleibow",
      "type": "User"
    },
    {
      "login": "Copilot",
      "type": "Bot"
    }
  ],
  "createdAt": "2026-02-05T02:46:53",
  "updatedAt": "2026-02-05T21:40:10",
  "closedAt": "2026-02-05T21:40:10",
  "commentCount": 2,
  "reactionCount": 0,
  "draft": true,
  "mergeable": true,
  "merged": false,
  "mergeableState": "behind",
  "baseBranch": "main",
  "headBranch": "copilot/add-maui-support-for-skcanvasview",
  "additions": 1723,
  "deletions": 6,
  "changedFiles": 11,
  "commits": 6,
  "reviews": [],
  "engagement": {
    "syncedAt": "2026-02-06T12:35:08.2616536Z",
    "reactions": [],
    "comments": [
      {
        "id": 3856402214,
        "author": "mattleibow",
        "body": "## \uD83D\uDD34 Design Review: Closing This PR After Extensive Research\n\nAfter a comprehensive design review, we have decided **not to proceed with this feature**. This comment documents our research and findings for future reference.\n\n---\n\n## Executive Summary\n\nThe original goal was to bring WPF\u0027s declarative drawing model (\u0060DrawingImage\u0060/\u0060DrawingGroup\u0060) to MAUI via SkiaSharp. After extensive research into XAML platform history, competitive analysis, and multi-model AI consultation, the consensus is that **this feature solves a problem that doesn\u0027t really exist** \u2014 and better alternatives are already available.\n\n---\n\n## Research Findings\n\n### 1. Why Microsoft Dropped DrawingImage from UWP/WinUI\n\nWPF has \u0060DrawingImage\u0060, \u0060DrawingGroup\u0060, and \u0060GeometryDrawing\u0060 \u2014 a powerful XAML-first vector graphics system. **Microsoft intentionally did NOT port this to UWP or WinUI.** Reasons:\n\n| Reason | Explanation |\n|--------|-------------|\n| **SVG solved it better** | WinUI added native SVG support instead |\n| **Low actual usage** | DrawingImage was mostly used for icons (now SVGs) |\n| **Architecture mismatch** | Retained-mode scene graphs are heavy; modern prefers immediate mode |\n| **Complexity vs. value** | The XAML verbosity didn\u0027t justify the maintenance burden |\n\nThis is documented in GitHub issues like [microsoft/microsoft-ui-xaml#4746](https://github.com/microsoft/microsoft-ui-xaml/issues/4746).\n\n### 2. What Avalonia Does\n\nAvalonia **did** implement \u0060DrawingImage\u0060/\u0060DrawingGroup\u0060 \u2014 but for specific reasons:\n- **WPF migration target** \u2014 Their primary audience is WPF developers porting apps\n- **Icon/image replacement** \u2014 Not general-purpose graphics, but themeable icon resources\n- They did NOT build it for new development scenarios\n\n### 3. WPF\u0027s Canvas \u2260 Drawing Surface\n\nA key insight from our research: **XAML \u0060Canvas\u0060 is NOT a drawing surface**. It\u0027s just a layout panel for absolute positioning.\n\n| Concept | What It Is | Examples |\n|---------|------------|----------|\n| **XAML Canvas** | Layout panel | Position UI elements absolutely |\n| **Drawing Surface** | Rendering target | WPF \u0060DrawingContext\u0060, Win2D \u0060CanvasDrawingSession\u0060, **SkiaSharp \u0060SKCanvas\u0060** |\n\nFor actual drawing, WPF uses \u0060DrawingContext\u0060 (via \u0060OnRender\u0060 or \u0060DrawingVisual\u0060), which is analogous to \u0060SKCanvas\u0060.\n\n### 4. Multi-Model AI Consensus\n\nWe consulted 5 different AI models with this question: *\u0022Is this feature actually valuable?\u0022*\n\n| Model | Verdict | Key Quote |\n|-------|---------|-----------|\n| Model 1 | \u274C Skip | \u0022Niche curiosity. SVG \u002B imperative Canvas covers 99% of use cases\u0022 |\n| GPT-5 | \u26A0\uFE0F Optional only | \u0022Ship as experimental, prioritize SVG instead\u0022 |\n| Gemini 3 | \u274C Don\u0027t build | \u0022100% nostalgia. You\u0027re fighting Skia\u0027s architecture\u0022 |\n| Model 4 | \u274C Skip | \u0022Feature cargo-culting. Nobody loves writing shape XAML\u0022 |\n| Opus 4.5 | \u26A0\uFE0F Extract kernel | \u0022Full DrawingGroup: Skip. XAML path geometry: Maybe worth exploring\u0022 |\n\n### 5. The Architecture Problem\n\n**Skia is immediate-mode** \u2014 Draw pixels now, forget them.\n**DrawingGroup is retained-mode** \u2014 Build object tree, persist in memory.\n\nBuilding a retained-mode scene graph on top of Skia\u0027s immediate-mode API means effectively **re-inventing WPF\u0027s rendering engine** inside SkiaSharp. This is:\n- Heavy and complex\n- Fighting the architecture\n- The exact reason Microsoft removed these features from UWP\n\n---\n\n## Why The Proposed Feature Isn\u0027t Valuable\n\n| What Users Need | What They Actually Use | Not This |\n|-----------------|------------------------|----------|\n| Vector icons | SVG files | Not verbose XAML geometry |\n| Animated graphics | Lottie | Not XAML shape markup |\n| Charts/data viz | Charting libraries (OxyPlot, etc.) | Not manual XAML shapes |\n| Custom graphics | \u0060canvas.DrawPath()\u0060 | Not XAML abstraction layer |\n| Design assets | Figma \u2192 SVG export | Not hand-coded XAML |\n\n**The brutal truth:** Nobody writes verbose XAML to draw shapes when:\n- SVG exists (industry standard, tool support from Illustrator/Figma/Inkscape)\n- SkiaSharp\u0027s imperative API is simpler and more powerful\n- MAUI Shapes already exist for declarative scenarios\n\n---\n\n## What WOULD Be Valuable Instead\n\n| Alternative | Value | Why |\n|-------------|-------|-----|\n| **Better SVG support** | \u2705 High | Industry standard, tool-compatible, what users actually use |\n| **Easier Lottie integration** | \u2705 High | Declarative animation done right |\n| **\u0060SKPath\u0060 from XAML path syntax** | \u2705 Medium | Compile-time path parsing, lightweight |\n| **Performance profiling tools** | \u2705 High | Help users optimize their drawings |\n\n---\n\n## The \u0022Kernel of Value\u0022 Worth Preserving\n\nOne narrow scenario got positive feedback: **compile-time path geometry as XAML resources**:\n\n\u0060\u0060\u0060xml\n\u003Cskia:SKPathGeometry x:Key=\u0022StarPath\u0022 \n    Data=\u0022M 50,0 L 61,35 L 98,35 L 68,57 L 79,91 L 50,70 L 21,91 L 32,57 L 2,35 L 39,35 Z\u0022/\u003E\n\u0060\u0060\u0060\n\nThis is:\n- Compile-time parsed (faster than runtime SVG)\n- Familiar syntax (same as WPF/MAUI path mini-language)\n- Zero layout overhead\n- No complex infrastructure needed\n\nIf we revisit declarative graphics in the future, this narrow scope might be worth exploring.\n\n---\n\n## Reusable Code From This PR\n\nThe following extension methods from this PR are still valuable and could be extracted:\n\n- \u0060GeometryExtensions.ToSKPath(Geometry)\u0060 \u2014 Convert MAUI Geometry to SKPath\n- \u0060BrushExtensions.ToSKPaint(Brush)\u0060 \u2014 Convert MAUI Brush to SKPaint\n- \u0060BrushExtensions.ToSKStrokePaint(...)\u0060 \u2014 Convert stroke properties\n\nThese could be useful as standalone utilities in \u0060SkiaSharp.Extended\u0060 without the full \u0060SKShapeView\u0060 infrastructure.\n\n---\n\n## Decision\n\n**Closing this PR.** The feature:\n- Solves a problem most users don\u0027t have\n- Is superseded by SVG for most vector graphics use cases\n- Would create maintenance burden disproportionate to value\n- Fights against Skia\u0027s immediate-mode architecture\n\nIf demand emerges in the future, we can revisit with a much narrower scope (just \u0060SKPathGeometry\u0060 resources).\n\n---\n\n## References\n\n- [WPF Drawing Objects Overview](https://learn.microsoft.com/en-us/dotnet/desktop/wpf/graphics-multimedia/drawing-objects-overview)\n- [UWP Layout Panels](https://learn.microsoft.com/en-us/windows/apps/design/layout/layout-panels)\n- [Avalonia DrawingImage](https://docs.avaloniaui.net/docs/reference/controls/drawing-image)\n- [microsoft-ui-xaml#4746 - Drawing Image in XAML](https://github.com/microsoft/microsoft-ui-xaml/issues/4746)\n\nThank you for the exploration! This research will help inform future design decisions.",
        "createdAt": "2026-02-05T21:39:51",
        "reactions": []
      },
      {
        "id": 3856404249,
        "author": "mattleibow",
        "body": "Closing based on the design review above. See the detailed comment for our research findings and recommendations.",
        "createdAt": "2026-02-05T21:40:09",
        "reactions": []
      }
    ]
  }
}