{
  "number": 902,
  "type": "issue",
  "state": "open",
  "title": "[BUG] SKSurface.Snapshot() returns all pixels as #00000000 on UWP",
  "body": "**Description**\r\n\r\nClearing the canvas with \u0060SKColors.White\u0060 then calling \u0060SKSurface.Snapshot()\u0060 returns all #00000000 pixels on UWP. However, it works properly on Android.\r\n\r\n**Code**\r\n\r\nA solution that reproduces the issue can be found [here](https://github.com/daltonks/SkiaSharp.UwpSnapshotBug).\r\n\r\nThe main part is in the [code-behind](https://github.com/daltonks/SkiaSharp.UwpSnapshotBug/blob/master/SkiaSharp.UwpSnapshotBug/MainPage.xaml.cs) and the [xaml](https://github.com/daltonks/SkiaSharp.UwpSnapshotBug/blob/master/SkiaSharp.UwpSnapshotBug/MainPage.xaml).\r\n\r\n\r\n**Expected Behavior**\r\n\r\nThe sample apps both write \u0060Has non-zero color: True\u0060 to the console.\r\n\r\n**Actual Behavior**\r\n\r\nAndroid writes \u0060Has non-zero color: True\u0060, but UWP writes \u0060Has non-zero color: False\u0060\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  1.68.0\r\n- Last known good version:  Not sure\r\n- IDE:  Visual Studio\r\n- Platform Target Frameworks: \r\n  - Android: 9.0\r\n  - UWP:  16299 \r\n\r\n- Target Devices:\r\n  - Windows 10.0.18362\r\n  - Android Pie on a Samsung Galaxy S8\r\n",
  "author": {
    "login": "daltonks",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2019-07-02T02:38:48",
  "updatedAt": "2019-07-16T12:30:31",
  "commentCount": 9,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:36:01.4657575Z",
    "reactions": [],
    "comments": [
      {
        "id": 508581736,
        "author": "daltonks",
        "body": "SKSurface.Snapshot() is returning a null image on iOS using this same method. I can create a new issue if needed.",
        "createdAt": "2019-07-04T21:49:43",
        "reactions": []
      },
      {
        "id": 511726708,
        "author": "aodpi",
        "body": "I also noticed that the \u0060SKSurface.Snapshot()\u0060 returns null only when using \u0060SKGLView\u0060.",
        "createdAt": "2019-07-16T08:50:11",
        "reactions": []
      },
      {
        "id": 511740253,
        "author": "Gillibald",
        "body": "What hardware are you using? Is there a dedicated GPU?",
        "createdAt": "2019-07-16T09:28:07",
        "reactions": []
      },
      {
        "id": 511782632,
        "author": "aodpi",
        "body": "@Gillibald No, there is no dedicated gpu. It was a mac mini late 2014, macOS Mojave 10.14.5",
        "createdAt": "2019-07-16T11:47:54",
        "reactions": []
      },
      {
        "id": 511787306,
        "author": "Gillibald",
        "body": "I guess in case no dedicated GPU is available SKGLView can\u0027t be used.",
        "createdAt": "2019-07-16T12:04:01",
        "reactions": []
      },
      {
        "id": 511787818,
        "author": "aodpi",
        "body": "@Gillibald I guess, but in this case, shouldn\u0027t it fallback to something else ?",
        "createdAt": "2019-07-16T12:05:43",
        "reactions": []
      },
      {
        "id": 511788164,
        "author": "Gillibald",
        "body": "How do you emulate OpenGL HW-acceleration in software? I could be wrong. Just a hint. It should be possible to create a raster surface in that case and fallback to software but the control is named SKGLView so it wouldn\u0027t make sense to do that. Just my opinion.",
        "createdAt": "2019-07-16T12:06:54",
        "reactions": []
      },
      {
        "id": 511795064,
        "author": "aodpi",
        "body": "@Gillibald I believe a good solution here would be to use \u0060SKCanvasView\u0060 on UWP and \u0060SKGLView\u0060 on Android, right ?",
        "createdAt": "2019-07-16T12:29:02",
        "reactions": []
      },
      {
        "id": 511795529,
        "author": "Gillibald",
        "body": "SKGLView should work on UWP with hardware support.",
        "createdAt": "2019-07-16T12:30:31",
        "reactions": [
          {
            "user": "entdark",
            "content": "\u002B1",
            "createdAt": "2026-02-06T14:36:01.4154972Z"
          },
          {
            "user": "aodpi",
            "content": "\u002B1",
            "createdAt": "2026-02-06T14:36:01.4154976Z"
          }
        ]
      }
    ]
  }
}