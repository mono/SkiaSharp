{
  "number": 1804,
  "type": "pr",
  "state": "closed",
  "title": "Fix the what the \u0060IgnorePixelScaling\u0060 property works",
  "body": "**Description of Change**\r\n\r\nPreviously the \u0060IgnorePixelScaling\u0060 allowed the drawing code to work in density-independent UI units, however it did so in a poor manner. Instead of scaling the canvas in such a way that it preserved the high density, it stretched and reduced the quality of the image.\r\n\r\nThis PR makes sure to always draw in high resolution, and then pre-scale the canvas before invoking the paint events.\r\n\r\n**Bugs Fixed**\r\n\r\n- Fixes #1177 \r\n- Avoids the need for https://github.com/dotnet/Microsoft.Maui.Graphics/pull/155\r\n\r\n**API Changes**\r\n\r\nNone.\r\n\r\n**Behavioral Changes**\r\n\r\nA demo of the change. \r\n\r\n| Before | After |\r\n| :-: | :-: |\r\n| ![image](https://user-images.githubusercontent.com/1096616/132806022-a19ac648-2c33-484b-9005-b72faa77ddd8.png) | ![image](https://user-images.githubusercontent.com/1096616/132806077-eb155c7c-9b64-48e0-9a23-07fae3fc56ac.png) | \r\n\r\n\r\n**PR Checklist**\r\n\r\n- [ ] Has tests (if omitted, state reason in description)\r\n- [ ] Rebased on top of main at time of PR\r\n- [ ] Changes adhere to coding standard\r\n- [ ] Updated documentation\r\n",
  "author": {
    "login": "mattleibow",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v2.88.0",
  "createdAt": "2021-09-10T05:50:42",
  "updatedAt": "2022-12-13T08:41:18",
  "closedAt": "2021-09-12T07:32:49",
  "commentCount": 4,
  "reactionCount": 0,
  "draft": false,
  "merged": true,
  "mergedAt": "2021-09-12T07:32:49",
  "mergeableState": "unknown",
  "baseBranch": "main",
  "headBranch": "dev/improve-view-scaling",
  "additions": 683,
  "deletions": 325,
  "changedFiles": 83,
  "commits": 17,
  "reviews": [
    {
      "author": "mattleibow",
      "state": "COMMENTED",
      "submittedAt": "2021-09-11T08:37:11"
    },
    {
      "author": "myroot",
      "state": "COMMENTED",
      "submittedAt": "2021-09-11T09:19:15"
    }
  ],
  "engagement": {
    "syncedAt": "2026-02-06T13:47:42.2335929Z",
    "reactions": [],
    "comments": [
      {
        "id": 917300573,
        "author": "myroot",
        "body": "Hi, this PR meet the our requirements except one thing\r\n\r\nWe hope to able to update ScalingFactor\r\nhttps://github.com/mono/SkiaSharp/blob/2ad29861d5a40d3bf78c28ab0a9cb02a8f0fe437/source/SkiaSharp.Views/SkiaSharp.Views.Tizen/ScalingInfo.cs#L30\r\nBecause, in several reasons, we need to support a virtual scaling factor.\r\nCould you make a setter on ScalingInfo.ScalingFactor?",
        "createdAt": "2021-09-11T00:16:32",
        "reactions": []
      },
      {
        "id": 917367682,
        "author": "mattleibow",
        "body": "\u003E Because, in several reasons, we need to support a virtual scaling factor.\r\n\r\n@myroot I can do that. Do we need to have different scaling factors on different canvases? Or can it all be in one place?\r\n\r\nFor now I will add a setter to the \u0060ScalingInfo\u0060 type. But we can easily move it to the canvas before we merge this.\r\n\r\nDo you have an example of when you would want the scaling to be different to the screen DPI?",
        "createdAt": "2021-09-11T08:32:27",
        "reactions": []
      },
      {
        "id": 917374817,
        "author": "myroot",
        "body": "\u003E Do you have an example of when you would want the scaling to be different to the screen DPI?\r\n\r\nhttps://github.com/Samsung/Tizen.UIExtensions/blob/d13d130b552a177939d81a12cacf7069c343fa6c/src/Tizen.UIExtensions.ElmSharp/DeviceInfo.cs#L233\r\n\r\nHere is a code of setting custom scaling factor on tizen. if this PR was merged, I will add code to call \u0060SetScalingFactor\u0060 in the end of this method",
        "createdAt": "2021-09-11T09:25:38",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:47:41.9256074Z"
          }
        ]
      },
      {
        "id": 1347936206,
        "author": "tipa",
        "body": "@mattleibow I just stumbled over this and how the \u0060IgnorePixelScaling\u0060 works.\r\nFrom what I understand the new behavior is different from the document behavior, which was the old one.\r\nThe [docs](https://learn.microsoft.com/en-us/dotnet/api/skiasharp.views.ios.skcanvasview.ignorepixelscaling) still say \u0060When true, the canvas is resized to device independent pixels, and then stretched to fill the view\u0060.\r\nThis isn\u0027t the case any more with v2.88.0, is it?",
        "createdAt": "2022-12-13T08:41:17",
        "reactions": []
      }
    ]
  }
}