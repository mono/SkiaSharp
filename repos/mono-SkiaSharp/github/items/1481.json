{
  "number": 1481,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] Unable to load library \u0027libSkiaSharp\u0027. Web .NET 4.7.2 - Windows \u0026 Azure",
  "body": "**Description**\r\nI\u0027m sadden I have to open this here, but I have been looking for more than 2 hours and I still can\u0027t find a solution!\r\nWhen using a .NET Framework program or .NET Core program, it works great, however, when I use a Web Application that uses the same code, I get the following message. This is the same thing when deploying on Azure (not as an Azure Function, just a WebApp)\r\n\r\n\u0060\u0060\u0060\r\nUnable to load library \u0027libSkiaSharp\u0027.\r\nat SkiaSharp.LibraryLoader.LoadLocalLibrary[T](String libraryName)\r\n\u21B5   at SkiaSharp.SkiaApi.\u003C\u003Ec.\u003C.cctor\u003Eb__1723_0()\r\n\u21B5   at System.Lazy\u00601.CreateValue()\r\n\u21B5   at System.Lazy\u00601.LazyInitValue()\r\n\u21B5   at System.Lazy\u00601.get_Value()\r\n\u21B5   at SkiaSharp.SkiaApi.GetSymbol[T](String name)\r\n\u21B5   at SkiaSharp.SkiaApi.sk_managedstream_set_procs(SKManagedStreamDelegates procs)\r\n\u21B5   at SkiaSharp.SKAbstractManagedStream..cctor()\u0022\r\n\r\n====\r\n\r\nat SkiaSharp.SKAbstractManagedStream..ctor(Boolean owns)\r\n\u21B5   at SkiaSharp.SKManagedStream..ctor(Stream managedStream, Boolean disposeManagedStream)\r\n\u21B5   at SkiaSharp.SKCodec.WrapManagedStream(Stream stream)\r\n\u21B5   at SkiaSharp.SKBitmap.Decode(Stream stream)\r\n\u0060\u0060\u0060\r\n\r\nThe /bin folder contains SkiaSharp.dll. I included the Nuget package in the Web csproj. I added \u0060    \u003CShouldIncludeNativeSkiaSharp\u003ETrue\u003C/ShouldIncludeNativeSkiaSharp\u003E\u0060. Still nothing.\r\n\r\nThis is not the first time it seems to happen, more than one bug report had been opened about this.\r\nBut I see really no easy solution nor documentation about this.\r\nWhat is the correct way to statically link this or make it work :) ?\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  2.80.1\r\n- Last known good version:  ?\r\n- IDE:  Visual Studio\r\n- Platform Target Frameworks: \r\n  - Windows Classic:  Windows 10\r\n  - Azure: Web App\r\n  \r\n\r\n",
  "author": {
    "login": "jsgoupil",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v2.80.2",
  "createdAt": "2020-08-27T13:33:51",
  "updatedAt": "2022-08-19T03:01:58",
  "closedAt": "2020-09-03T02:41:54",
  "commentCount": 8,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:15:52.7237274Z",
    "reactions": [],
    "comments": [
      {
        "id": 682143750,
        "author": "mattleibow",
        "body": "I believe this is a duplicate of https://github.com/mono/SkiaSharp/issues/1479 \r\n\r\nI did some looking and I think I got a fix: https://github.com/mono/SkiaSharp/pull/1483#pullrequestreview-476991962\r\n\r\nOnce CI is complete, I\u0027ll let you know and then you can try the preview from the preview feed: https://aka.ms/skiasharp-eap/index.json",
        "createdAt": "2020-08-27T19:21:34",
        "reactions": []
      },
      {
        "id": 682155546,
        "author": "jsgoupil",
        "body": "I\u0027ll give it a shot as soon as your CI completes.",
        "createdAt": "2020-08-27T19:47:55",
        "reactions": []
      },
      {
        "id": 682206664,
        "author": "jsgoupil",
        "body": "I don\u0027t know how long it takes, I don\u0027t have access to your build machine. But it takes forever :) I will have to try it tomorrow then.",
        "createdAt": "2020-08-27T21:44:14",
        "reactions": []
      },
      {
        "id": 683188348,
        "author": "mattleibow",
        "body": "@jsgoupil it should be up on the preview feed as v2.80.2-pr.1483.6.\r\n\r\nLet me know how it goes and I\u0027ll merge and push out a new preview.",
        "createdAt": "2020-08-28T23:26:40",
        "reactions": []
      },
      {
        "id": 683422073,
        "author": "jsgoupil",
        "body": "@mattleibow It works in local web app. But I\u0027m not setup to deploy this on Azure with a private feed. Can you push it to the main as a preview?\r\n",
        "createdAt": "2020-08-30T13:40:34",
        "reactions": []
      },
      {
        "id": 686210607,
        "author": "mattleibow",
        "body": "Just pushed out v2.80.2-preview.36 to NuGet.org. Let me know if that works for you.\r\n\r\nApologies for the long delay, CI was _not_ playing nice at all.",
        "createdAt": "2020-09-03T02:41:34",
        "reactions": []
      },
      {
        "id": 686707522,
        "author": "jsgoupil",
        "body": "@mattleibow It works on Azure. Thanks for your work!",
        "createdAt": "2020-09-03T19:22:17",
        "reactions": []
      },
      {
        "id": 686750563,
        "author": "mattleibow",
        "body": "Great to hear! Thanks for the feedback.",
        "createdAt": "2020-09-03T20:33:18",
        "reactions": []
      }
    ]
  }
}