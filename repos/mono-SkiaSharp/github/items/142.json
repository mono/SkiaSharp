{
  "number": 142,
  "type": "issue",
  "state": "closed",
  "title": "SKPathEffect.Create2DLine Crashes on Android Emulators",
  "body": "My Android emulators appear to have some problem with SKPathEffect.Create2DLine method on version 1.53.1.1. Is this a known issue?\n\nRegards,\nOlli Raisa\n\nSample code:\n\n\u0060\u0060\u0060\n    // OR: v1.53.1.1 crashes on Android emulators, OK on Windows\n    public static void PathEffect2DLine(SKCanvas canvas, int width, int height)\n    {\n        float margin = Math.Min(width, height) / 5f;\n        float scale = 10.0f;\n\n        canvas.Clear(SKColors.White);\n\n        using (var paint = new SKPaint())\n        using (var effect = SKPathEffect.Create2DLine(1f, SKMatrix.MakeScale(scale, scale)))\n        {\n            paint.PathEffect = effect;\n            canvas.DrawRect(new SKRect(margin, margin, width - margin, height - margin), paint);\n        }\n    }\n\u0060\u0060\u0060\n\nOutput from Visual Studio 2015 (Update 3):\n\n08-22 02:35:33.270 E/mono-rt ( 2454): Stacktrace:\n08-22 02:35:33.270 E/mono-rt ( 2454): \n08-22 02:35:33.270 E/mono-rt ( 2454):   at \u003Cunknown\u003E \u003C0xffffffff\u003E\n08-22 02:35:33.270 E/mono-rt ( 2454):   at (wrapper managed-to-native) SkiaSharp.SkiaApi.sk_path_effect_create_2d_line (single,SkiaSharp.SKMatrix) \u003C0x00015\u003E\n08-22 02:35:33.270 E/mono-rt ( 2454):   at SkiaSharp.SKPathEffect.Create2DLine (single,SkiaSharp.SKMatrix) \u003CIL 0x00002, 0x000a7\u003E\n08-22 02:35:33.270 E/mono-rt ( 2454):   at SkiaSharp.Demos.PathEffect2DLine (SkiaSharp.SKCanvas,int,int) [0x00028] in D:\\src\\SkiaSharp\\samples\\SharedDemo\\SkiaSharp.Demos.cs:1038\n08-22 02:35:33.270 E/mono-rt ( 2454):   at Skia.Forms.Demo.SkiaView.Draw (SkiaSharp.SKCanvas) [0x00001] in D:\\src\\SkiaSharp\\samples\\Skia.Forms.Demo\\SkiaView.cs:28\n08-22 02:35:33.270 E/mono-rt ( 2454):   at Skia.Forms.Demo.SkiaView.Skia.Forms.Demo.ISkiaViewController.SendDraw (SkiaSharp.SKCanvas) [0x00001] in D:\\src\\SkiaSharp\\samples\\Skia.Forms.Demo\\SkiaView.cs:18\n08-22 02:35:33.270 E/mono-rt ( 2454):   at Skia.Forms.Demo.Droid.NativeSkiaView.OnDraw (Android.Graphics.Canvas) [0x000dc] in D:\\src\\SkiaSharp\\samples\\Skia.Forms.Demo\\Droid\\NativeSkiaView.cs:37\n08-22 02:35:33.270 E/mono-rt ( 2454):   at Android.Views.View.n_OnDraw_Landroid_graphics_Canvas_ (intptr,intptr,intptr) [0x00011] in /Users/builder/data/lanes/3540/1cf254db/source/monodroid/src/Mono.Android/platforms/android-23/src/generated/Android.Views.View.cs:14205\n08-22 02:35:33.270 E/mono-rt ( 2454):   at (wrapper dynamic-method) object.b284673e-3f63-410e-9c6d-14aa958db100 (intptr,intptr,intptr) \u003CIL 0x00017, 0x00027\u003E\n08-22 02:35:33.270 E/mono-rt ( 2454):   at (wrapper native-to-managed) object.b284673e-3f63-410e-9c6d-14aa958db100 (intptr,intptr,intptr) \u003CIL 0x0001f, 0x0007b\u003E\n08-22 02:35:33.270 E/mono-rt ( 2454): \n08-22 02:35:33.270 E/mono-rt ( 2454): Attempting native Android stacktrace:\n08-22 02:35:33.270 E/mono-rt ( 2454): \n08-22 02:35:33.280 E/mono-rt ( 2454):   at sk_path_effect_create_2d_line\u002B25 [0x9646cf79]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B61095 [0x962f9ea7]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B59295 [0x962f979f]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B39681 [0x9718fb01]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B39352 [0x9718f9b8]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B18237 [0x9718a73d]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B10934 [0x97188ab6]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B9103 [0x97d1e38f]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B23819 [0x9765dd0b]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at dvmPlatformInvoke\u002B79 [0xb4cc80eb]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at dvmCallJNIMethod(unsigned int const_, JValue_, Method const_, Thread_)\u002B285 [0xb4d2489d]\n08-22 02:35:33.280 E/mono-rt ( 2454):   at ???\u002B257 [0x101]\n08-22 02:35:33.280 E/mono-rt ( 2454): \n08-22 02:35:33.280 E/mono-rt ( 2454): =================================================================\n08-22 02:35:33.280 E/mono-rt ( 2454): Got a SIGSEGV while executing native code. This usually indicates\n08-22 02:35:33.280 E/mono-rt ( 2454): a fatal error in the mono runtime or one of the native libraries \n08-22 02:35:33.280 E/mono-rt ( 2454): used by your application.\n08-22 02:35:33.280 E/mono-rt ( 2454): =================================================================\n08-22 02:35:33.280 E/mono-rt ( 2454): \n08-22 02:35:33.280 F/libc    ( 2454): Fatal signal 11 (SIGSEGV) at 0x41200000 (code=1), thread 2454 (skia_forms_demo)\n",
  "author": {
    "login": "ollira",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "1.53.1.2",
  "createdAt": "2016-08-22T07:00:46",
  "updatedAt": "2022-08-20T00:02:11",
  "closedAt": "2016-08-23T23:46:23",
  "commentCount": 2,
  "reactionCount": 0
}