{
  "number": 2595,
  "type": "issue",
  "state": "closed",
  "title": "[BUILD] Building Android Native Assets for libHarfBuzzSharp fails in an error",
  "body": "### Description\n\nWhen I try to build Android native assets in \u0060native\\android\u0060 folder using \u0060dotnet cake\u0060 **libSkiaSharp** builds ok, but **libHarfBuzzSharp** fails with the following error:\r\n\r\n\u0060\u0060\u0060\r\n========================================\r\nlibHarfBuzzSharp\r\n========================================\r\nmake: *** No rule to make target \u0027C:/repos/mono/SkiaSharp/externals/skia/third_party/externals/harfbuzz/src/harfbuzz-subset.cc\u0027, needed by \u0027obj/local/x86/objs/HarfBuzzSharp/C_/repos/mono/SkiaSharp/externals/skia/third_party/externals/harfbuzz/src/harfbuzz-subset.o\u0027.  Stop.\r\nAn error occurred when executing task \u0027libHarfBuzzSharp\u0027.\r\nError: Process \u0027C:/Microsoft/AndroidNDK/android-ndk-r23c/ndk-build.cmd\u0027 failed with error: 2\r\n\u0060\u0060\u0060\r\n\r\nAny idea how to resolve this error?\r\n\r\nI am using the latest code in the SkiaSharp repository (as of 2nd Sep 2023).\n\n### Code\n\nNo code.\n\n### Expected Behavior\n\nlibHarfBuzzSharp native assets will build.\n\n### Actual Behavior\n\nlibHarfBuzzSharp does not build.\n\n### Version of SkiaSharp\n\nOther (Please indicate in the description)\n\n### Last Known Good Version of SkiaSharp\n\nOther (Please indicate in the description)\n\n### IDE / Editor\n\nVisual Studio (Windows)\n\n### Platform / Operating System\n\nAndroid\n\n### Platform / Operating System Version\n\nWindows 11\n\n### Devices\n\n_No response_\n\n### Relevant Screenshots\n\n_No response_\n\n### Relevant Log Output\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project\u0027s Code of Conduct",
  "author": {
    "login": "TommiGustafsson-HMP",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/bug",
      "color": "fc2929"
    }
  ],
  "assignees": [],
  "createdAt": "2023-09-02T18:18:30",
  "updatedAt": "2023-10-03T21:00:26",
  "closedAt": "2023-09-03T19:35:41",
  "commentCount": 6,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T13:42:44.3445167Z",
    "reactions": [],
    "comments": [
      {
        "id": 1703906568,
        "author": "janne-hmp",
        "body": "@mattleibow This seems to be caused by ../../../externals/skia/third_party/externals/harfbuzz/src directory missing from the SkiaSharp repository (or more precisely, its linked mono/Skia repository). Would it be possible to add this src directory along with its source files to the repository, or is the idea to download the sources somehow separately?",
        "createdAt": "2023-09-02T18:25:45",
        "reactions": []
      },
      {
        "id": 1704358406,
        "author": "mattleibow",
        "body": "How did you clone this? You need to make sure submodules are also pulled and then skia goes and pulls additional dependencies in the \u0060git-sync-deps\u0060 cake task.\r\n\r\nBasically, SkiaSharp uses submodules, and skia uses a manually pull on top.",
        "createdAt": "2023-09-03T17:27:14",
        "reactions": []
      },
      {
        "id": 1704363624,
        "author": "TommiGustafsson-HMP",
        "body": "I think I used Visual Studio\u0027s Clone Repository with \u0060https://github.com/mono/SkiaSharp.git\u0060. Is there a better way to do it?",
        "createdAt": "2023-09-03T17:55:09",
        "reactions": []
      },
      {
        "id": 1704368645,
        "author": "mattleibow",
        "body": "I suppose it is fine to use, you just need to run \u0060git submodule update --init --recursive\u0060 in the directory after the clone.\r\n\r\nOr just use the GitHub desktop app as it will do it automatically. Not sure why VS does not clone submodules...",
        "createdAt": "2023-09-03T18:22:20",
        "reactions": []
      },
      {
        "id": 1704372764,
        "author": "TommiGustafsson-HMP",
        "body": "Thanks! I will try that out!",
        "createdAt": "2023-09-03T18:43:00",
        "reactions": []
      },
      {
        "id": 1704384243,
        "author": "TommiGustafsson-HMP",
        "body": "It\u0027s working now.",
        "createdAt": "2023-09-03T19:35:41",
        "reactions": []
      }
    ]
  }
}