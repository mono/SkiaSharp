{
  "number": 1479,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] Website using SkiaSharp does not launch anymore after upgrade from 1.68 to 2.80.1, due to a signature problem with OpenTK.GLControl",
  "body": "**Description**\r\n\r\nI have a Asp.Net MVC Project that is referencing nugets SkiaSharp and SkiaSharp.Views.Forms\r\nI have updated these Nugets 1.68 -\u003E 2.80.1\r\nSince this update, website can\u0027t start and displays this error : \r\n\r\nCould not load file or assembly \u0027OpenTK.GLControl\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)\r\n\r\n\r\n\r\n**Code**\r\n\r\n(no snippet)\r\n\r\n**Expected Behavior**\r\n\r\nWebsite should run OK after upgrading to latest version of Skia#\r\n\r\n**Actual Behavior**\r\n\r\nWebsite can\u0027t start and upper error is displayed in html\r\n\r\n**Basic Information**\r\n\r\n- Version with issue: 2.80.1\r\n- Last known good version:  1.68\r\n- IDE: V2019 v16.8.0 Preview 1.0\r\n- Platform Target Frameworks: ASP.Net MVC, .net framework 4.7\r\n  \r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\nMicrosoft Visual Studio Enterprise 2019 Preview\r\nVersion 16.8.0 Preview 1.0\r\nVisualStudio.16.Preview/16.8.0-pre.1.0\u002B30404.54\r\nMicrosoft .NET Framework\r\nVersion 4.8.03752\r\n\r\nInstalled Version: Enterprise\r\n\r\nVisual C\u002B\u002B 2019   00433-90100-10153-AA240\r\nMicrosoft Visual C\u002B\u002B 2019\r\n\r\nADL Tools Service Provider   1.0\r\nThis package contains services used by Data Lake tools\r\n\r\nASA Service Provider   1.0\r\n\r\nASP.NET and Web Tools 2019   16.8.117.38827\r\nASP.NET and Web Tools 2019\r\n\r\nASP.NET Core Razor Language Services   16.1.0.2037701\u002Bcd85e360366b379efba8df5b3d4c22c90d273622\r\nProvides languages services for ASP.NET Core Razor.\r\n\r\nASP.NET Web Frameworks and Tools 2019   16.8.117.38827\r\nFor additional information, visit https://www.asp.net/\r\n\r\nAzure App Service Tools v3.0.0   16.8.117.38827\r\nAzure App Service Tools v3.0.0\r\n\r\nAzure Data Lake Node   1.0\r\nThis package contains the Data Lake integration nodes for Server Explorer.\r\n\r\nAzure Data Lake Tools for Visual Studio   2.4.6000.0\r\nMicrosoft Azure Data Lake Tools for Visual Studio\r\n\r\nAzure Functions and Web Jobs Tools   16.8.117.38827\r\nAzure Functions and Web Jobs Tools\r\n\r\nAzure Stream Analytics Tools for Visual Studio   2.4.6000.0\r\nMicrosoft Azure Stream Analytics Tools for Visual Studio\r\n\r\nC# Tools   3.8.0-1.20378.6\u002B226c0c3f392232b3dd7ecd527f1fd00f0f86d7e4\r\nC# components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.\r\n\r\nCommon Azure Tools   1.10\r\nProvides common services for use by Azure Mobile Services and Microsoft Azure Tools.\r\n\r\nExtensibility Message Bus   1.2.6 (master@34d6af2)\r\nProvides common messaging-based MEF services for loosely coupled Visual Studio extension components communication and integration.\r\n\r\nFabric.DiagnosticEvents   1.0\r\nFabric Diagnostic Events\r\n\r\nGitHub.VisualStudio   2.11.102.28613\r\nA Visual Studio Extension that brings the GitHub Flow into Visual Studio.\r\n\r\nIntelliCode Extension   1.0\r\nIntelliCode Visual Studio Extension Detailed Info\r\n\r\nMicrosoft Azure HDInsight Azure Node   2.4.6000.0\r\nHDInsight Node under Azure Node\r\n\r\nMicrosoft Azure Hive Query Language Service   2.4.6000.0\r\nLanguage service for Hive query\r\n\r\nMicrosoft Azure Service Fabric Tools for Visual Studio   16.0\r\nMicrosoft Azure Service Fabric Tools for Visual Studio\r\n\r\nMicrosoft Azure Stream Analytics Language Service   2.4.6000.0\r\nLanguage service for Azure Stream Analytics\r\n\r\nMicrosoft Azure Stream Analytics Node   1.0\r\nAzure Stream Analytics Node under Azure Node\r\n\r\nMicrosoft Azure Tools   2.9\r\nMicrosoft Azure Tools for Microsoft Visual Studio 2019 - v2.9.30701.1\r\n\r\nMicrosoft Continuous Delivery Tools for Visual Studio   0.4\r\nSimplifying the configuration of Azure DevOps pipelines from within the Visual Studio IDE.\r\n\r\nMicrosoft JVM Debugger   1.0\r\nProvides support for connecting the Visual Studio debugger to JDWP compatible Java Virtual Machines\r\n\r\nMicrosoft Library Manager   2.1.79\u002Bge3567815aa.RR\r\nInstall client-side libraries easily to any web project\r\n\r\nMicrosoft MI-Based Debugger   1.0\r\nProvides support for connecting Visual Studio to MI compatible debuggers\r\n\r\nMicrosoft Visual C\u002B\u002B Wizards   1.0\r\nMicrosoft Visual C\u002B\u002B Wizards\r\n\r\nMicrosoft Visual Studio Tools for Containers   1.1\r\nDevelop, run, validate your ASP.NET Core applications in the target environment. F5 your application directly into a container with debugging, or CTRL \u002B F5 to edit \u0026 refresh your app without having to rebuild the container.\r\n\r\nMicrosoft Visual Studio VC Package   1.0\r\nMicrosoft Visual Studio VC Package\r\n\r\nMono Debugging for Visual Studio   16.8.0 (bce9320)\r\nSupport for debugging Mono processes with Visual Studio.\r\n\r\nNuGet Package Manager   5.8.0\r\nNuGet Package Manager in Visual Studio. For more information about NuGet, visit https://docs.nuget.org/\r\n\r\nProjectServicesPackage Extension   1.0\r\nProjectServicesPackage Visual Studio Extension Detailed Info\r\n\r\nSnapshot Debugging Extension   1.0\r\nSnapshot Debugging Visual Studio Extension Detailed Info\r\n\r\nSQL Server Data Tools   16.0.62007.23150\r\nMicrosoft SQL Server Data Tools\r\n\r\nTest Adapter for Boost.Test   1.0\r\nEnables Visual Studio\u0027s testing tools with unit tests written for Boost.Test.  The use terms and Third Party Notices are available in the extension installation directory.\r\n\r\nTest Adapter for Google Test   1.0\r\nEnables Visual Studio\u0027s testing tools with unit tests written for Google Test.  The use terms and Third Party Notices are available in the extension installation directory.\r\n\r\nToolWindowHostedEditor   1.0\r\nHosting json editor into a tool window\r\n\r\nTypeScript Tools   16.0.20722.2003\r\nTypeScript Tools for Microsoft Visual Studio\r\n\r\nVisual Basic Tools   3.8.0-1.20378.6\u002B226c0c3f392232b3dd7ecd527f1fd00f0f86d7e4\r\nVisual Basic components used in the IDE. Depending on your project type and settings, a different version of the compiler may be used.\r\n\r\nVisual F# Tools 11.0.0.0 for F# 5.0   16.8.0-beta.20367.6\u002B66042d33b998a180edbd99af6064da85f8977bf3\r\nMicrosoft Visual F# Tools 11.0.0.0 for F# 5.0\r\n\r\nVisual Studio Code Debug Adapter Host Package   1.0\r\nInterop layer for hosting Visual Studio Code debug adapters in Visual Studio\r\n\r\nVisual Studio Container Tools Extensions (Preview)   1.0\r\nView, manage, and diagnose containers within Visual Studio.\r\n\r\nVisual Studio Tools for CMake   1.0\r\nVisual Studio Tools for CMake\r\n\r\nVisual Studio Tools for Containers   1.0\r\nVisual Studio Tools for Containers\r\n\r\nVisual Studio Tools for Kubernetes   1.0\r\nVisual Studio Tools for Kubernetes\r\n\r\nVisualStudio.DeviceLog   1.0\r\nInformation about my package\r\n\r\nVisualStudio.Foo   1.0\r\nInformation about my package\r\n\r\nVisualStudio.Mac   1.0\r\nMac Extension for Visual Studio\r\n\r\nXamarin   16.8.000.52 (master@587f555)\r\nVisual Studio extension to enable development for Xamarin.iOS and Xamarin.Android.\r\n\r\nXamarin Designer   16.8.0.167 (remotes/origin/d16-8@d9d45ae09)\r\nVisual Studio extension to enable Xamarin Designer tools in Visual Studio.\r\n\r\nXamarin Templates   16.8.81 (4121183)\r\nTemplates for building iOS, Android, and Windows apps with Xamarin and Xamarin.Forms.\r\n\r\nXamarin.Android SDK   11.0.99.9 (d16-8/2bd5c33)\r\nXamarin.Android Reference Assemblies and MSBuild support.\r\n    Mono: 83105ba\r\n    Java.Interop: xamarin/java.interop/d16-8@8f217e7\r\n    ProGuard: Guardsquare/proguard/proguard6.2.2@ebe9000\r\n    SQLite: xamarin/sqlite/3.32.1@1a3276b\r\n    Xamarin.Android Tools: xamarin/xamarin-android-tools/d16-8@2fb1cbc\r\n\r\n\r\nXamarin.iOS and Xamarin.Mac SDK   13.22.1.3 (914cdaa26)\r\nXamarin.iOS and Xamarin.Mac Reference Assemblies and MSBuild support.\r\n\r\n\u003C/details\u003E\r\n\r\n\r\nHere is full error page:\r\n\r\n\u0060\u0060\u0060\r\nServer Error in \u0027/\u0027 Application.\r\nCould not load file or assembly \u0027OpenTK.GLControl\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)\r\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.\r\n\r\nException Details: System.IO.FileLoadException: Could not load file or assembly \u0027OpenTK.GLControl\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)\r\n\r\nSource Error:\r\n\r\nAn unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.\r\n\r\nAssembly Load Trace: The following information can be helpful to determine why the assembly \u0027OpenTK.GLControl\u0027 could not be loaded.\r\n\r\n\r\n=== Pre-bind state information ===\r\nLOG: DisplayName = OpenTK.GLControl\r\n (Partial)\r\nWRN: Partial binding information was supplied for an assembly:\r\nWRN: Assembly Name: OpenTK.GLControl | Domain ID: 2\r\nWRN: A partial bind occurs when only part of the assembly display name is provided.\r\nWRN: This might result in the binder loading an incorrect assembly.\r\nWRN: It is recommended to provide a fully specified textual identity for the assembly,\r\nWRN: that consists of the simple name, version, culture, and public key token.\r\nWRN: See whitepaper http://go.microsoft.com/fwlink/?LinkId=109270 for more information and common solutions to this issue.\r\nLOG: Appbase = file:///C:/KODE/YADUSURF-GIT/Meteo Surf Project/Yadusurf.Website.MVC2013/\r\nLOG: Initial PrivatePath = C:\\KODE\\YADUSURF-GIT\\Meteo Surf Project\\Yadusurf.Website.MVC2013\\bin\r\nCalling assembly : (Unknown).\r\n===\r\nLOG: This bind starts in default load context.\r\nLOG: Using application configuration file: C:\\KODE\\YADUSURF-GIT\\Meteo Surf Project\\Yadusurf.Website.MVC2013\\web.config\r\nLOG: Using host configuration file: C:\\Users\\mathieu\\Documents\\IISExpress\\config\\aspnet.config\r\nLOG: Using machine configuration file from C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\config\\machine.config.\r\nLOG: Policy not being applied to reference at this time (private, custom, partial, or location-based assembly bind).\r\nLOG: Attempting download of new URL file:///C:/Users/mathieu/AppData/Local/Temp/Temporary ASP.NET Files/vs/55705c4e/9cc63ba0/OpenTK.GLControl.DLL.\r\nLOG: Attempting download of new URL file:///C:/Users/mathieu/AppData/Local/Temp/Temporary ASP.NET Files/vs/55705c4e/9cc63ba0/OpenTK.GLControl/OpenTK.GLControl.DLL.\r\nLOG: Attempting download of new URL file:///C:/KODE/YADUSURF-GIT/Meteo Surf Project/Yadusurf.Website.MVC2013/bin/OpenTK.GLControl.DLL.\r\nLOG: Using application configuration file: C:\\KODE\\YADUSURF-GIT\\Meteo Surf Project\\Yadusurf.Website.MVC2013\\web.config\r\nLOG: Using host configuration file: C:\\Users\\mathieu\\Documents\\IISExpress\\config\\aspnet.config\r\nLOG: Using machine configuration file from C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\config\\machine.config.\r\nLOG: Post-policy reference: OpenTK.GLControl, Version=3.0.1.0, Culture=neutral, PublicKeyToken=bad199fe84eb3df4\r\nERR: Failed to complete setup of assembly (hr = 0x80131045). Probing terminated.\r\n\r\nStack Trace:\r\n\r\n\r\n[FileLoadException: Could not load file or assembly \u0027OpenTK.GLControl\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)]\r\n\r\n[FileLoadException: Could not load file or assembly \u0027OpenTK.GLControl, Version=3.0.1.0, Culture=neutral, PublicKeyToken=bad199fe84eb3df4\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)]\r\n   System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark\u0026 stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) \u002B0\r\n   System.Reflection.RuntimeAssembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark\u0026 stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) \u002B37\r\n   System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark\u0026 stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) \u002B159\r\n   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark\u0026 stackMark, IntPtr pPrivHostBinder, Boolean forIntrospection) \u002B80\r\n   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark\u0026 stackMark, Boolean forIntrospection) \u002B22\r\n   System.Reflection.Assembly.Load(String assemblyString) \u002B29\r\n   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) \u002B39\r\n\r\n[ConfigurationErrorsException: Could not load file or assembly \u0027OpenTK.GLControl, Version=3.0.1.0, Culture=neutral, PublicKeyToken=bad199fe84eb3df4\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)]\r\n   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) \u002B777\r\n   System.Web.Configuration.CompilationSection.LoadAllAssembliesFromAppDomainBinDirectory() \u002B229\r\n   System.Web.Configuration.CompilationSection.LoadAssembly(AssemblyInfo ai) \u002B140\r\n   System.Web.Compilation.BuildManager.GetReferencedAssemblies(CompilationSection compConfig) \u002B176\r\n   System.Web.Compilation.BuildManager.GetPreStartInitMethodsFromReferencedAssemblies() \u002B99\r\n   System.Web.Compilation.BuildManager.CallPreStartInitMethods(String preStartInitListPath, Boolean\u0026 isRefAssemblyLoaded) \u002B310\r\n   System.Web.Compilation.BuildManager.ExecutePreAppStart() \u002B165\r\n   System.Web.Hosting.HostingEnvironment.Initialize(ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLevel, Exception appDomainCreationException) \u002B590\r\n\r\n[HttpException (0x80004005): Could not load file or assembly \u0027OpenTK.GLControl, Version=3.0.1.0, Culture=neutral, PublicKeyToken=bad199fe84eb3df4\u0027 or one of its dependencies. Strong name signature could not be verified.  The assembly may have been tampered with, or it was delay signed but not fully signed with the correct private key. (Exception from HRESULT: 0x80131045)]\r\n   System.Web.HttpRuntime.FirstRequestInit(HttpContext context) \u002B10080656\r\n   System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) \u002B99\r\n   System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) \u002B263\r\n\r\nVersion Information: Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.8.4075.0\r\n\r\n\u0060\u0060\u0060",
  "author": {
    "login": "MathieuJack",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v2.80.2",
  "createdAt": "2020-08-24T22:06:49",
  "updatedAt": "2022-08-19T03:01:59",
  "closedAt": "2020-09-02T01:46:59",
  "commentCount": 11,
  "reactionCount": 0
}