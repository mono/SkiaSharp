{
  "number": 2441,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] In Blazor, Dispose() of SkCanvasView throws NullReferenceException when parent component shows and hides multiple skia canvas views",
  "body": "**Description**\r\n\r\nIn Blazor, Dispose() of SkCanvasView throws exception when parent component shows and hides multiple skia canvas views\r\n\r\n**Code**\r\n\r\n\u003C!-- a snippet of code that demonstrates the issue --\u003E\r\n\r\n**Expected Behavior**\r\n\r\nNo exception when the SkCanvasView is disposed\r\n\r\n**Actual Behavior**\r\n\r\nException in runtime:\r\nblazor.webassembly.js:1 crit: Microsoft.AspNetCore.Components.WebAssembly.Rendering.WebAssemblyRenderer[100]\r\n      Unhandled exception rendering component: Object reference not set to an instance of an object.\r\nSystem.NullReferenceException: Object reference not set to an instance of an object.\r\n   at SkiaSharp.Views.Blazor.SKCanvasView.Dispose()\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.TryDisposeInBatch(RenderBatchBuilder batchBuilder, Exception\u0026 exception)\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  \u003C!-- the version of SkiaSharp that has the issue --\u003E 2.88.3\r\n- Last known good version:  \u003C!-- the version of SkiaSharp that still working --\u003E n/a\r\n- IDE:  \u003C!-- Visual Studio / Visual Studio for Mac / MonoDevelop / Visual Studio Code --\u003E VS 2022 17.5\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - Chrome / Edge\r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\n  \r\n\u0060\u0060\u0060\r\n\r\nPASTE ANY DETAILED VERSION INFO HERE\r\n\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n**Reproduction Link**\r\n\r\n\u003C!-- please upload or provide a link to a reproduction case --\u003E\r\n\r\n",
  "author": {
    "login": "jjzhang12",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2023-04-12T22:15:20",
  "updatedAt": "2023-07-17T00:00:47",
  "closedAt": "2023-06-12T23:32:13",
  "commentCount": 6,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T13:45:06.1114601Z",
    "reactions": [],
    "comments": [
      {
        "id": 1507703707,
        "author": "RChrisCoble",
        "body": "@mattleibow, is there any chance we can get this on your radar?  We are using SkiaSharp inside Blazor WASM and hit this issue easily.  Thanks.\r\n\r\nCC: @danroth27",
        "createdAt": "2023-04-13T22:55:59",
        "reactions": []
      },
      {
        "id": 1588278408,
        "author": "RChrisCoble",
        "body": "Thanks much @mattleibow!  Are we able to get a build of the repo which contains this fix?  \r\n\r\nCC: @danroth27",
        "createdAt": "2023-06-13T00:13:26",
        "reactions": []
      },
      {
        "id": 1590859346,
        "author": "mattleibow",
        "body": "You can get the 2.88.4-preview builds from https://aka.ms/skiasharp-eap/index.json\r\n\r\nI am just merging a few more arm64 and some small fixes then will push out a new version. But since the last release was almost a year ago, I would suggest giving the preview a try to make sure there are no other issues. CI should be the same, but Xcode and .NET SDKs have been updated.",
        "createdAt": "2023-06-14T09:44:33",
        "reactions": []
      },
      {
        "id": 1591756345,
        "author": "sofkhene",
        "body": "@mattleibow hi how can i do this? i need this fix for my project BLAZOR 2.88.3 ",
        "createdAt": "2023-06-14T18:07:26",
        "reactions": []
      },
      {
        "id": 1592997588,
        "author": "mattleibow",
        "body": "I pushed out a preview of the next release. It should be up on nuget shortly.\n\nLet me know if it works and then I can push out a stable version. ",
        "createdAt": "2023-06-15T12:58:51",
        "reactions": []
      },
      {
        "id": 1595344611,
        "author": "jjzhang12",
        "body": "@mattleibow : did a preliminary testing on 2.88.4-preview.66 \u0026 71, they are working fine for us. ",
        "createdAt": "2023-06-16T21:39:12",
        "reactions": []
      }
    ]
  }
}