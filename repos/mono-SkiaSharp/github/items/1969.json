{
  "number": 1969,
  "type": "issue",
  "state": "open",
  "title": "[BUG] Drawing with SKGLView on iOS sometimes incomplete",
  "body": "**Description**\r\n\r\nI\u0027ve encountered a bug where GPU-accelerated drawing with SKGLView on iOS leads to incomplete drawings (some drawing operations are missing). (Large screenshots see chapter \u0027Expected Behavior vs Actual Behavior\u0027 below).\r\n\r\n![Preview](https://user-images.githubusercontent.com/59487513/157021612-993d69d6-2e1e-4313-9dc7-8f9b6dd27d4f.png)\r\n\r\nI occurs when a combination of\r\n* iOS\r\n* \u0060SKGLView\u0060 (using GPU)\r\n* \u0060SKCanvas.ClipRoundRect(...)\u0060\r\n* inside clipped area: rectangle with \u0022special\u0022 coordinates (see below)\r\n\r\nis used.\r\n\r\nI could not reproduce it with Android (\u0060SkiaSharp.Views.Android.SKGLSurfaceView\u0060) nor with WinForms (\u0060SkiaSharp.Views.Desktop.SKGLControl\u0060), nor with Flutter (while I am not a Flutter expert).\r\n\r\nOn iOS, I could reproduce it from iOS 9 through iOS 15, on iPhone, iPad and even on Simulator.\r\n\r\nNote:\r\nIn the sample code, if you \r\n* (a) switch to CPU rendering (\u0060SKCanvasView\u0060), the bug disappears\r\n* (b) change the radius of the round-rect clipping to 0 (not rounded anymore), the bug disappears\r\n* (c) change the coordinate \u0060199.999f\u0060 to \u0060200\u0060, the bug disappears \uD83D\uDE35\r\n\r\n**Code**\r\n\r\n\u0060\u0060\u0060csharp\r\nusing Foundation;\r\nusing SkiaSharp;\r\nusing SkiaSharp.Views.iOS;\r\nusing UIKit;\r\n\r\nnamespace SkiaBugIosMinimal {\r\n\r\n    [Register(nameof(AppDelegate))]\r\n    public class AppDelegate : UIApplicationDelegate {\r\n\r\n        public override UIWindow Window { get; set; }\r\n\r\n        public override bool FinishedLaunching(UIApplication application, NSDictionary launchOptions) {\r\n            Window = new UIWindow(UIScreen.MainScreen.Bounds);\r\n            Window.RootViewController = new SomeViewController();\r\n            Window.MakeKeyAndVisible();\r\n            return true;\r\n        }\r\n    }\r\n\r\n    [Register(nameof(SomeViewController))]\r\n    public class SomeViewController : UIViewController {\r\n\r\n        public override void ViewDidLoad() {\r\n            base.ViewDidLoad();\r\n            View = new SomeView();\r\n        }\r\n        public override bool PrefersStatusBarHidden() =\u003E true;\r\n    }\r\n\r\n    [Register(nameof(SomeView))]\r\n    public class SomeView : SKGLView { // *** (a) ***\r\n\r\n        protected override void OnPaintSurface(SKPaintGLSurfaceEventArgs e) {\r\n            Paint(e.Surface.Canvas);\r\n        }\r\n\r\n        private static void Paint(SKCanvas canvas) {\r\n            var paintMagenta = new SKPaint() { Color = SKColors.Magenta, Style = SKPaintStyle.Fill };\r\n            var paintYellow = new SKPaint() { Color = SKColors.Yellow, Style = SKPaintStyle.Fill };\r\n\r\n            canvas.Clear(SKColors.Blue);\r\n\r\n            canvas.ClipRoundRect(new SKRoundRect(new SKRect(0, 0, 300, 300f), 10f)); // *** (b) ***\r\n\r\n            canvas.Clear(SKColors.Cyan);\r\n\r\n            canvas.DrawRect(new SKRect(100, 100, 200, 150), paintMagenta);\r\n            canvas.DrawRect(new SKRect(100, 199.999f, 200, 250), paintYellow); // *** (c) ***\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\u0060\u0060\u0060\r\n\r\n**Expected Behavior vs Actual Behavior**\r\n\r\n![ExpectedVsActual](https://user-images.githubusercontent.com/59487513/157020999-aac65f25-db5a-484e-877b-fcb812f439cb.png)\r\n\r\n\r\n\r\n\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  from very old (1.68.1) up to recent (2.80.3)\r\n- Last known good version:  not existing\r\n- IDE:  Visual Studio\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - iOS:  all deployment targets (9 up to 15.2)\r\n- Target Devices:   \u003C!-- the devices that you noticed this on, e.g. iPhone X --\u003E\r\n  - iPhone (e.g. iPhone 6, iPhone 13 mini)\r\n  - iPad (e.g. iPad 3)\r\n  - Simulator (all simulated devices)\r\n  \r\n\r\n\r\n",
  "author": {
    "login": "kestlerio",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2022-03-07T11:30:31",
  "updatedAt": "2022-03-07T11:30:31",
  "commentCount": 0,
  "reactionCount": 1,
  "engagement": {
    "syncedAt": "2026-02-04T21:00:13.9030104Z",
    "reactions": [
      {
        "user": "rs-w",
        "content": "\u002B1",
        "createdAt": "2026-02-04T21:00:13.9030171Z"
      }
    ],
    "comments": []
  }
}