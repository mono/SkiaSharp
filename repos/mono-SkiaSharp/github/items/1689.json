{
  "number": 1689,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] DrawTextOnPath does not longer work in 2.80\u002B",
  "body": "**Description**\r\n\r\nThe following code works fine with 1.68.3- versions while it does not work with 2.80\u002B versions\r\n\r\n**Code**\r\n\r\n\u0060\u0060\u0060cs\r\nvar w = 300;\r\nvar h = 200;\r\n\r\nusing (var bmp = new SKBitmap(w,h))\r\nusing (var canvas = new SKCanvas(bmp))\r\nusing (var paint = new SKPaint())\r\nusing (var textPath = new SKPath())\r\n{\r\n\tvar text = \u0022HELLO WORLD\u0022;\r\n\t\r\n\tvar txtBounds = new SKRect();\r\n\r\n\tpaint.TextSize = 24f;\r\n\tpaint.SubpixelText = true;\r\n\tpaint.IsAntialias = true;\r\n\r\n\tvar txtWidth = paint.MeasureText(text, ref txtBounds);\r\n\r\n\tvar ovalRect = new SKRect(txtBounds.Height, txtBounds.Height, (float)w - txtBounds.Height, (float)h - txtBounds.Height);\r\n\r\n\tif (ovalRect.Width \u003E 0 \u0026\u0026 ovalRect.Height \u003E 0)\r\n\t{\r\n\t\tvar ovalPerimeter = Math.PI * (3 * ((ovalRect.Width \u002B ovalRect.Height) / 2) - Math.Sqrt((3 * ovalRect.Width / 2 \u002B ovalRect.Height / 2) * (ovalRect.Width / 2 \u002B 3 * ovalRect.Height / 2)));\r\n\r\n\t\tif (txtWidth \u003C ovalPerimeter)\r\n\t\t{\r\n\t\t\tvar sweepAngleForText = (float)Math.Round(txtWidth * 360f / (float)ovalPerimeter, 0, MidpointRounding.AwayFromZero);\r\n\t\t\tvar txtStartAngle = (float)Math.Round(90f \u002B ((360f - sweepAngleForText) / 2f), 0, MidpointRounding.AwayFromZero);\r\n\t\t\ttextPath.AddOval(ovalRect);\r\n\t\t\t\r\n\t\t\tusing (var pathPaint = new SKPaint())\r\n\t\t\t{\r\n\t\t\t\tpathPaint.IsAntialias = true;\r\n\t\t\t\tpathPaint.IsStroke = true;\r\n\t\t\t\tpathPaint.StrokeWidth = 1f;\r\n\t\t\t\tpathPaint.Color = SKColors.Red;\r\n\t\t\t\ttextPath.AddArc(ovalRect, txtStartAngle, 360f);\r\n\t\t\t\tcanvas.DrawPath(textPath, pathPaint);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar hOffset = (float)ovalPerimeter - txtWidth;\r\n\t\t\tif (hOffset \u003E (float)ovalPerimeter / 2)\r\n\t\t\t{\r\n\t\t\t\thOffset = ((float)ovalPerimeter / 2f) \u002B ((float)ovalPerimeter / 2f - txtWidth) / 2f;\r\n\t\t\t}\r\n\t\t\tcanvas.DrawTextOnPath(text, textPath, hOffset, 0, paint);\r\n\t\t}\r\n\t}\r\n\r\n\tusing (var data = SKImage.FromBitmap(bmp).Encode(SKEncodedImageFormat.Png, 100))\r\n\t{\r\n\t\tusing (var stream = System.IO.File.OpenWrite(\u0022image-output.png\u0022))\r\n\t\t{\r\n\t\t\tdata.SaveTo(stream);\r\n\t\t}\r\n\t}\r\n}\r\n\u0060\u0060\u0060\r\n**Expected Behavior**\r\n\r\nText on path should be rendered\r\n\r\n**Actual Behavior**\r\n\r\nNothing is rendered\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  2.80.2\r\n- Last known good version:  1.68.3-\r\n- IDE:  VS2019\r\n- Platform Target Frameworks:  .NET 4.6.1\r\n  - Android: \u003C!-- the version of the Android SDK you are compiling against, e.g. 7.1 --\u003E \r\n  - iOS:  \u003C!-- the version of the iOS SDK you are compiling against, e.g. 11.1 --\u003E\r\n  - Linux:  \u003C!-- The version and distro of linux that you are building for, e.g. Ubuntu 16.04 --\u003E\r\n  - macOS:  \u003C!-- The version of macOS you are building for, e.g. 10.10 --\u003E\r\n  - Tizen:  \u003C!-- the version of the Tizen SDK you are compiling against, e.g. 4.0 --\u003E \r\n  - tvOS:  \u003C!-- the version of the tvOS SDK you are compiling against, e.g. 11.1 --\u003E\r\n  - UWP:  \u003C!-- the version of the UWP SDK you are compiling against, e.g. 16299 --\u003E \r\n  - watchOS:  \u003C!-- the version of the watchOS SDK you are compiling against, e.g. 11.1 --\u003E\r\n  - Windows Classic:  Win10\r\n- Target Devices:   \u003C!-- the devices that you noticed this on, e.g. iPhone X --\u003E\r\n  - \u003C!-- Google Pixel 4 XL --\u003E\r\n  - \u003C!-- iPhone 11 --\u003E\r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\n  \r\n\u0060\u0060\u0060\r\n\r\nPASTE ANY DETAILED VERSION INFO HERE\r\n\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n**Screenshots**\r\n\r\n![image](https://user-images.githubusercontent.com/6842222/114560734-52279600-9c43-11eb-8135-e41dd13db271.png)\r\n\r\n![image](https://user-images.githubusercontent.com/6842222/114560793-610e4880-9c43-11eb-876e-14da4b0549da.png)\r\n\r\n\r\n**Reproduction Link**\r\n\r\n\u003C!-- please upload or provide a link to a reproduction case --\u003E\r\n\r\n",
  "author": {
    "login": "neodynamic",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2021-04-13T13:32:11",
  "updatedAt": "2022-10-05T18:01:15",
  "closedAt": "2022-09-05T15:27:49",
  "commentCount": 1,
  "reactionCount": 0
}