{
  "number": 181,
  "type": "issue",
  "state": "closed",
  "title": "Setting Pixel of SKBitmap with color type of Gray8 fails",
  "body": "When setting a pixel in an SKBitmap with a color type of Gray8, the value is never updated.\r\n\r\nI\u0027ve traced the bug to [Mono\u0027s fork of Skia](https://github.com/mono/skia/blob/xamarin-mobile-bindings/src/c/sk_bitmap.cpp#L147).\r\n\r\n\u0060\u0060\u0060\r\nvoid sk_bitmap_set_pixel_color(sk_bitmap_t* cbitmap, int x, int y, sk_color_t color)\r\n{\r\n    SkBitmap* bmp = AsBitmap(cbitmap);\r\n\r\n    SkAutoLockPixels alp(*bmp);\r\n\r\n    switch (bmp-\u003EcolorType()) {\r\n    case kAlpha_8_SkColorType:\r\n        copyAlpha8FromColor(1, \u0026color, (uint8_t*)bmp-\u003EgetAddr8(x, y));\r\n        break;\r\n    case kRGB_565_SkColorType:\r\n        copyRgb565FromColor(1, 1, \u0026color, (uint16_t*)bmp-\u003EgetAddr16(x, y));\r\n        break;\r\n    case kBGRA_8888_SkColorType:\r\n    case kRGBA_8888_SkColorType:\r\n        copy8888FromColor(1, \u0026color, (uint32_t*)bmp-\u003EgetAddr32(x, y));\r\n        break;\r\n    default:\r\n        break;\r\n    }\r\n}\r\n\u0060\u0060\u0060\r\n\r\nThere is no case for handling kIndex_8_SkColorType or kGray_8_SkColorType.\r\n\r\nI\u0027ve tried to work around this issue by copying the bitmap to an Alpha8 colorspace, but that copies the alpha channel (always 255) and discards the actual pixel data.",
  "author": {
    "login": "Tylerflick",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/bug",
      "color": "fc2929"
    }
  ],
  "assignees": [],
  "milestone": "1.55.1",
  "createdAt": "2016-11-03T22:23:38",
  "updatedAt": "2022-08-20T00:01:39",
  "closedAt": "2016-11-11T01:37:28",
  "commentCount": 9,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-04T20:35:10.2921275Z",
    "reactions": [],
    "comments": [
      {
        "id": 258392996,
        "author": "mattleibow",
        "createdAt": "2016-11-04T10:26:23",
        "reactions": []
      },
      {
        "id": 258401196,
        "author": "mattleibow",
        "createdAt": "2016-11-04T10:53:45",
        "reactions": []
      },
      {
        "id": 258402038,
        "author": "mattleibow",
        "createdAt": "2016-11-04T10:56:39",
        "reactions": []
      },
      {
        "id": 258435918,
        "author": "Tylerflick",
        "createdAt": "2016-11-04T13:50:05",
        "reactions": []
      },
      {
        "id": 258448953,
        "author": "mattleibow",
        "createdAt": "2016-11-04T14:39:51",
        "reactions": []
      },
      {
        "id": 258451468,
        "author": "mattleibow",
        "createdAt": "2016-11-04T14:48:58",
        "reactions": []
      },
      {
        "id": 258546010,
        "author": "Tylerflick",
        "createdAt": "2016-11-04T20:59:34",
        "reactions": []
      },
      {
        "id": 258873328,
        "author": "mattleibow",
        "createdAt": "2016-11-07T15:51:43",
        "reactions": []
      },
      {
        "id": 258889525,
        "author": "Tylerflick",
        "createdAt": "2016-11-07T16:44:58",
        "reactions": []
      }
    ]
  }
}