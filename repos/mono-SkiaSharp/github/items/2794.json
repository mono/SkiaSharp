{
  "number": 2794,
  "type": "issue",
  "state": "open",
  "title": "[BUG] Porting from 2.88.6 to 3.0.0-preview2.1 - \u0022Access Violation on Finalizer/Dispose\u0022- SKPaint object",
  "body": "### Description\r\n\r\nThank you for SkiaSharp!  We love love love it.\r\n\r\nTonight I started our efforts to port our application from using SkiaSharp 2.88.6 (which is working like a champ, making full use of custom shaders on GLSurfaces), to the latest 3.0.0-preview2.1.\r\n\r\nWe had to change over about a dozen API\u0027s to the new API\u0027s -- very smooth, no issue.\r\n\r\nBut now when we run our previously very-stable application (in production), it now (with SkiaSharp v3.0) instantly crashes with an \u0022Access Violation\u0022 error where the stack trace shows a Native SKObject Dispose() method being called by it\u0027s finalizer.\r\n\r\nHere\u0027s what I see in Visual Studio 2022:\r\n\r\n![image](https://github.com/mono/SkiaSharp/assets/10914515/3b71f545-0541-4693-842d-7e4671105b2f)\r\n\r\n**The object type Disposed is of type \u0022SKPaint\u0022.**\r\n\r\n\r\n### Code\r\n\r\nBecause I don\u0027t know which SKObject is being Finalized, I don\u0027t know which code triggers it.   But somewhere, I\u0027ve got an SKPaint object that is being disposed via the Finalizer, which is supposed to be fine (right?).\r\n\r\n### Expected Behavior\r\n\r\nI\u0027m expecting SkiaSharp Object Finalizers to NOT cause Access Violation exceptions, but instead to operated normally.\r\n\r\n### Actual Behavior\r\n\r\nFinalizer calls Dispose() which throws a fatal \u0022Access Violoation\u0022 exception, and our app crashes.\r\n\r\n### Version of SkiaSharp\r\n\r\n3.x (Alpha)\r\n\r\n### Last Known Good Version of SkiaSharp\r\n\r\n2.88.2 (Previous)\r\n\r\n### IDE / Editor\r\n\r\nVisual Studio (Windows)\r\n\r\n### Platform / Operating System\r\n\r\nWindows\r\n\r\n### Platform / Operating System Version\r\n\r\nWindows 11 Home\r\n\r\n### Devices\r\n\r\nCyberPowerPC with intel i9-14900K, running Windows 11 Home\r\n\r\n### Relevant Screenshots\r\n\r\n![image](https://github.com/mono/SkiaSharp/assets/10914515/dc523b12-fe50-4ee3-923d-9ba3b05ef41e)\r\n\r\n\r\n### Relevant Log Output\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project\u0027s Code of Conduct",
  "author": {
    "login": "najak3d",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/bug",
      "color": "fc2929"
    }
  ],
  "assignees": [],
  "createdAt": "2024-03-12T10:17:05",
  "updatedAt": "2025-03-12T23:52:13",
  "commentCount": 39,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-04T19:55:23.5134248Z",
    "reactions": [],
    "comments": [
      {
        "id": 1991291752,
        "author": "najak3d",
        "createdAt": "2024-03-12T10:21:21",
        "reactions": []
      },
      {
        "id": 1991335052,
        "author": "najak3d",
        "createdAt": "2024-03-12T10:40:39",
        "reactions": []
      },
      {
        "id": 1991351806,
        "author": "najak3d",
        "createdAt": "2024-03-12T10:49:57",
        "reactions": []
      },
      {
        "id": 2019537529,
        "author": "AmitParmar2005",
        "createdAt": "2024-03-26T07:10:27",
        "reactions": []
      },
      {
        "id": 2019843954,
        "author": "najak3d",
        "createdAt": "2024-03-26T08:47:14",
        "reactions": []
      },
      {
        "id": 2020203285,
        "author": "AmitParmar2005",
        "createdAt": "2024-03-26T11:44:05",
        "reactions": []
      },
      {
        "id": 2021530840,
        "author": "najak3d",
        "createdAt": "2024-03-26T21:48:14",
        "reactions": []
      },
      {
        "id": 2283983732,
        "author": "FoggyFinder",
        "createdAt": "2024-08-12T13:23:12",
        "reactions": []
      },
      {
        "id": 2708919381,
        "author": "najak3d",
        "createdAt": "2025-03-09T15:35:31",
        "reactions": []
      },
      {
        "id": 2709049479,
        "author": "najak3d",
        "createdAt": "2025-03-09T20:18:36",
        "reactions": []
      },
      {
        "id": 2709447863,
        "author": "mattleibow",
        "createdAt": "2025-03-10T05:10:36",
        "reactions": []
      },
      {
        "id": 2709471397,
        "author": "mattleibow",
        "createdAt": "2025-03-10T05:30:29",
        "reactions": []
      },
      {
        "id": 2709548470,
        "author": "mattleibow",
        "createdAt": "2025-03-10T06:21:01",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:17.3141021Z"
          }
        ]
      },
      {
        "id": 2709556681,
        "author": "najak3d",
        "createdAt": "2025-03-10T06:26:42",
        "reactions": []
      },
      {
        "id": 2709582896,
        "author": "najak3d",
        "createdAt": "2025-03-10T06:43:52",
        "reactions": []
      },
      {
        "id": 2710245605,
        "author": "najak3d",
        "createdAt": "2025-03-10T11:18:34",
        "reactions": []
      },
      {
        "id": 2710451429,
        "author": "najak3d",
        "createdAt": "2025-03-10T12:39:50",
        "reactions": []
      },
      {
        "id": 2711232167,
        "author": "najak3d",
        "createdAt": "2025-03-10T16:52:45",
        "reactions": []
      },
      {
        "id": 2711403960,
        "author": "najak3d",
        "createdAt": "2025-03-10T17:59:10",
        "reactions": []
      },
      {
        "id": 2711622520,
        "author": "mattleibow",
        "createdAt": "2025-03-10T19:31:06",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:18.919211Z"
          },
          {
            "user": "najak3d",
            "content": "heart",
            "createdAt": "2026-02-04T19:55:18.9192115Z"
          }
        ]
      },
      {
        "id": 2711692967,
        "author": "najak3d",
        "createdAt": "2025-03-10T20:03:26",
        "reactions": []
      },
      {
        "id": 2712888947,
        "author": "mattleibow",
        "createdAt": "2025-03-11T07:02:09",
        "reactions": []
      },
      {
        "id": 2714537535,
        "author": "najak3d",
        "createdAt": "2025-03-11T14:30:45",
        "reactions": []
      },
      {
        "id": 2714839073,
        "author": "najak3d",
        "createdAt": "2025-03-11T15:47:29",
        "reactions": []
      },
      {
        "id": 2715349614,
        "author": "mattleibow",
        "createdAt": "2025-03-11T18:31:31",
        "reactions": []
      },
      {
        "id": 2715385488,
        "author": "mattleibow",
        "createdAt": "2025-03-11T18:44:43",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:20.4103216Z"
          }
        ]
      },
      {
        "id": 2715392107,
        "author": "mattleibow",
        "createdAt": "2025-03-11T18:47:41",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:20.630772Z"
          }
        ]
      },
      {
        "id": 2715393578,
        "author": "mattleibow",
        "createdAt": "2025-03-11T18:48:26",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:20.8423488Z"
          }
        ]
      },
      {
        "id": 2715403972,
        "author": "najak3d",
        "createdAt": "2025-03-11T18:53:18",
        "reactions": []
      },
      {
        "id": 2715455474,
        "author": "najak3d",
        "createdAt": "2025-03-11T19:17:48",
        "reactions": []
      },
      {
        "id": 2715483807,
        "author": "mattleibow",
        "createdAt": "2025-03-11T19:30:02",
        "reactions": []
      },
      {
        "id": 2715591571,
        "author": "mattleibow",
        "createdAt": "2025-03-11T20:08:13",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:21.7494012Z"
          }
        ]
      },
      {
        "id": 2715707790,
        "author": "najak3d",
        "createdAt": "2025-03-11T21:06:03",
        "reactions": []
      },
      {
        "id": 2715727597,
        "author": "najak3d",
        "createdAt": "2025-03-11T21:17:04",
        "reactions": []
      },
      {
        "id": 2716274160,
        "author": "mattleibow",
        "createdAt": "2025-03-12T02:56:59",
        "reactions": []
      },
      {
        "id": 2717808374,
        "author": "najak3d",
        "createdAt": "2025-03-12T12:59:42",
        "reactions": []
      },
      {
        "id": 2717968143,
        "author": "mattleibow",
        "createdAt": "2025-03-12T13:55:38",
        "reactions": [
          {
            "user": "najak3d",
            "content": "rocket",
            "createdAt": "2026-02-04T19:55:22.9851939Z"
          }
        ]
      },
      {
        "id": 2718835170,
        "author": "najak3d",
        "createdAt": "2025-03-12T18:59:19",
        "reactions": []
      },
      {
        "id": 2719372767,
        "author": "najak3d",
        "createdAt": "2025-03-12T23:52:12",
        "reactions": []
      }
    ]
  }
}