{
  "number": 3517,
  "type": "pr",
  "state": "closed",
  "title": "Bug pipeline: redesign triage/repro/fix schemas and skill improvements",
  "body": "## Bug Pipeline Skill Redesign\n\nRedesigns the three AI skills (triage-issue, bug-repro, bug-fix) into a coherent bug pipeline with structured JSON output at every step, improved schema validation, and better field coverage.\n\n### Changes\n\n**Triage schema** (\u0060triage-schema.json\u0060): Simplified from 2,281 \u2192 ~600 lines\n- Removed verbose \u0060fieldRationales\u0060 system, replaced with single \u0060rationale\u0060 string\n- Removed complex action payloads (~15 \u0060$defs\u0060), simplified to \u0060{type, description, labels?, comment?, linkedIssue?}\u0060\n- Removed all \u0060oneOf: [type, null]\u0060 patterns \u2014 optional fields are now omitted entirely\n- Added missing label categories: \u0060tenets\u0060 (tenet/compatibility, tenet/performance, tenet/reliability) and \u0060partner\u0060 (partner/maui, partner/tizen, partner/unoplatform)\n- Aligned all enum values to match \u0060labels.md\u0060 exactly (e.g. \u0060area/SkiaSharp.Views.Maui\u0060 not \u0060area/views.maui\u0060)\n- Restored 13 valuable fields that were over-simplified:\n  - \u0060evidence.bugSignals.reproQuality\u0060 (complete/partial/none)\n  - \u0060evidence.bugSignals.targetFrameworks\u0060 (TFM strings)\n  - \u0060evidence.reproEvidence.relatedIssues\u0060 and \u0060repoLinks\u0060\n  - \u0060evidence.versionAnalysis.currentRelevance\u0060 and \u0060relevanceReason\u0060\n  - \u0060evidence.regression\u0060 object (isRegression, confidence, reason, versions)\n  - \u0060evidence.fixStatus\u0060 object (likelyFixed, relatedPRs, fixedInVersion)\n  - \u0060analysis.keySignals[]\u0060 ({text, source, interpretation} \u2014 structured evidence quotes)\n  - \u0060analysis.resolution.proposals[].title\u0060 and \u0060codeSnippet\u0060\n  - \u0060analysis.resolution.recommendedProposal\u0060 and \u0060recommendedReason\u0060\n- Reset schema version to \u00601.0\u0060 (clean slate, no backward compat needed)\n\n**Repro schema** (\u0060repro-schema.json\u0060): Cleaned up from 553 \u2192 ~400 lines\n- Removed all null union patterns\n- Added \u0060inputs.triageFile\u0060 for pipeline linking\n- Added \u0060feedback.triageCorrections[]\u0060 for structured upstream corrections\n- Added \u0060assessment\u0060 field (editorial judgment separate from factual conclusion)\n- Enforce factual vs editorial separation in conclusions\n- Require evidence for version-specific claims\n\n**Fix schema** (\u0060fix-schema.json\u0060): **NEW** \u2014 280 lines\n- Root cause analysis: \u0060category\u0060 (logic-error, memory-safety, etc.) \u002B \u0060area\u0060 (managed, binding, native)\n- Change tracking with file-level diffs\n- Test results and verification steps\n- PR metadata\n- \u0060feedback.corrections[]\u0060 for upstream pipeline corrections\n\n**Skill improvements**\n- All three SKILL.md files updated with schema rules callout boxes\n- Triage: workaround search \u002B validation pipeline, response guidelines\n- Repro: conclusion guide, repro strategies reference\n- Fix: Phase 9 added for generating fix JSON with validation\n\n**Pipeline documentation** (\u0060documentation/bug-pipeline.md\u0060): **NEW**\n- Step table: triage \u2192 repro \u2192 fix\n- Feedback loop documentation\n- Progress tracking guidance\n\n**Validation**\n- All 46 triage files regenerated with fresh \u0060copilot -p\u0060 runs \u2014 46/46 pass \u2705\n- All 18 repro files regenerated with fresh \u0060copilot -p\u0060 runs \u2014 18/18 pass \u2705\n- Each run used a fresh copilot process with zero shared context\n- Restored field adoption: keySignals 100%, currentRelevance 97%, recommendedProposal 97%\n\n### Files Changed (15 files, \u002B1829 -2732)\n\n| File | Change |\n|------|--------|\n| \u0060triage-schema.json\u0060 | Simplified from 2281\u2192600 lines, restored 13 fields |\n| \u0060triage-examples.md\u0060 | Completely rewritten for v1.0 format |\n| \u0060triage SKILL.md\u0060 | Schema rules, restored field docs, tenets/partner |\n| \u0060validate-triage.ps1\u0060 | Rewritten for new schema |\n| \u0060repro-schema.json\u0060 | Cleaned up, added inputs/feedback |\n| \u0060repro-examples.md\u0060 | Fixed for v1.0 format |\n| \u0060repro SKILL.md\u0060 | Schema rules, feedback, inputs.triageFile |\n| \u0060validate-repro.ps1\u0060 | Rewritten for new schema |\n| \u0060fix-schema.json\u0060 | **NEW** v1.0 schema |\n| \u0060validate-fix.ps1\u0060 | **NEW** validation script |\n| \u0060bug-fix SKILL.md\u0060 | Phase 9 (Generate Fix JSON) |\n| \u0060conclusion-guide.md\u0060 | Factual vs editorial separation |\n| \u0060repro-strategies.md\u0060 | Minor updates |\n| \u0060bug-pipeline.md\u0060 | **NEW** pipeline reference |\n| \u0060copilot-instructions.md\u0060 | Bug Pipeline table |\n\n### Data regeneration (docs-data-cache branch)\n\nAll 64 data files were deleted and regenerated from scratch using fresh \u0060copilot -p \u0022triage #NNNN\u0022\u0060 and \u0060copilot -p \u0022repro #NNNN\u0022\u0060 processes (3 parallel). Zero failures, zero manual intervention.\n",
  "author": {
    "login": "mattleibow",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2026-02-11T23:04:30",
  "updatedAt": "2026-02-12T18:19:31",
  "closedAt": "2026-02-12T18:19:27",
  "commentCount": 0,
  "reactionCount": 0,
  "draft": false,
  "merged": true,
  "mergedAt": "2026-02-12T18:19:27",
  "mergeableState": "unknown",
  "baseBranch": "main",
  "headBranch": "dev/improve-repro-skill-version-checks",
  "additions": 1829,
  "deletions": 2732,
  "changedFiles": 15,
  "commits": 5,
  "reviews": [],
  "engagement": {
    "syncedAt": "2026-02-12T18:19:48.3240905Z",
    "reactions": [],
    "comments": []
  }
}