{
  "number": 2033,
  "type": "issue",
  "state": "open",
  "title": "[BUG] WinForms- Visual Studio designer crashes for projects targeting multiple frameworks",
  "body": "**Description**\r\n\r\nWhen using SKControl or SKGLControl from SkiaSharp.Views.WindowForms, the designer crashes if the application targets .NET Framework and .NET 6.\r\n\r\n**Code**\r\n\r\n.csproj:\r\n\u0060\u0060\u0060\r\n\u003CProject Sdk=\u0022Microsoft.NET.Sdk\u0022\u003E\r\n\r\n  \u003CPropertyGroup\u003E\r\n    \u003COutputType\u003EWinExe\u003C/OutputType\u003E\r\n    \u003CTargetFrameworks\u003Enet6.0-windows;net462\u003C/TargetFrameworks\u003E\r\n    \u003CUseWindowsForms\u003Etrue\u003C/UseWindowsForms\u003E\r\n  \u003C/PropertyGroup\u003E\r\n\r\n  \u003CItemGroup\u003E\r\n    \u003CPackageReference Include=\u0022SkiaSharp.Views.WindowsForms\u0022 Version=\u00222.80.3\u0022 /\u003E\r\n  \u003C/ItemGroup\u003E\r\n\r\n\u003C/Project\u003E\r\n\u0060\u0060\u0060\r\n\r\n**Expected Behavior**\r\n\r\nThe provided controls should behave properly when added to forms that are part of multi-target projects.\r\n\r\n**Actual Behavior**\r\n\r\nThe provided controls break design mode when added to forms that are part of multi-target projects.\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  2.80.3\r\n- Last known good version:  Unknown, probably none\r\n- IDE:  Visual Studio 2022\r\n- Platform Target Frameworks:\r\n  - Windows Classic:  WindowsForms - net6.0-windows \u002B net462\r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\n  \r\n\u0060\u0060\u0060\r\n\r\nMicrosoft Visual Studio Community 2022 (64-bit) - Current\r\nVersion 17.1.2\r\n\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/1202288/167926737-690c626e-5539-4acb-9470-10cb31dc9413.png)\r\n\r\n**Reproduction Link**\r\n\r\nSteps to reproduce:\r\n1) Create a new project\r\n2) Select \u0022Windows Forms App\u0022 (C#, not .NET Framework)\r\n3) Configure project\r\n4) Select .NET 6.0 as framework -\u003E Create\r\n5) Update files to the following:\r\n.csproj:\r\n\u0060\u0060\u0060\r\n\u003CProject Sdk=\u0022Microsoft.NET.Sdk\u0022\u003E\r\n\r\n  \u003CPropertyGroup\u003E\r\n    \u003COutputType\u003EWinExe\u003C/OutputType\u003E\r\n    \u003CTargetFrameworks\u003Enet6.0-windows;net462\u003C/TargetFrameworks\u003E\r\n    \u003CUseWindowsForms\u003Etrue\u003C/UseWindowsForms\u003E\r\n  \u003C/PropertyGroup\u003E\r\n\r\n\u003C/Project\u003E\r\n\u0060\u0060\u0060\r\n\r\nProgram.cs:\r\n\u0060\u0060\u0060\r\nusing System;\r\nusing System.Windows.Forms;\r\n\r\nnamespace WinFormsApp1\r\n{\r\n  internal static class Program {\r\n    /// \u003Csummary\u003E\r\n    ///  The main entry point for the application.\r\n    /// \u003C/summary\u003E\r\n    [STAThread]\r\n    static void Main() {\r\n#if NET5_0_OR_GREATER\r\n      Application.SetHighDpiMode(HighDpiMode.SystemAware);\r\n#endif\r\n      Application.EnableVisualStyles();\r\n      Application.SetCompatibleTextRenderingDefault(false);\r\n      Application.Run(new Form1());\r\n    }\r\n  }\r\n}\r\n\r\n\u0060\u0060\u0060\r\n\r\nForm1.cs:\r\n\u0060\u0060\u0060\r\nusing System.Windows.Forms;\r\n\r\nnamespace WinFormsApp1\r\n{\r\n    public partial class Form1 : Form\r\n    {\r\n        public Form1()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n    }\r\n}\r\n\u0060\u0060\u0060\r\n6) Right click project -\u003EManage NuGet Packages...\r\n7) Install SkiaSharp.Views.WindowsForms, v2.80.3\r\n8) Open Form1.cs designer -\u003E ERROR\r\n\r\nIf you don\u0027t get an error at step 8, drap an SKControl onto the form, save, and restart Visual Studio. It will then error if you try to open Form1\u0027s designer again.\r\n\r\n\r\n",
  "author": {
    "login": "jonchardy",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2022-05-11T19:57:01",
  "updatedAt": "2022-05-11T19:57:01",
  "commentCount": 0,
  "reactionCount": 0
}