{
  "number": 2443,
  "type": "pr",
  "state": "closed",
  "title": "Update bitmap SKAlphaType in SKXamlCanvas.Wasm.cs",
  "body": "To obtain the expected built bitmap by skia, we need to change the SKAlphaType of the build image. Opaque doesn\u0027t give correct results when bluring colors with alpha for example. Premul doesn\u0027t work either for a particular reason: In javascript we use the ImageData API.\r\nThe ImageData API store the pixels as un-premultiplied. So if we use the premultiplied enum value we end up with wrong pixel colors (same result as Opaque in fact). I tested unpremul value in a project that is using blur, and it gives the correct results.",
  "author": {
    "login": "roubachof",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v2.88.4",
  "createdAt": "2023-04-18T10:12:58",
  "updatedAt": "2023-06-19T17:45:13",
  "closedAt": "2023-06-14T08:26:45",
  "commentCount": 2,
  "reactionCount": 0,
  "draft": false,
  "merged": true,
  "mergedAt": "2023-06-14T08:26:45",
  "mergeableState": "unknown",
  "baseBranch": "main",
  "headBranch": "main",
  "additions": 1,
  "deletions": 1,
  "changedFiles": 1,
  "commits": 2,
  "reviews": [
    {
      "author": "mattleibow",
      "state": "APPROVED",
      "submittedAt": "2023-06-12T22:59:42"
    }
  ],
  "engagement": {
    "syncedAt": "2026-02-06T13:45:48.2605704Z",
    "reactions": [],
    "comments": [
      {
        "id": 1588220574,
        "author": "mattleibow",
        "body": "@roubachof is there a way to create a test? Right now we have no way to capture the image, but some drawing code that I can run against this PR to test?\r\n\r\nIs it just a batter of drawing two different blocks, or is it blending with other elements?",
        "createdAt": "2023-06-12T23:01:14",
        "reactions": []
      },
      {
        "id": 1588942105,
        "author": "roubachof",
        "body": "When [this PR](https://github.com/unoplatform/uno.toolkit.ui/pull/571) will be merged (very soon I hope :) You will be able to test it  with the WASM target of the Uno toolkit sample =\u003E Control =\u003E ShadowContainer\r\nYou should see this : \r\n![shadows-neumorphism](https://github.com/mono/SkiaSharp/assets/596903/37ce12c9-2d05-468a-8897-a872a5b73136)\r\nIf it\u0027s in premul, the shadows will look \u0022dirty\u0022",
        "createdAt": "2023-06-13T09:46:15",
        "reactions": []
      }
    ]
  }
}