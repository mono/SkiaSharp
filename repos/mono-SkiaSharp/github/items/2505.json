{
  "number": 2505,
  "type": "pr",
  "state": "closed",
  "title": "Modernize the repository and prepare SkiaSharp 3.0",
  "body": "**Description of Change**\r\n\r\nThis PR is a massive jump for SkiaSharp. Not sure of the full scope just yet, but SkiaSharp is far too huge to be maintainable as well as it holds onto the past. Some platforms are no longer relevant/supported and the tooling is ancient.\r\n\r\nThe changes so far:\r\n - Dropping support for old platforms:\r\n    - watchOS as this is not a platform that is useful to have SkiaSharp on - SkiaSharp is larger than the allowed app size\r\n    - UWP as this platform is not so active - we can revisit this later and it appears Win32 dlls work in UWP now\r\n - Dropping support for old frameworks:\r\n    - Classic Xamarin (the non .NET version) as this is going out of support in May 2024\r\n    - Classic Tizen (the non .NET version)\r\n    - Xamarin.Forms as this is no longer actively developed and requires Classic Xamarin\r\n    - GTK 2 as this is super ancient\r\n    - netcoreapp3.1 - moving to net6 and net7\r\n - Switching the build system to .NET 7 since this is far superior\r\n - Switching to the new xharness and device tests\r\n",
  "author": {
    "login": "mattleibow",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2023-06-22T20:13:33",
  "updatedAt": "2023-07-30T15:50:01",
  "closedAt": "2023-07-30T15:49:57",
  "commentCount": 13,
  "reactionCount": 28,
  "draft": false,
  "merged": true,
  "mergedAt": "2023-07-30T15:49:57",
  "mergeableState": "unknown",
  "baseBranch": "develop",
  "headBranch": "dev/modern",
  "additions": 83319,
  "deletions": 71680,
  "changedFiles": 1608,
  "commits": 142,
  "reviews": [],
  "engagement": {
    "syncedAt": "2026-02-06T13:44:42.0536452Z",
    "reactions": [
      {
        "user": "nor0x",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536505Z"
      },
      {
        "user": "inforithmics",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536511Z"
      },
      {
        "user": "tebjan",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536514Z"
      },
      {
        "user": "ScrubN",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536518Z"
      },
      {
        "user": "malstraem",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536521Z"
      },
      {
        "user": "mattleibow",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536523Z"
      },
      {
        "user": "iamcarbon",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536525Z"
      },
      {
        "user": "thomasstockermc",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536527Z"
      },
      {
        "user": "AathifMahir",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536529Z"
      },
      {
        "user": "thisisthekap",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536531Z"
      },
      {
        "user": "driver1998",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536533Z"
      },
      {
        "user": "albi005",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536534Z"
      },
      {
        "user": "cricketthomas",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536536Z"
      },
      {
        "user": "BAndysc",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536538Z"
      },
      {
        "user": "rgwood",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.053654Z"
      },
      {
        "user": "yoshiask",
        "content": "confused",
        "createdAt": "2026-02-06T13:44:42.0536541Z"
      },
      {
        "user": "bernaferrari",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536542Z"
      },
      {
        "user": "GuillaumeLebeau",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536543Z"
      },
      {
        "user": "michael-hawker",
        "content": "confused",
        "createdAt": "2026-02-06T13:44:42.0536544Z"
      },
      {
        "user": "danielchalmers",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:44:42.0536545Z"
      },
      {
        "user": "aaronbloom",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:44:42.0536547Z"
      },
      {
        "user": "malstraem",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:44:42.0536549Z"
      },
      {
        "user": "simix-markus",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.053655Z"
      },
      {
        "user": "simix-markus",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:44:42.0536551Z"
      },
      {
        "user": "kcrg",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536552Z"
      },
      {
        "user": "taublast",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.05366Z"
      },
      {
        "user": "bsdayo",
        "content": "heart",
        "createdAt": "2026-02-06T13:44:42.0536602Z"
      },
      {
        "user": "Arlodotexe",
        "content": "confused",
        "createdAt": "2026-02-06T13:44:42.0536603Z"
      }
    ],
    "comments": [
      {
        "id": 1609221419,
        "author": "azure-pipelines[bot]",
        "body": "\u003Csamp\u003E\nThere was an error handling pipeline event 8596f72c-bfc0-4192-9fd1-9788bb16d878.\u003Cbr\u003E\r\n\n\u003C/samp\u003E",
        "createdAt": "2023-06-27T10:23:13",
        "reactions": []
      },
      {
        "id": 1646016202,
        "author": "dbriard",
        "body": "Hi @mattleibow \r\nCould you have a look at this https://github.com/mono/SkiaSharp/issues/2530 for 3.0 please? (or an earlier preview builds)",
        "createdAt": "2023-07-21T17:17:48",
        "reactions": []
      },
      {
        "id": 1649851333,
        "author": "ahmed605",
        "body": "\u003E UWP as this platform is not supported anymore\n\n![IMG_20230725_162833.png](https://github.com/mono/SkiaSharp/assets/34550324/394b8c43-1a83-4643-bcfa-4731e17a5556)\n\nhttps://learn.microsoft.com/en-us/windows/apps/get-started/windows-developer-faq#deprecations-and-migrations",
        "createdAt": "2023-07-25T13:29:51",
        "reactions": [
          {
            "user": "rgwood",
            "content": "-1",
            "createdAt": "2026-02-06T13:44:39.5015748Z"
          },
          {
            "user": "rgwood",
            "content": "confused",
            "createdAt": "2026-02-06T13:44:39.5015755Z"
          },
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:39.5015756Z"
          },
          {
            "user": "michael-hawker",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:39.5015757Z"
          }
        ]
      },
      {
        "id": 1649912383,
        "author": "HEIC-to-JPEG-Dev",
        "body": "\u003E \u003E UWP as this platform is not supported anymore\r\n\u003E \r\n\u003E ![IMG_20230725_162833.png](https://user-images.githubusercontent.com/34550324/255915054-394b8c43-1a83-4643-bcfa-4731e17a5556.png)\r\n\u003E \r\n\u003E https://learn.microsoft.com/en-us/windows/apps/get-started/windows-developer-faq#deprecations-and-migrations\r\n\r\nI think that\u0027s the actual definition of \u0022deprecated\u0022 - nothing new, they\u0027ll keep the lights on",
        "createdAt": "2023-07-25T14:05:22",
        "reactions": []
      },
      {
        "id": 1649928823,
        "author": "ahmed605",
        "body": "\u003E \u003E \u003E UWP as this platform is not supported anymore\n\u003E \u003E \n\u003E \u003E ![IMG_20230725_162833.png](https://user-images.githubusercontent.com/34550324/255915054-394b8c43-1a83-4643-bcfa-4731e17a5556.png)\n\u003E \u003E \n\u003E \u003E https://learn.microsoft.com/en-us/windows/apps/get-started/windows-developer-faq#deprecations-and-migrations\n\u003E \n\u003E I think that\u0027s the actual definition of \u0022deprecated\u0022 - nothing new, they\u0027ll keep the lights on\n\nmy point is that it\u0027s still fully supported, even .NET Native is still fully supported and in fact there\u0027s still a dedicated support team for it",
        "createdAt": "2023-07-25T14:14:56",
        "reactions": [
          {
            "user": "rgwood",
            "content": "-1",
            "createdAt": "2026-02-06T13:44:40.0035089Z"
          },
          {
            "user": "yoshiask",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:40.0035095Z"
          },
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:40.0035096Z"
          },
          {
            "user": "michael-hawker",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:40.0035097Z"
          },
          {
            "user": "malstraem",
            "content": "-1",
            "createdAt": "2026-02-06T13:44:40.0035098Z"
          }
        ]
      },
      {
        "id": 1650126739,
        "author": "HEIC-to-JPEG-Dev",
        "body": "\u003E \u003E \u003E \u003E UWP as this platform is not supported anymore\r\n\u003E \u003E \u003E \r\n\u003E \u003E \u003E \r\n\u003E \u003E \u003E ![IMG_20230725_162833.png](https://user-images.githubusercontent.com/34550324/255915054-394b8c43-1a83-4643-bcfa-4731e17a5556.png)\r\n\u003E \u003E \u003E https://learn.microsoft.com/en-us/windows/apps/get-started/windows-developer-faq#deprecations-and-migrations\r\n\u003E \u003E \r\n\u003E \u003E \r\n\u003E \u003E I think that\u0027s the actual definition of \u0022deprecated\u0022 - nothing new, they\u0027ll keep the lights on\r\n\u003E \r\n\u003E my point is that it\u0027s still fully supported, even .NET Native is still fully supported and in fact there\u0027s still a dedicated support team for it\r\n\r\nMy analogy is, if you\u0027re buying a car and they said it would only get services and fixes but no new upgrades, and there are no new models - you\u0027d buy a different car.\r\n",
        "createdAt": "2023-07-25T16:07:21",
        "reactions": []
      },
      {
        "id": 1650138865,
        "author": "Gillibald",
        "body": "Dropping platforms makes it possible to move SkiaSharp further. It is desperately needed to modernize this project. Breaking changes are also welcome to increase maintainability.",
        "createdAt": "2023-07-25T16:14:41",
        "reactions": []
      },
      {
        "id": 1650609117,
        "author": "ahmed605",
        "body": "\u003E Dropping platforms makes it possible to move SkiaSharp further. It is desperately needed to modernize this project. Breaking changes are also welcome to increase maintainability.\r\n\r\nWhat\u0027s so hard about adding \u0060uap\u0060 to \u0060TargetFrameworks\u0060 tag though? especially that most SkiaSharp projects already support .NET Standard 2.0 (\u0060uap\u0060 target has a similar BCL as the \u0060netstandard2.0\u0060 target so there should be no compatibility issues) and Uno Platform (the API is (superficially) the exact same as UWP\u0027s) so it\u0027s (almost?) no work",
        "createdAt": "2023-07-25T21:50:41",
        "reactions": [
          {
            "user": "yoshiask",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:40.7679507Z"
          },
          {
            "user": "michael-hawker",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:40.7679512Z"
          },
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:40.7679513Z"
          }
        ]
      },
      {
        "id": 1650662223,
        "author": "michael-hawker",
        "body": "I\u0027m also worried about dropping UWP as a platform as the WASDK isn\u0027t a complete replacement for it yet. We\u0027re still planning on supporting UWP in the Toolkit. One of our components (Rive) uses ShiaSharp, so this would prevent us from updating to the latest version or creating other components using SkiaSharp.",
        "createdAt": "2023-07-25T22:42:54",
        "reactions": []
      },
      {
        "id": 1651406055,
        "author": "mattleibow",
        "body": "@ahmed605\n\n\u003E What\u0027s so hard about adding uap to TargetFrameworks tag though? \n\nThe old way of building required a mac and windows build of separate project and then combining the artifacts in a separate step using the old nuget pack.\n\nThe new way can build and pack in a single project.\n\nThe main issue is that dotnet core does not support uwp. However, no uwp support in this PR does not mean that we can\u0027t get it back. As far as testing goes, we no longer need a special uwp build as the old win32 dlls now work and so does netstandard.\n\nThe only thing that could be counted as missing is the uwp views which I can either add back or put is a separate repository. This PR is trying to improve maintainability. \n\nHowever, this PR is still a ways away from a final release. Once I merge and then clean up the api and do the skia update, we can see the demand for uwp and we can add back. All the code is just a commit away. ",
        "createdAt": "2023-07-26T09:52:50",
        "reactions": [
          {
            "user": "ahmed605",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.2628856Z"
          }
        ]
      },
      {
        "id": 1651413934,
        "author": "mattleibow",
        "body": "\u003E I\u0027m also worried about dropping UWP as a platform as the WASDK isn\u0027t a complete replacement for it yet. \n\nThis is a valid case and maybe we need to add uwp back. However, I am hoping to get a first public preview in time for net8 and maybe stable for build. So this PR is more a remove all the bits that potentially are old and will cause issues. Then we are going to clean up all the obsolete apis and then update native skia.\n\nOnce we are new and clean, we can see if we still have the right tfm selection. ",
        "createdAt": "2023-07-26T09:56:28",
        "reactions": [
          {
            "user": "ahmed605",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.5300158Z"
          },
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.5300164Z"
          },
          {
            "user": "michael-hawker",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.5300165Z"
          }
        ]
      },
      {
        "id": 1651421951,
        "author": "mattleibow",
        "body": "Thanks folks for the comments. All the talk around UWP is good and shows there is still some need for that. ",
        "createdAt": "2023-07-26T09:58:35",
        "reactions": [
          {
            "user": "ahmed605",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.7771073Z"
          },
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.7771078Z"
          },
          {
            "user": "michael-hawker",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:44:41.7771079Z"
          }
        ]
      },
      {
        "id": 1651432947,
        "author": "mattleibow",
        "body": "Here is an example of the pain when building the repo. You basically have to check all the boxes in VS and then install some old components.\n\n- https://github.com/mono/SkiaSharp/issues/2534\n\nOnce we merge, all that is required is a dotnet build/pack and the IDE will also just work.\n\nNot only is this PR trying to improve my dev turnaround but also make this project something that at least some other collection of people can build. ",
        "createdAt": "2023-07-26T10:02:02",
        "reactions": []
      }
    ]
  }
}