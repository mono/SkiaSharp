{
  "number": 546,
  "type": "issue",
  "state": "closed",
  "title": "Layered SKGLViews with Xamarin Forms",
  "body": "### Description\r\n\r\nMy application uses 2 different SKGLViews stacked on top of each other to separate the drawing of the background from that of the foreground. This has been working in Android up until version 1.59.3 and stopped in version 1.60. It still works in UWP or if I use SKCanvasView.\r\n\r\n### Code\r\n\r\n###### Xaml\r\n\u0060\u0060\u0060\r\n\u003CRelativeLayout HorizontalOptions=\u0022FillAndExpand\u0022 VerticalOptions=\u0022FillAndExpand\u0022\u003E\r\n    \u003Cskia:SKGLView x:Name=\u0022canvasView\u0022\r\n        PaintSurface=\u0022OnPaintSurface\u0022\r\n        RelativeLayout.WidthConstraint=\u0022{ConstraintExpression Type=RelativeToParent, Property=Width, Factor=1}\u0022\r\n        RelativeLayout.HeightConstraint=\u0022{ConstraintExpression Type=RelativeToParent, Property=Height, Factor=1}\u0022\r\n    /\u003E\r\n\r\n    \u003Cskia:SKGLView x:Name=\u0022canvasView2\u0022\r\n        PaintSurface=\u0022OnPaintSurface2\u0022\r\n        RelativeLayout.WidthConstraint=\u0022{ConstraintExpression Type=RelativeToParent, Property=Width, Factor=1}\u0022\r\n        RelativeLayout.HeightConstraint=\u0022{ConstraintExpression Type=RelativeToParent, Property=Height, Factor=1}\u0022\r\n    /\u003E\r\n\u003C/RelativeLayout\u003E\r\n\u0060\u0060\u0060\r\n\r\n###### C#\r\n\u0060\u0060\u0060\r\nprivate void OnPaintSurface(object sender, SKPaintGLSurfaceEventArgs e)\r\n{\r\n    e.Surface.Canvas.Clear(SKColors.Blue);\r\n}\r\n\r\nprivate void OnPaintSurface2(object sender, SKPaintGLSurfaceEventArgs e)\r\n{\r\n    e.Surface.Canvas.Clear(SKColors.Transparent);\r\n}\r\n\u0060\u0060\u0060\r\n\r\n### Expected Behavior\r\n\r\nThe top view should be rendered transparent and the bottom canvas should be blue.\r\n\r\n### Actual Behavior\r\n\r\nThe top view is black and the bottom view isn\u0027t visible.\r\n\r\n### Basic Information\r\n\r\n- Version with issue:  1.60, 1.60.1\r\n- Last known good version:  1.59.3\r\n- IDE:  Visual Studio 2015, 2017\r\n- Platform Target Frameworks:\r\n  - Android: 6.0\r\n- Target Device:\r\n  - Samsung Galaxy Tab S\r\n\r\n### Reproduction Link\r\n\r\nVS2015 Solution @ https://www.dropbox.com/s/qnazdsna10wfer0/TestSkia.zip?dl=0\r\n",
  "author": {
    "login": "mgiova",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v1.68.0",
  "createdAt": "2018-06-06T14:58:07",
  "updatedAt": "2022-08-19T15:02:20",
  "closedAt": "2018-11-24T12:33:56",
  "commentCount": 3,
  "reactionCount": 1,
  "engagement": {
    "syncedAt": "2026-02-06T14:03:10.421416Z",
    "reactions": [
      {
        "user": "WadeNielsen",
        "content": "\u002B1",
        "createdAt": "2026-02-06T14:03:10.4214216Z"
      }
    ],
    "comments": [
      {
        "id": 395593781,
        "author": "mattleibow",
        "body": "This is interesting. In v1.60.x we changed from a \u0060GLSurfaceView\u0060 to \u0060TextureView\u0060 which _should_ have been a better - in fact, the surface view should not have allowed stacking.\r\n\r\nBut, since you had it working it appears all my beliefs are crashing down. I will investigate and get back to you as soon as possible.",
        "createdAt": "2018-06-07T23:08:34",
        "reactions": []
      },
      {
        "id": 401358757,
        "author": "mgiova",
        "body": "This is a recurrence of #206 but for the Android platform.\r\n\r\nThe problem disappears if you set the nativeview transparent with Control.SetOpaque(false) in a custom renderer.",
        "createdAt": "2018-06-29T13:45:06",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-06T14:03:10.1874125Z"
          }
        ]
      },
      {
        "id": 441364786,
        "author": "mattleibow",
        "body": "@mgiova thanks for looking into this. I have got a fix.",
        "createdAt": "2018-11-24T12:32:18",
        "reactions": []
      }
    ]
  }
}