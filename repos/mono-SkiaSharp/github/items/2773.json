{
  "number": 2773,
  "type": "issue",
  "state": "closed",
  "title": "[FEATURE] Expose SkCanvas::SaveLayerRec API",
  "body": "### Is your feature request related to a problem?\r\n\r\n\u0060SkCanvas::SaveLayerRec\u0060 is missing from SkiaSharp\u0027s API surface, this API is very useful for implementing backdrop effects/filters, we need this API in order to implement [CompositionBackdropBrush](https://learn.microsoft.com/en-us/uwp/api/windows.ui.composition.compositionbackdropbrush) properly in Uno Platform.\r\n\r\n### Describe the solution you would like\r\n\r\nIt would be great if \u0060SkCanvas::SaveLayerRec\u0060 got exposed in SkiaSharp\r\n\r\n### Describe alternatives you have considered\r\n\r\nWe currently use a combination of \u0060SKCanvas.SaveLayer(SKPaint)\u0060, \u0060SKCanvas.DrawSurface(SKSurface, SKRect)\u0060, and \u0060SKCanvas.Restore()\u0060 as a workaround, but it isn\u0027t ideal and has few issues (e.g. need to downscale the canvas manually, no custom clipping, slower since it\u0027s not optimized for backdrop effects unlike \u0060SkCanvas::SaveLayerRec\u0060, image filter of SKPaint isn\u0027t fully applied to the saved region (due to scaling miscalculations?), etc...)\r\n\r\n### Additional context\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project\u0027s Code of Conduct",
  "author": {
    "login": "ahmed605",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/feature-request",
      "color": "ededed"
    }
  ],
  "assignees": [],
  "createdAt": "2024-02-29T15:12:17",
  "updatedAt": "2025-03-04T13:04:58",
  "closedAt": "2025-03-04T13:04:58",
  "commentCount": 4,
  "reactionCount": 12,
  "engagement": {
    "syncedAt": "2026-02-06T12:46:38.0984078Z",
    "reactions": [
      {
        "user": "Mikolaytis",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984124Z"
      },
      {
        "user": "Gillibald",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984128Z"
      },
      {
        "user": "ramezgerges",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984131Z"
      },
      {
        "user": "agneszitte",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984134Z"
      },
      {
        "user": "MartinZikmund",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984136Z"
      },
      {
        "user": "Youssef1313",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984139Z"
      },
      {
        "user": "morning4coffe-dev",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984143Z"
      },
      {
        "user": "iurycarlos",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984146Z"
      },
      {
        "user": "NVLudwig",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984149Z"
      },
      {
        "user": "paralaxsd",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984151Z"
      },
      {
        "user": "d2dyno1",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984153Z"
      },
      {
        "user": "michaldobrodenka",
        "content": "\u002B1",
        "createdAt": "2026-02-06T12:46:38.0984154Z"
      }
    ],
    "comments": [
      {
        "id": 2016425984,
        "author": "Gillibald",
        "body": "This is also needed to make ClearType work with layering. Otherwise parameters like pixel geometry or sub pixel text are not preserved for the created layer.",
        "createdAt": "2024-03-23T09:34:15",
        "reactions": []
      },
      {
        "id": 2257703275,
        "author": "Youssef1313",
        "body": "@mattleibow What are the chances we can have this in SkiaSharp 3?",
        "createdAt": "2024-07-30T07:51:55",
        "reactions": []
      },
      {
        "id": 2257741267,
        "author": "Gillibald",
        "body": "It does not require too much work. The native layer needs to expose the missing API and a new struct needs to be mapped.",
        "createdAt": "2024-07-30T08:11:29",
        "reactions": []
      },
      {
        "id": 2442026943,
        "author": "mattleibow",
        "body": "@Gillibald @Youssef1313 @ahmed605 I have updated the PRs, let me know if the class-based API will work. Do you see any issues with this?",
        "createdAt": "2024-10-28T16:13:17",
        "reactions": [
          {
            "user": "michaldobrodenka",
            "content": "heart",
            "createdAt": "2026-02-06T12:46:38.0479988Z"
          },
          {
            "user": "michaldobrodenka",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:46:38.0479993Z"
          }
        ]
      }
    ]
  }
}