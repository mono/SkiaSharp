{
  "number": 1397,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] Unit test project no longer finding DLL after upgrade from 1.68.3 -\u003E 2.80",
  "body": "**Description**\r\n\r\nThis was all working fine in 1.68\r\nI have Skia in my Core PCL project and an NUnit project for testing that references this.\r\n\r\nPreviously I had the project properties as follows (as taken from a different issue I saw reported a while back)...\r\n\r\n\u0060\u0060\u0060\r\n\u003CPropertyGroup\u003E\r\n    \u003CTargetFramework\u003Enet461\u003C/TargetFramework\u003E \r\n    \u003CShouldIncludeNativeSkiaSharp\u003ETrue\u003C/ShouldIncludeNativeSkiaSharp\u003E\r\n    \u003CPreferredNativeSkiaSharp\u003Ex86\u003C/PreferredNativeSkiaSharp\u003E\r\n\u003C/PropertyGroup\u003E\r\n\u0060\u0060\u0060\r\n\r\nHowever now my tests which touch the areas of code that have usings to SkiaSharp fail with,\r\n\r\n\u0060System.DllNotFoundException libSkiaSharp assembly:\u003Cunknown assembly\u003E type:\u003Cunknown type\u003E member:(null)\u0060\r\n\r\nI\u0027ve tried adding direct reference to the SkiaSharp nuget, and removing the \u0060ShouldIncludeNativeSkiaSharp\u0060 and \u0060PreferredNativeSkiaSharp\u0060 properties above in case they were no longer required. Nothing working though.\r\n\r\nAny pointers on how to get this NUnit project happy?\r\n\r\n",
  "author": {
    "login": "IainS1986",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2020-07-13T11:23:15",
  "updatedAt": "2022-08-19T03:02:37",
  "closedAt": "2020-08-06T11:05:05",
  "commentCount": 3,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T14:14:51.1547838Z",
    "reactions": [],
    "comments": [
      {
        "id": 657779183,
        "author": "mattleibow",
        "body": "@IainS1986 I am not able to reproduce this... I tried in both VS 2019 and via the console runner.\r\n\r\nI got a test project: [NUnitTestProject1.zip](https://github.com/mono/SkiaSharp/files/4914936/NUnitTestProject1.zip)\r\n",
        "createdAt": "2020-07-13T20:33:16",
        "reactions": []
      },
      {
        "id": 661661960,
        "author": "lothargrieb",
        "body": "I had a similar case with android while changing from 1.68.1 to 2.80.1.\r\nAdding the SkiaSharp assemblies to the main or executing project solved it.\r\nIn your case, try to add additional SkiaSharp to the NUnit project.\r\n",
        "createdAt": "2020-07-21T06:28:23",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-06T14:14:50.9039049Z"
          }
        ]
      },
      {
        "id": 669862277,
        "author": "IainS1986",
        "body": "Hi, Really sorry for going AWOL on this!\r\n\r\nJust managed to fix it (i think, will confirm when Azure does a successful remote build!) but the issue was my TargetFramework (thanks mattleibow for the example project!)\r\n\r\nI was targetting net461. Changed it to net472 and I think its working now (with package reference added). \uD83D\uDC4D ",
        "createdAt": "2020-08-06T11:05:03",
        "reactions": [
          {
            "user": "IGx89",
            "content": "hooray",
            "createdAt": "2026-02-06T14:14:51.1051953Z"
          },
          {
            "user": "less0",
            "content": "\u002B1",
            "createdAt": "2026-02-06T14:14:51.1051958Z"
          }
        ]
      }
    ]
  }
}