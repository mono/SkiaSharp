{
  "number": 2714,
  "type": "issue",
  "state": "open",
  "title": "[FEATURE] Please make SKBitmap.IsDisposed.Get() PUBLIC (instead of \u0027protected internal\u0027).",
  "body": "### Is your feature request related to a problem?\n\nWhen I mistakenly dispose of an SKBitmap in our code, but someone else has a reference, I don\u0027t have any way (without throwing an exception) to find this out!   So I end up with exceptions randomly for this condition.\r\n\r\nTo prevent these exceptions, for cases where this is possible, it sure would be nice if I could do a safety check with \u0022skbitmap.IsDisposed\u0022 -- but I cannot, because the getter is Protected, instead of Public.\r\n\r\nPlease make this Public!  I would sure appreciate that!\n\n### Describe the solution you would like\n\npublic class SKBitmap\r\n{\r\n\tpublic bool IsDisposed =\u003E isDisposed == 1;   // instead of protected internal\r\n}\n\n### Describe alternatives you have considered\n\nn/a\n\n### Additional context\n\n_No response_\n\n### Code of Conduct\n\n- [X] I agree to follow this project\u0027s Code of Conduct",
  "author": {
    "login": "najak3d",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/feature-request",
      "color": "ededed"
    }
  ],
  "assignees": [],
  "createdAt": "2024-01-13T08:43:06",
  "updatedAt": "2024-09-30T11:25:23",
  "commentCount": 6,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T13:34:11.3244259Z",
    "reactions": [],
    "comments": [
      {
        "id": 1890747756,
        "author": "TommiGustafsson-HMP",
        "body": "As a workaround, you can use Reflection to invoke the protected method.",
        "createdAt": "2024-01-13T19:31:44",
        "reactions": [
          {
            "user": "najak3d",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:34:10.2443228Z"
          }
        ]
      },
      {
        "id": 1890870739,
        "author": "najak3d",
        "body": "Thanks for the tip, and am aware of this option.   We\u0027re just going to deal with it \u0022as is\u0022 -- our kludge for now is just \u0022trying to access \u0022AlphaType\u0022 property inside a Try/Catch -- where an exception indicates \u0022Disposed\u0022.... not sexy, but gets the job done for now, about as well as Reflection -- since it still happens scantly, and so the cost of Exception throwing isn\u0027t too significant.\r\n\r\nSo posted here, because it seems pointless (from what I can tell) that \u0022IsDisposed\u0022 isn\u0027t simply made \u0027public.\u0027",
        "createdAt": "2024-01-14T07:24:42",
        "reactions": []
      },
      {
        "id": 2379031948,
        "author": "AndreaLabeljoy",
        "body": "Hoping to keep this issue alive, I subscribe to @najak3d request.\r\n\r\nIn multithreaded scenarios it can become very hard to keep track of what object has been disposed.\r\nHaving the option to check the IsDisposed property on a SKPath or SKBitmap (just to name a couple) would be literally a life saver, since trying to access a disposed object still leads to a fatal exception, BTW something else that should be investigated.\r\n\r\nAnd reflection is not a reliable option for commercial software that needs to be either obfuscated or machine compiled.\r\n\r\nThank you.",
        "createdAt": "2024-09-27T11:11:12",
        "reactions": []
      },
      {
        "id": 2379619330,
        "author": "ojb500",
        "body": "This is admittedly tricky in multithreaded scenarios. I don\u0027t think making this member public would really help in those cases, because another thread could always come in and dispose of it after you\u0027d checked \u0060IsDisposed\u0060 - so no matter what, you need some synchronisation. A couple of ideas:\r\n\r\n- If you don\u0027t have thousands of objects (so, probably not so great for \u0060SKPath\u0060s), just let the GC \u0026 finalizer do their job\r\n- Make a reference-counting disposable wrapper to manage the object lifetime, like https://github.com/StephenCleary/Disposables/blob/main/src/Nito.Disposables/ReferenceCountedDisposable.cs",
        "createdAt": "2024-09-27T16:06:18",
        "reactions": []
      },
      {
        "id": 2382566895,
        "author": "AndreaLabeljoy",
        "body": "Thanks for tips @ojb500, I\u0027ll look into it.\r\n\r\nBottom line is, SkiaSharp objects that inherit the IDisposable interface raise a fatal memory exception that crashes the application if you try to evaluate a property after they have been disposed, when they should raise a catchable ObjectDisposedException exception.\r\n\r\nHopefully someone from the development team will read these posts.",
        "createdAt": "2024-09-30T09:11:08",
        "reactions": []
      },
      {
        "id": 2382911369,
        "author": "ojb500",
        "body": "Accessing an object after it has been disposed is a programming error.\r\n\r\nIf every method call and property access needed to check IsDisposed and potentially throw ObjectDisposedException, that would impose a non-negligible runtime cost. When you access a disposed SKObject you\u0027re probably going to dereference a null pointer, and that can and will crash your application\r\n\r\nYou can try to test \u0060if (skobject.Handle == IntPtr.Zero)\u0060 but the race condition still exists.",
        "createdAt": "2024-09-30T11:22:57",
        "reactions": []
      }
    ]
  }
}