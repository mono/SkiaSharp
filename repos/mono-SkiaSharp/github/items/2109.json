{
  "number": 2109,
  "type": "issue",
  "state": "closed",
  "title": "Installing just SkiaSharp in a WASM project still requires the Blazor package",
  "body": "**Description**\r\n\r\nWhen running SkiaSharp.Skottie in blazor webassembly app I get following error:\r\n\u0060\u0060\u0060\r\nmissing function: skottie_animation_make_from_stream\r\n\u0060\u0060\u0060\r\n\r\n**Expected Behavior**\r\n\r\nNo error when running SkiaSharp.Skottie in blazor webassembly\r\n\r\n**Actual Behavior**\r\n\r\nError when running SkiaSharp.Skottie in blazor webassembly\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  2.88.1-preview.63\r\n- Last known good version:  -\r\n- IDE: Rider\r\n- Platform Target Frameworks:net6.0\r\n  - Windows Classic:  Windows 10\r\n\r\n**Screenshots**\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/2297442/173016758-fa7156f5-a30e-493c-b394-eb86d1ec1a32.png)\r\n",
  "author": {
    "login": "wieslawsoltes",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/bug",
      "color": "fc2929"
    },
    {
      "name": "area/Build",
      "color": "0052cc"
    },
    {
      "name": "os/WASM",
      "color": "fbca04"
    }
  ],
  "assignees": [],
  "milestone": "v2.88.x Planning",
  "createdAt": "2022-06-10T07:48:50",
  "updatedAt": "2022-11-26T21:00:52",
  "closedAt": "2022-10-27T20:26:10",
  "commentCount": 8,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T13:47:55.6670808Z",
    "reactions": [],
    "comments": [
      {
        "id": 1152080192,
        "author": "wieslawsoltes",
        "body": "When build my app\r\n\u0060\u0060\u0060\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_delete (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_get_duration (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_get_fps (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_get_in_point (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_get_out_point (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_get_size (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_get_version (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_keepalive (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_make_from_file (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_make_from_stream (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_make_from_string (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_ref (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_render (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_render_with_flags (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_seek (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_seek_frame (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_seek_frame_time (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: skottie_animation_unref (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_begin (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_delete (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_end (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_get_bounds (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_inval (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_new (referenced by top-level compiled C/C\u002B\u002B code)\r\n3\u003EEXEC: Warning  : undefined symbol: sksg_invalidation_controller_reset (referenced by top-level compiled C/C\u002B\u002B code)\r\n\u0060\u0060\u0060",
        "createdAt": "2022-06-10T07:54:03",
        "reactions": []
      },
      {
        "id": 1152083176,
        "author": "wieslawsoltes",
        "body": "Ah I needed to add\r\n\u0060\u0060\u0060\r\nhttps://www.nuget.org/packages/SkiaSharp.NativeAssets.WebAssembly/2.88.1-preview.63\r\n\u0060\u0060\u0060",
        "createdAt": "2022-06-10T07:57:46",
        "reactions": []
      },
      {
        "id": 1152090714,
        "author": "mattleibow",
        "body": "That should not be needed. Let me investigate. ",
        "createdAt": "2022-06-10T08:06:23",
        "reactions": []
      },
      {
        "id": 1152092765,
        "author": "mattleibow",
        "body": "If you remove the wasm package and install the SkiaSharp.Views.Blazor,does this issue still happen? ",
        "createdAt": "2022-06-10T08:08:32",
        "reactions": []
      },
      {
        "id": 1152101263,
        "author": "wieslawsoltes",
        "body": "\u003E If you remove the wasm package and install the SkiaSharp.Views.Blazor,does this issue still happen?\r\n\r\nI think it would work as \u0060SkiaSharp.Views.Blazor\u0060 is referencing \u0060SkiaSharp.NativeAssets.WebAssembly\u0060 package\r\n\r\nhttps://www.nuget.org/packages/SkiaSharp.Views.Blazor/2.88.1-preview.63",
        "createdAt": "2022-06-10T08:18:03",
        "reactions": []
      },
      {
        "id": 1152104611,
        "author": "wieslawsoltes",
        "body": "\u003E If you remove the wasm package and install the SkiaSharp.Views.Blazor,does this issue still happen?\r\n\r\nTested and the issue is not happening.",
        "createdAt": "2022-06-10T08:20:58",
        "reactions": []
      },
      {
        "id": 1152971509,
        "author": "mattleibow",
        "body": "OK, so to clarify - you got the exception when you only referenced skottie and not blazor? I think I need to add a dependency to skia for WASM.",
        "createdAt": "2022-06-11T17:45:02",
        "reactions": []
      },
      {
        "id": 1152987890,
        "author": "wieslawsoltes",
        "body": "\u003E OK, so to clarify - you got the exception when you only referenced skottie and not blazor? I think I need to add a dependency to skia for WASM.\r\n\r\nYes I only referenced skottie ",
        "createdAt": "2022-06-11T19:45:15",
        "reactions": []
      }
    ]
  }
}