{
  "meta": {
    "schemaVersion": "3.0",
    "number": 2421,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-11T23:45:00Z"
  },
  "summary": "DllNotFoundException on iOS physical device — @rpath/libSkiaSharp.framework/libSkiaSharp not found when creating SKPaint in .NET MAUI app",
  "classification": {
    "type": {
      "value": "type/bug",
      "confidence": 0.8
    },
    "area": {
      "value": "area/libSkiaSharp.native",
      "confidence": 0.9
    },
    "platforms": [
      "os/iOS"
    ]
  },
  "evidence": {
    "bugSignals": {
      "severity": "medium",
      "errorType": "crash"
    },
    "versionAnalysis": {
      "mentionedVersions": [
        "2.88.3"
      ]
    }
  },
  "analysis": {
    "summary": "Reporter experiences DllNotFoundException with message '@rpath/libSkiaSharp.framework/libSkiaSharp' when creating SKPaint on a physical iOS device in .NET MAUI. Works on iOS simulator and Android. This is a well-known iOS native framework deployment issue — the libSkiaSharp.framework is not being deployed to the device, typically caused by Windows Hot Restart or iOS linker stripping the native framework. Multiple duplicate/related issues exist (#1129, #1264, #2410, #2437).",
    "rationale": "type: The native framework fails to load on physical iOS devices. While it may be caused by tooling (Hot Restart, linker), SkiaSharp should work out of the box on iOS physical devices. This is a deployment/packaging bug, not a user error. area: The issue is about the native libSkiaSharp.framework not being deployed to the iOS device. This is a native asset packaging issue, not a C# binding problem. bugSignals.severity: Complete failure to use SkiaSharp on iOS physical devices is severe, but workarounds exist (deploy via Mac, disable linker, upgrade SkiaSharp version). Simulator works fine for development. platforms: Crash is iOS-specific. Reporter explicitly states Android and iOS simulator work fine. tenets: This is a compatibility issue between SkiaSharp's iOS native packaging and certain deployment configurations (Hot Restart, Enterprise certificates, linker settings). partner: Reporter is using .NET MAUI with SkiaSharp.Views.Maui.Controls. The issue is related to MAUI iOS deployment tooling. actionability.suggestedAction: This is a known issue with multiple existing reports. #2410 is the primary open issue tracking the same problem (same version, same error, same scenario). Reporter cwilde123 even commented on #2410 before opening #2421, confirming they're the same issue. fixStatus.likelyFixed: Cannot confirm without testing on SkiaSharp 3.x with Hot Restart. The root cause is partly in MAUI tooling, not purely SkiaSharp. versionAnalysis.currentRelevance: SkiaSharp 3.x has revamped native asset packaging. The 2.88.3-specific packaging has been replaced entirely, making this specific issue unlikely to reproduce on current versions.",
    "codeInvestigation": [
      {
        "file": "binding/SkiaSharp/SkiaApi.cs",
        "lines": "9-11",
        "finding": "On iOS/tvOS, the P/Invoke path is hardcoded to '@rpath/libSkiaSharp.framework/libSkiaSharp'. If the framework bundle is missing from the app package, this P/Invoke will fail with DllNotFoundException. This is expected behavior — the issue is in deployment, not in the binding code.",
        "relevance": "related"
      },
      {
        "file": "binding/SkiaSharp/SKPaint.cs",
        "lines": "48-54",
        "finding": "SKPaint constructor calls SkiaApi.sk_compatpaint_new() which triggers the P/Invoke into libSkiaSharp. This is the first native call in the reporter's code path, so it's where the DllNotFoundException surfaces.",
        "relevance": "related"
      }
    ],
    "workarounds": [
      "Deploy via Mac-connected device (not Windows Hot Restart). Alternatively, set <MtouchLink>None</MtouchLink> to prevent linker from stripping the native framework."
    ],
    "nextQuestions": [
      "Whether reporter is using Windows Hot Restart (most likely cause) or deploying via Mac",
      "Whether upgrading to SkiaSharp 3.x resolves the issue for this specific configuration",
      "Whether the linker is stripping the framework or it's never being included in the first place"
    ]
  },
  "output": {
    "actionability": {
      "suggestedAction": "close-as-duplicate",
      "confidence": 0.88,
      "reason": "This is a well-documented issue tracked in #2410 (same MAUI version, same error, same iOS-only crash pattern). Reporter cwilde123 also commented on #2410 confirming the same problem."
    },
    "actions": [
      {
        "type": "update-labels",
        "description": "Apply bug, native, iOS, compatibility, and MAUI partner labels",
        "risk": "low",
        "confidence": 0.92,
        "labels": [
          "type/bug",
          "area/libSkiaSharp.native",
          "os/iOS",
          "tenet/compatibility",
          "partner/maui"
        ]
      },
      {
        "type": "link-duplicate",
        "description": "Mark as duplicate of #2410",
        "risk": "medium",
        "confidence": 0.88
      },
      {
        "type": "add-comment",
        "description": "Notify reporter of duplicate and provide workarounds",
        "risk": "high",
        "confidence": 0.85
      },
      {
        "type": "close-issue",
        "description": "Close as duplicate of #2410",
        "risk": "medium",
        "confidence": 0.88
      }
    ]
  }
}
