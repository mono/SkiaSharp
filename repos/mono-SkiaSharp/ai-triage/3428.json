{
  "meta": {
    "schemaVersion": "3.0",
    "number": 3428,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-08T15:00:00Z"
  },
  "summary": "SKGLView fails to bind EAGLDrawable on .NET 10 MAUI iOS, rendering white canvas instead of content",
  "classification": {
    "type": {
      "value": "type/bug",
      "confidence": 0.95
    },
    "area": {
      "value": "area/views.maui",
      "confidence": 0.95
    },
    "platforms": [
      "os/iOS"
    ],
    "backends": [
      "backend/OpenGL"
    ]
  },
  "evidence": {
    "reproEvidence": {
      "stepsToReproduce": [
        "Create a MAUI app targeting .NET 10 for iOS",
        "Add SkiaSharp 3.116.0 with SKGLView (GL-accelerated rendering)",
        "Run on an iOS device or simulator",
        "Observe white canvas and 'Failed to bind EAGLDrawable' in device logs"
      ],
      "environmentDetails": "SkiaSharp 3.116.0, .NET 10, MAUI, iOS, Visual Studio macOS. Works on .NET 9, broken on .NET 10. Last known good SkiaSharp version: 2.88.9.",
      "codeSnippets": [
        "csharp: private void OnGLPaintSurface(object? sender, SKPaintGLSurfaceEventArgs args)\n{\n    if (_glView?.GRContext is null)\n    {\n        Logger.Log(LogLevel.Warning, \"Refresh can not be called because GRContext is null\");\n        return;\n    }\n    PaintSurface(args.Surface.Canvas);\n}"
      ]
    },
    "bugSignals": {
      "severity": "high",
      "isRegression": true
    },
    "versionAnalysis": {
      "mentionedVersions": [
        "3.116.0",
        "2.88.9"
      ]
    }
  },
  "analysis": {
    "summary": "SKGLView fails to render on iOS when targeting .NET 10, producing a white canvas and 'Failed to bind EAGLDrawable' error. The root cause is likely .NET 10's handling of the deprecated OpenGL ES (EAGL) APIs on iOS, since SKGLView depends on GLKView/EAGLContext which Apple deprecated in iOS 12.",
    "rationale": "type: Reporter describes a rendering failure — expected content but gets white canvas with 'Failed to bind EAGLDrawable' error. This is clearly broken behavior in a previously working scenario, not a question or feature request. area: The issue is in the MAUI SKGLView rendering pipeline. The code uses SKPaintGLSurfaceEventArgs in a MAUI context. The underlying SKGLView is consumed through MAUI controls. backends: EAGLDrawable and EAGLContext are the iOS-specific OpenGL ES rendering infrastructure. SKGLView explicitly creates EAGLContext(OpenGLES2). The failure is in GL framebuffer binding. platforms: Reporter explicitly states iOS. EAGL is iOS-only infrastructure. No mention of other platforms being affected. tenets: Reliability: the GL view fails silently (white canvas) rather than rendering content. Compatibility: the issue is specific to .NET 10 — same code works on .NET 9, indicating a cross-version compatibility problem. partner: Issue is in the MAUI rendering pipeline. The .NET 10 target framework change may be a MAUI or .NET runtime-level change affecting EAGL context initialization. bugSignals.severity: GL rendering is completely broken on iOS with .NET 10 — no content rendered at all, no workaround provided. Not critical because the app does not crash and SKCanvasView (CPU rendering) is likely a viable fallback. actionability.suggestedAction: GL rendering on iOS is completely broken on .NET 10 with no workaround. Need to determine whether .NET 10 or Apple removed EAGL support, and whether a fix is in SkiaSharp's scope or requires .NET runtime changes. regression.isRegression: Reporter confirms the same SkiaSharp version (3.116.0) works on .NET 9 but fails on .NET 10, indicating a regression introduced by .NET 10 runtime or iOS SDK changes affecting EAGL context binding. versionAnalysis.currentRelevance: Issue is on current SkiaSharp 3.116.0 with .NET 10 and relates to Apple's ongoing deprecation of OpenGL ES, making it actively relevant to current developme",
    "codeInvestigation": [],
    "nextQuestions": [
      "Exact .NET 10 preview version not specified — different previews may have different EAGL support levels",
      "Unknown whether Apple fully removed EAGL support in a recent iOS SDK or if .NET 10 changed its OpenGL ES bindings",
      "Unknown whether SKCanvasView (CPU rendering) works as a workaround on .NET 10",
      "Device model and iOS version not specified — could be relevant if newer hardware dropped EAGL support"
    ],
    "resolution": {
      "hypothesis": ".NET 10's iOS runtime or Apple's latest SDK has changed how EAGLContext/EAGLDrawable binding works, breaking the deprecated OpenGL ES rendering path used by SKGLView. Apple deprecated OpenGL ES in iOS 12 (2018) and has been progressively removing support. SKGLView's GLKView+EAGLContext approach may no longer function correctly under .NET 10's updated iOS bindings.",
      "proposals": [
        {
          "description": "Replace SKGLView with SKCanvasView which uses CPU-based raster rendering instead of OpenGL ES. Avoids the deprecated EAGL path entirely. Immediate workaround but loses GPU acceleration.",
          "confidence": 0.8,
          "effort": "small"
        },
        {
          "description": "Replace the OpenGL ES (EAGL) backend with Metal for iOS GPU rendering. This follows Apple's recommended migration path. Long-term correct solution but significant engineering effort.",
          "confidence": 0.9,
          "effort": "large"
        },
        {
          "description": "Debug why EAGLDrawable binding fails specifically on .NET 10. Create minimal repro, compare EAGL context state between .NET 9 and .NET 10, check if .NET 10 bindings removed or changed GLKit/EAGLContext APIs.",
          "confidence": 0.5,
          "effort": "medium"
        }
      ]
    }
  },
  "output": {
    "actionability": {
      "suggestedAction": "needs-investigation",
      "confidence": 0.85,
      "reason": "Real rendering failure on .NET 10 iOS that needs investigation. Root cause is likely .NET 10 or Apple's continued deprecation of OpenGL ES (EAGL). Need to determine if this is fixable in SkiaSharp or requires .NET runtime changes."
    },
    "actions": [
      {
        "type": "update-labels",
        "description": "Add OpenGL backend, compatibility tenet, and MAUI partner labels",
        "risk": "low",
        "confidence": 0.9,
        "labels": [
          "backend/OpenGL",
          "tenet/compatibility",
          "partner/maui"
        ]
      },
      {
        "type": "add-comment",
        "description": "Post analysis noting EAGL deprecation and requesting .NET 10 preview version details",
        "risk": "high",
        "confidence": 0.8
      }
    ]
  }
}
