{
  "schemaVersion": "1.0",
  "number": 2383,
  "repo": "mono/SkiaSharp",
  "analyzedAt": "2026-02-09T18:22:00Z",
  "summary": "Question asking whether SkiaSharp supports 24-bit RGB (3 bytes per pixel) color type like System.Drawing Format24bppRgb",
  "type": {
    "value": "question",
    "confidence": 0.95,
    "reason": "Title starts with 'Does skia supports...' and body asks about equivalent pixel format support. No broken behavior described."
  },
  "area": {
    "value": "SkiaSharp",
    "confidence": 0.90,
    "reason": "Concerns core SKColorType / SKImageInfo / SKBitmap pixel format support in the SkiaSharp library."
  },
  "backends": null,
  "platforms": null,
  "tenets": [
    {
      "value": "compatibility",
      "confidence": 0.80,
      "reason": "User is migrating from System.Drawing and needs format compatibility between the two APIs."
    }
  ],
  "partner": null,
  "regression": null,
  "fixStatus": null,
  "bugSignals": null,
  "reproEvidence": null,
  "versionAnalysis": null,
  "actionability": {
    "suggestedAction": "close-as-duplicate",
    "confidence": 0.90,
    "reason": "This is the same question as #1735 (and #1176), both answered by the maintainer confirming Skia does not support 24-bit (3 bytes per pixel) color types. The answer applies identically here.",
    "requiresHumanReview": false,
    "closeable": true,
    "closeReason": "Duplicate of #1735 — Skia does not support 24-bit color types; convert to 32-bit (e.g., Rgb888x or Rgba8888) before loading.",
    "duplicateOf": 1735,
    "abandoned": false,
    "abandonedReason": null
  },
  "suggestedResponse": {
    "responseType": "duplicate-notice",
    "confidence": 0.90,
    "reason": "Same question was answered definitively by the maintainer in #1735 and #1176. A brief answer plus pointer to the canonical issue is the most helpful response.",
    "draft": "This has come up a few times — Skia (and by extension SkiaSharp) doesn't support a true 24-bit (3 bytes per pixel) color type. All pixel formats are aligned to 1, 2, 4, or 8 bytes per pixel. The closest match is `SKColorType.Rgb888x`, which is 32-bit with an ignored fourth byte (no alpha).\n\nTo load your 24-bit RGB data into an `SKBitmap`, you'd need to expand each pixel from 3 bytes to 4 bytes (inserting a padding byte), then use `SKBitmap.InstallPixels()` with an `SKImageInfo` configured for `Rgb888x` (or `Rgba8888` with alpha set to 255), specifying your width, height, and row bytes.\n\nSee #1735 and #1176 for more detail on this — closing as duplicate."
  },
  "analysisNotes": {
    "summary": "User is asking whether SkiaSharp supports a 24-bit (3 bytes per pixel, no alpha) color format equivalent to System.Drawing.Imaging.PixelFormat.Format24bppRgb. This is a well-trodden question — the answer (confirmed by the maintainer in #1735 and #1176) is that Skia does not support 24-bit pixel formats; all formats use power-of-two byte widths (1, 2, 4, or 8).",
    "keySignals": [
      {
        "text": "Does skia supports a 24-bit color type like System.Drawing.Imaging.PixelFormat.Format24bppRgb",
        "source": "title",
        "interpretation": "Directly asking about feature availability — this is a question, not a bug report.",
        "supportedFields": ["type"]
      },
      {
        "text": "use 8 bits for each colors, no alpha, necessary to specify width, height and stride",
        "source": "body",
        "interpretation": "User wants to load raw 24-bit RGB pixel data with explicit stride into SKBitmap. This maps to SKBitmap.InstallPixels with a custom SKImageInfo.",
        "supportedFields": ["type", "area"]
      },
      {
        "text": "I want to convert an image which is in 24-bit color type to SKBitmap",
        "source": "body",
        "interpretation": "Confirms System.Drawing migration scenario — user has raw pixel buffers in Format24bppRgb and needs to bring them into SkiaSharp.",
        "supportedFields": ["tenets"]
      }
    ],
    "fieldRationales": [
      {
        "field": "type",
        "chosen": "question",
        "expandedReason": "Title is phrased as a question ('Does skia supports...'), body describes what the user wants to accomplish, and no broken behavior is described. This is a usage/capability question.",
        "alternatives": [
          {
            "value": "feature-request",
            "whyRejected": "The user is asking whether this is supported, not requesting it be added. If the answer is 'no', it could be reframed as a feature request, but the issue as written is a question."
          }
        ]
      },
      {
        "field": "area",
        "chosen": "SkiaSharp",
        "expandedReason": "The question concerns SKColorType, SKImageInfo, and SKBitmap — all core SkiaSharp types. No views, HarfBuzz, or native loading involved."
      },
      {
        "field": "tenets",
        "chosen": "compatibility",
        "expandedReason": "User is explicitly comparing with System.Drawing.Imaging.PixelFormat.Format24bppRgb — this is about API compatibility when migrating from System.Drawing to SkiaSharp."
      },
      {
        "field": "actionability.suggestedAction",
        "chosen": "close-as-duplicate",
        "expandedReason": "Issue #1735 asks the identical question ('Support for RGB/BGR 24 bytes per pixel format?') and was answered by the maintainer (mattleibow) confirming Skia does not support 24-bit color types. Issue #1176 also received the same answer. The response to #2383 would be identical.",
        "alternatives": [
          {
            "value": "close-with-docs",
            "whyRejected": "While this could be closed with documentation, the canonical answer already exists in #1735 with maintainer confirmation. Pointing to the duplicate is more authoritative."
          },
          {
            "value": "convert-to-discussion",
            "whyRejected": "The question has a definitive answer — no need for ongoing discussion."
          }
        ]
      }
    ],
    "docsConsulted": [
      {
        "path": "binding/SkiaSharp/Definitions.cs",
        "relevance": "Confirmed the full SKColorType enum — no 24-bit (3 byte) color type exists. Rgb888x is 4 bytes per pixel (32-bit with ignored alpha).",
        "usedFor": ["type", "area", "resolutionAnalysis"]
      },
      {
        "path": "binding/SkiaSharp/SKBitmap.cs",
        "relevance": "Confirmed InstallPixels overloads accept SKImageInfo + IntPtr + rowBytes, which is the mechanism for loading raw pixel data with custom stride.",
        "usedFor": ["resolutionAnalysis"]
      },
      {
        "path": "references/skia-patterns.md",
        "relevance": "Checked for pixel format quirks — no specific patterns for 24-bit conversion, but confirmed this is a Skia-level limitation, not SkiaSharp-specific.",
        "usedFor": ["analysisNotes"]
      }
    ],
    "docsNotConsulted": "No native loading or platform-specific docs needed — this is a pure API capability question. No GPU/backend signals present.",
    "uncertainties": [
      "Unclear what exact image source the user has — could be raw pixel buffer from System.Drawing lockbits, a file, or a camera feed.",
      "Unknown whether the user needs high performance (e.g., real-time video frames) or one-time conversion, which affects which conversion approach is best."
    ]
  },
  "resolutionAnalysis": {
    "hypothesis": "User has 24-bit RGB pixel data (likely from System.Drawing BitmapData via LockBits) and wants to load it into an SKBitmap. Skia fundamentally does not support 3-byte-per-pixel formats, so the data must be converted to a 32-bit format first.",
    "researchDone": [
      "Reviewed SKColorType enum — confirmed no 24-bit (3 byte) color type exists; Rgb888x is 4 bytes",
      "Read maintainer answers on #1735 and #1176 — both confirm Skia does not support 24-bit pixel formats",
      "Checked SKBitmap.InstallPixels overloads — accepts SKImageInfo + IntPtr + rowBytes for custom pixel loading",
      "Searched for related issues: #1176, #1686, #1735, #2384 all involve 24-bit/BGR format questions"
    ],
    "proposals": [
      {
        "title": "Convert 24-bit to 32-bit Rgb888x and use InstallPixels",
        "description": "Expand each 3-byte RGB pixel to 4 bytes (adding a padding byte) and load via SKBitmap.InstallPixels with SKColorType.Rgb888x. This is the most direct approach and preserves the 'no alpha' semantics.",
        "steps": [
          "Allocate a new buffer with width * 4 bytes per row",
          "Copy each pixel's R, G, B bytes and add a 0x00 padding byte",
          "Create SKImageInfo with the target width, height, SKColorType.Rgb888x, and SKAlphaType.Opaque",
          "Pin the buffer and call SKBitmap.InstallPixels(info, pointer, rowBytes)"
        ],
        "pros": [
          "Directly maps to the user's 'no alpha' requirement",
          "Rgb888x semantics match — fourth byte is ignored",
          "Full control over stride/rowBytes"
        ],
        "cons": [
          "Requires pixel-by-pixel expansion loop (memory copy overhead)",
          "Allocates 33% more memory than the source data"
        ],
        "confidence": 0.92,
        "effort": "low"
      },
      {
        "title": "Convert to Rgba8888 with alpha = 255",
        "description": "Expand each 3-byte RGB pixel to 4 bytes (RGBA with A=255) and load via InstallPixels. This is the most commonly used approach and works universally.",
        "steps": [
          "Allocate a 4-byte-per-pixel buffer",
          "Copy R, G, B and set A = 0xFF for each pixel",
          "Create SKImageInfo with SKColorType.Rgba8888 and SKAlphaType.Opaque",
          "Call SKBitmap.InstallPixels(info, pointer, width * 4)"
        ],
        "pros": [
          "Most widely used color type — maximum compatibility",
          "SKAlphaType.Opaque hints to Skia that alpha is always 255, enabling optimizations"
        ],
        "cons": [
          "Same memory overhead as Rgb888x approach",
          "Slightly misleading — setting alpha bytes that will be ignored"
        ],
        "confidence": 0.92,
        "effort": "low"
      },
      {
        "title": "Use SKBitmap.Decode if source is an encoded image file",
        "description": "If the 24-bit data comes from a file (BMP, PNG, JPEG), skip manual pixel handling entirely and let SkiaSharp decode the file. Skia's decoders handle 24-bit-to-32-bit conversion internally.",
        "steps": [
          "Call SKBitmap.Decode(filePath) or SKBitmap.Decode(stream)",
          "The decoder automatically converts 24-bit source data to the platform's native 32-bit format"
        ],
        "pros": [
          "No manual pixel conversion needed",
          "Handles stride, color space, and bit depth automatically",
          "Best performance — Skia's decoders are highly optimized"
        ],
        "cons": [
          "Only works for encoded image files, not raw pixel buffers",
          "User may not have a file — could be raw BitmapData from System.Drawing"
        ],
        "confidence": 0.80,
        "effort": "low"
      }
    ],
    "recommendedProposal": "Convert 24-bit to 32-bit Rgb888x and use InstallPixels",
    "recommendedReason": "Most directly answers the user's requirements (8 bits per color, no alpha, custom width/height/stride). Rgb888x is semantically the closest match to Format24bppRgb — it's RGB with an ignored padding byte."
  }
}
