{
  "meta": {
    "schemaVersion": "1.0",
    "number": 3372,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2025-09-22T00:00:00Z"
  },
  "summary": "Upgrade SkiaSharp.Views.WinUI to use Microsoft.WindowsAppSDK.WinUI 1.8 instead of the full metapackage to reduce transitive dependency bloat for MAUI and other consumers.",
  "classification": {
    "type": {
      "value": "type/feature-request",
      "confidence": 0.95
    },
    "area": {
      "value": "area/SkiaSharp.Views",
      "confidence": 0.95
    },
    "platforms": [
      "os/Windows-WinUI"
    ]
  },
  "evidence": {
    "versionAnalysis": {
      "mentionedVersions": [
        "1.8"
      ]
    }
  },
  "analysis": {
    "summary": "Feature request to change SkiaSharp.Views.WinUI's NuGet dependency from the Microsoft.WindowsAppSDK metapackage to the narrower Microsoft.WindowsAppSDK.WinUI 1.8 package. The metapackage currently forces all downstream consumers (including MAUI) to pull in the entire WinAppSDK. Active discussion between dotMorten (requester, advocating for the change to unblock MAUI RC2) and jeromelaban (Uno Platform, cautioning about forcing version upgrades). Maintainer has not yet weighed in.",
    "rationale": "type: This is a request to change package dependency targeting, not a bug or enhancement to existing drawing/rendering behavior. The feature (split packages) is new in WinAppSDK 1.8. area: The change targets SkiaSharp.Views.WinUI specifically â€” its NuGet package dependency declarations. partner: dotMorten explicitly states MAUI RC2 is blocked on this change. MAUI is a key downstream consumer. actionability.suggestedAction: Legitimate feature request with active community discussion. Labels are already correct. Maintainer needs to weigh in on the version bump tradeoff. platforms: The request specifically targets SkiaSharp.Views.WinUI and its WinAppSDK dependency. The WinUI platform label was already applied to this issue. tenets: The metapackage dependency forces all downstream consumers (including MAUI) to pull in the entire WinAppSDK, creating transitive dependency compatibility issues. versionAnalysis.currentRelevance: WinAppSDK 1.8 introduced split packages and MAUI RC2 is blocked on this change. The request targets current SDK versions and active ecosystem needs.",
    "codeInvestigation": [],
    "nextQuestions": [
      "Whether bumping to WinAppSDK 1.8 minimum would break existing consumers on older WinAppSDK versions",
      "Whether maintainer considers the MAUI RC2 urgency sufficient justification for the version bump",
      "Impact on Uno Platform and other downstream consumers"
    ],
    "resolution": {
      "hypothesis": "Switching from the Microsoft.WindowsAppSDK metapackage to Microsoft.WindowsAppSDK.WinUI 1.8 would reduce transitive dependency bloat and unblock downstream consumers like MAUI from cleanly adopting WinAppSDK 1.8.",
      "proposals": [
        {
          "description": "Replace the Microsoft.WindowsAppSDK metapackage reference with Microsoft.WindowsAppSDK.WinUI 1.8 in the SkiaSharp.Views.WinUI project. This directly addresses the request but raises the minimum WinAppSDK version.",
          "confidence": 0.8,
          "effort": "small"
        },
        {
          "description": "Use conditional PackageReference elements to target WinUI-only package on newer TFMs while keeping metapackage compatibility for older ones. More complex but avoids breaking existing consumers.",
          "confidence": 0.55,
          "effort": "medium"
        },
        {
          "description": "Document how downstream consumers can use PackageReference overrides to avoid pulling the full metapackage, without changing SkiaSharp itself. Preserves backward compatibility but doesn't fix the root cause.",
          "confidence": 0.4,
          "effort": "small"
        }
      ]
    }
  },
  "output": {
    "actionability": {
      "suggestedAction": "keep-open",
      "confidence": 0.85,
      "reason": "Legitimate feature request with active community discussion and MAUI ecosystem impact. Labels are already correct. Maintainer decision needed on version bump tradeoff."
    },
    "actions": [
      {
        "type": "update-labels",
        "description": "Add compatibility tenet and MAUI partner labels",
        "risk": "low",
        "confidence": 0.85,
        "labels": [
          "tenet/compatibility",
          "partner/maui"
        ]
      }
    ]
  }
}
