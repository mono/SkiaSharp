{
  "number": 169,
  "type": "issue",
  "state": "open",
  "title": "[BUG] Animations with image assets fail to load images",
  "body": "Previously, when using the lottie animations, one could have one or more images with the animations and have them referenced in the data.json file.\r\n\r\nAs noted, we are referencing these images in that json payload:\r\n\r\nimg_0.png\r\nimg_1.png\r\n\r\nWe would then need to specify the Assets Folder path so that the app can locate the images:\r\n\r\n\u0060animationView.ImageAssetsFolder = \u0022images\u0022;\u0060\r\n\r\nHowever, such functionality (specifying the ImageAssetsFolder) is missing on the new library and as a result - and as far as I know - we can only use images in base64 format as of now which is undesirable especially if you are a couple of images specified in the animation file. \r\n\r\n An example would be:\r\n\r\n\u0060\u0060\u0060json\r\n{\r\n  \u0022v\u0022: \u00225.7.6\u0022,\r\n  \u0022fr\u0022: 24,\r\n  \u0022ip\u0022: 0,\r\n  \u0022op\u0022: 48,\r\n  \u0022w\u0022: 400,\r\n  \u0022h\u0022: 400,\r\n  \u0022nm\u0022: \u0022welcome\u0022,\r\n  \u0022ddd\u0022: 0,\r\n  \u0022assets\u0022: [\r\n    {\r\n      \u0022id\u0022: \u0022image_0\u0022,\r\n      \u0022w\u0022: 101,\r\n      \u0022h\u0022: 72,\r\n      \u0022u\u0022: \u0022\u0022,\r\n      \u0022p\u0022: \u0022img_0.png\u0022,\r\n      \u0022e\u0022: 0\r\n    },\r\n    {\r\n      \u0022id\u0022: \u0022image_1\u0022,\r\n      \u0022w\u0022: 256,\r\n      \u0022h\u0022: 390,\r\n      \u0022u\u0022: \u0022\u0022,\r\n      \u0022p\u0022: \u0022img_1.png\u0022,\r\n      \u0022e\u0022: 0\r\n    }\r\n  ],\r\n  \u0022layers\u0022: [\r\n    {\r\n      \u0022ddd\u0022: 0,\r\n      \u0022ind\u0022: 1,\r\n      \u0022ty\u0022: 2,\r\n      \u0022nm\u0022: \u0022face.png\u0022,\r\n      \u0022cl\u0022: \u0022png\u0022,\r\n      \u0022refId\u0022: \u0022image_0\u0022,\r\n      \u0022sr\u0022: 1,\r\n      \u0022ks\u0022: {\r\n        \u0022o\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: 100,\r\n          \u0022ix\u0022: 11\r\n        },\r\n        \u0022r\u0022: {\r\n          \u0022a\u0022: 1,\r\n          \u0022k\u0022: [\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 0,\r\n              \u0022s\u0022: [ 0 ]\r\n            },\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 4,\r\n              \u0022s\u0022: [ 0 ]\r\n            },\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 8,\r\n              \u0022s\u0022: [ -50 ]\r\n            },\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 20,\r\n              \u0022s\u0022: [ 50 ]\r\n            },\r\n            {\r\n              \u0022t\u0022: 29,\r\n              \u0022s\u0022: [ 0 ]\r\n            }\r\n          ],\r\n          \u0022ix\u0022: 10\r\n        },\r\n        \u0022p\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 200, 273, 0 ],\r\n          \u0022ix\u0022: 2,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022a\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 50.5, 36, 0 ],\r\n          \u0022ix\u0022: 1,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022s\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 100, 100, 100 ],\r\n          \u0022ix\u0022: 6,\r\n          \u0022l\u0022: 2\r\n        }\r\n      },\r\n      \u0022ao\u0022: 0,\r\n      \u0022ip\u0022: 0,\r\n      \u0022op\u0022: 48,\r\n      \u0022st\u0022: 0,\r\n      \u0022bm\u0022: 0\r\n    },\r\n    {\r\n      \u0022ddd\u0022: 0,\r\n      \u0022ind\u0022: 2,\r\n      \u0022ty\u0022: 2,\r\n      \u0022nm\u0022: \u0022LOCK.png\u0022,\r\n      \u0022cl\u0022: \u0022png\u0022,\r\n      \u0022refId\u0022: \u0022image_1\u0022,\r\n      \u0022sr\u0022: 1,\r\n      \u0022ks\u0022: {\r\n        \u0022o\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: 100,\r\n          \u0022ix\u0022: 11\r\n        },\r\n        \u0022r\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: 0,\r\n          \u0022ix\u0022: 10\r\n        },\r\n        \u0022p\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 200, 200, 0 ],\r\n          \u0022ix\u0022: 2,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022a\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 128, 195, 0 ],\r\n          \u0022ix\u0022: 1,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022s\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 100, 100, 100 ],\r\n          \u0022ix\u0022: 6,\r\n          \u0022l\u0022: 2\r\n        }\r\n      },\r\n      \u0022ao\u0022: 0,\r\n      \u0022ip\u0022: 0,\r\n      \u0022op\u0022: 48,\r\n      \u0022st\u0022: 0,\r\n      \u0022bm\u0022: 0\r\n    }\r\n  ],\r\n  \u0022markers\u0022: []\r\n}\r\n\u0060\u0060\u0060\r\n",
  "author": {
    "login": "amirvenus",
    "type": "User"
  },
  "labels": [
    {
      "name": "bug",
      "color": "fc2929"
    }
  ],
  "assignees": [
    {
      "login": "mattleibow",
      "type": "User"
    },
    {
      "login": "Copilot",
      "type": "Bot"
    }
  ],
  "createdAt": "2023-04-18T10:17:28",
  "updatedAt": "2026-02-05T03:10:26",
  "commentCount": 5,
  "reactionCount": 1,
  "engagement": {
    "syncedAt": "2026-02-06T12:20:25.9175412Z",
    "reactions": [
      {
        "user": "Copilot",
        "content": "eyes",
        "createdAt": "2026-02-06T12:20:25.9175477Z"
      }
    ],
    "comments": [
      {
        "id": 1730162767,
        "author": "mattleibow",
        "body": "Seems to also have issues with base64 images in the lottie files: https://lottiefiles.com/36895-healthy-or-junk-food",
        "createdAt": "2023-09-21T19:20:08",
        "reactions": []
      },
      {
        "id": 1730171543,
        "author": "mattleibow",
        "body": "Real issue tracked here: https://github.com/mono/SkiaSharp/issues/2173",
        "createdAt": "2023-09-21T19:27:39",
        "reactions": []
      },
      {
        "id": 1731632138,
        "author": "mattleibow",
        "body": "Anyone have an example file like this? I am working on fixing this and I want to add some tests.",
        "createdAt": "2023-09-22T15:39:04",
        "reactions": []
      },
      {
        "id": 1731730895,
        "author": "mattleibow",
        "body": "This PR will get us to the happy place: https://github.com/mono/SkiaSharp/pull/2630",
        "createdAt": "2023-09-22T16:45:52",
        "reactions": []
      },
      {
        "id": 2060010288,
        "author": "mattleibow",
        "body": "Now that we have https://github.com/mono/SkiaSharp.Extended/pull/277, I think we can finally do this!\r\n\r\nFYI I also see there is a new file format dotLottie: https://dotlottie.io/",
        "createdAt": "2024-04-16T22:22:13",
        "reactions": []
      }
    ]
  }
}