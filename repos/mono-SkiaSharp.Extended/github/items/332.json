{
  "number": 332,
  "type": "pr",
  "state": "open",
  "title": "Add ImageAssetsFolder property for Lottie animations with external images",
  "body": "Lottie animations referencing external image files (via \u0060\u0022u\u0022\u0060 and \u0060\u0022p\u0022\u0060 fields in assets) could not load images. Only base64-embedded images worked.\n\n## Changes\n\n- **Added \u0060ImageAssetsFolder\u0060 bindable property** to \u0060SKLottieImageSource\u0060 base class\n- **Updated \u0060CreateAnimationBuilder()\u0060** to chain \u0060FileResourceProvider\u0060 when folder is specified:\n  \u0060\u0060\u0060\n  CachingResourceProvider\n    \u2192 DataUriResourceProvider (base64 images)\n      \u2192 FileResourceProvider (external files, when ImageAssetsFolder set)\n  \u0060\u0060\u0060\n- **Maintains backward compatibility** - animations without external images work unchanged\n\n## Usage\n\n\u0060\u0060\u0060csharp\n// C#\nvar source = new SKFileLottieImageSource\n{\n    File = \u0022animations/myanimation.json\u0022,\n    ImageAssetsFolder = \u0022animations/images\u0022\n};\n\u0060\u0060\u0060\n\n\u0060\u0060\u0060xaml\n\u003C!-- XAML --\u003E\n\u003Ccontrols:SKLottieView\u003E\n    \u003Ccontrols:SKLottieView.Source\u003E\n        \u003Ccontrols:SKFileLottieImageSource \n            File=\u0022animations/myanimation.json\u0022\n            ImageAssetsFolder=\u0022animations/images\u0022 /\u003E\n    \u003C/controls:SKLottieView.Source\u003E\n\u003C/controls:SKLottieView\u003E\n\u0060\u0060\u0060\n\n## Testing\n\nAdded \u0060SKImageAssetsFolderTest.cs\u0060 with test Lottie JSON and image assets to verify external image loading.\n\n\u003E [!WARNING]\n\u003E\n\u003E \u003Cdetails\u003E\n\u003E \u003Csummary\u003EFirewall rules blocked me from connecting to one or more addresses (expand for details)\u003C/summary\u003E\n\u003E\n\u003E #### I tried to connect to the following addresses, but was blocked by firewall rules:\n\u003E\n\u003E - \u00600t3vsblobprodcus362.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet build source/SkiaSharp.Extended/SkiaSharp.Extended.csproj\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/source/SkiaSharp.Extended/SkiaSharp.Extended.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u006011vvsblobprodcus336.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/169BD6A679E70F1A8DB1754AF220F794/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u00602zrvsblobprodcus388.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj\u0060 (dns block)\n\u003E - \u006037cvsblobprodcus359.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A444A7F4B86F65D3F2A7BCF8163D0596/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u00604m6vsblobprodcus384.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj\u0060 (dns block)\n\u003E - \u006051yvsblobprodcus36.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/17F5F6D9D2176E6846B1D7AA9CBB2984/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u00607devsblobprodcus323.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/5B74F40C93A078C72D8DF238B871667A/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060bcnvsblobprodcus378.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet build source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj -f net9.0-android35.0\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet build source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj --no-restore -p:DesignTimeBuild=true\u0060 (dns block)\n\u003E - \u0060c78vsblobprodcus322.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/tests/SkiaSharp.Extended.Tests/SkiaSharp.Extended.Tests.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true ml.c\u0004\u0018 e.cs\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/169BD6A679E70F1A8DB1754AF220F794/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060cflvsblobprodcus383.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060dlbvsblobprodcus316.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/17F5F6D9D2176E6846B1D7AA9CBB2984/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060frdvsblobprodcus327.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/CB9CBA9383D5A238E2B9DD721B214239/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/91EEECFC80ED8D6FF706082129E4975F/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060i1qvsblobprodcus353.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/source/SkiaSharp.Extended/SkiaSharp.Extended.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/D0CE446A70B8C279207B5D1C384112D1/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A3667232A3D22B710FDE080B34BE347F/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060imzvsblobprodcus368.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/D209161F91CDA5622BE85E6A2020A99D/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060k0ivsblobprodcus356.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A444A7F4B86F65D3F2A7BCF8163D0596/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060kgfvsblobprodcus314.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/CB9CBA9383D5A238E2B9DD721B214239/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060kijvsblobprodcus387.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A444A7F4B86F65D3F2A7BCF8163D0596/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060l49vsblobprodcus358.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A444A7F4B86F65D3F2A7BCF8163D0596/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060lylvsblobprodcus31.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060o3svsblobprodcus318.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore source/SkiaSharp.Extended.UI.Maui/SkiaSharp.Extended.UI.Maui.csproj\u0060 (dns block)\n\u003E - \u0060pdfvsblobprodcus380.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060pe3vsblobprodcus354.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/source/SkiaSharp.Extended/SkiaSharp.Extended.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/D0CE446A70B8C279207B5D1C384112D1/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A3667232A3D22B710FDE080B34BE347F/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060rcxvsblobprodcus328.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/tests/SkiaSharp.Extended.Tests/SkiaSharp.Extended.Tests.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true ml.c\u0004\u0018 e.cs\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/97B6F2CA4656254F7A852783585D5FF8/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060st8vsblobprodcus339.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A444A7F4B86F65D3F2A7BCF8163D0596/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060u6ovsblobprodcus377.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet build source/SkiaSharp.Extended/SkiaSharp.Extended.csproj\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/source/SkiaSharp.Extended/SkiaSharp.Extended.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E - \u0060vb4vsblobprodcus33.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060vwvvsblobprodcus334.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060x3yvsblobprodcus370.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060yluvsblobprodcus367.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E\n\u003E If you need me to access, download, or install something from one of these locations, you can either:\n\u003E\n\u003E - Configure [Actions setup steps](https://gh.io/copilot/actions-setup-steps) to set up my environment, which run before the firewall is enabled\n\u003E - Add the appropriate URLs or hosts to the custom allowlist in this repository\u0027s [Copilot coding agent settings](https://github.com/mono/SkiaSharp.Extended/settings/copilot/coding_agent) (admins only)\n\u003E\n\u003E \u003C/details\u003E\n\n\u003C!-- START COPILOT ORIGINAL PROMPT --\u003E\n\n\n\n\u003Cdetails\u003E\n\n\u003Csummary\u003EOriginal prompt\u003C/summary\u003E\n\n\n----\n\n*This section details on the original issue you should resolve*\n\n\u003Cissue_title\u003E[BUG] Animations with image assets fail to load images\u003C/issue_title\u003E\n\u003Cissue_description\u003EPreviously, when using the lottie animations, one could have one or more images with the animations and have them referenced in the data.json file.\r\n\r\nAs noted, we are referencing these images in that json payload:\r\n\r\nimg_0.png\r\nimg_1.png\r\n\r\nWe would then need to specify the Assets Folder path so that the app can locate the images:\r\n\r\n\u0060animationView.ImageAssetsFolder = \u0022images\u0022;\u0060\r\n\r\nHowever, such functionality (specifying the ImageAssetsFolder) is missing on the new library and as a result - and as far as I know - we can only use images in base64 format as of now which is undesirable especially if you are a couple of images specified in the animation file. \r\n\r\n An example would be:\r\n\r\n\u0060\u0060\u0060json\r\n{\r\n  \u0022v\u0022: \u00225.7.6\u0022,\r\n  \u0022fr\u0022: 24,\r\n  \u0022ip\u0022: 0,\r\n  \u0022op\u0022: 48,\r\n  \u0022w\u0022: 400,\r\n  \u0022h\u0022: 400,\r\n  \u0022nm\u0022: \u0022welcome\u0022,\r\n  \u0022ddd\u0022: 0,\r\n  \u0022assets\u0022: [\r\n    {\r\n      \u0022id\u0022: \u0022image_0\u0022,\r\n      \u0022w\u0022: 101,\r\n      \u0022h\u0022: 72,\r\n      \u0022u\u0022: \u0022\u0022,\r\n      \u0022p\u0022: \u0022img_0.png\u0022,\r\n      \u0022e\u0022: 0\r\n    },\r\n    {\r\n      \u0022id\u0022: \u0022image_1\u0022,\r\n      \u0022w\u0022: 256,\r\n      \u0022h\u0022: 390,\r\n      \u0022u\u0022: \u0022\u0022,\r\n      \u0022p\u0022: \u0022img_1.png\u0022,\r\n      \u0022e\u0022: 0\r\n    }\r\n  ],\r\n  \u0022layers\u0022: [\r\n    {\r\n      \u0022ddd\u0022: 0,\r\n      \u0022ind\u0022: 1,\r\n      \u0022ty\u0022: 2,\r\n      \u0022nm\u0022: \u0022face.png\u0022,\r\n      \u0022cl\u0022: \u0022png\u0022,\r\n      \u0022refId\u0022: \u0022image_0\u0022,\r\n      \u0022sr\u0022: 1,\r\n      \u0022ks\u0022: {\r\n        \u0022o\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: 100,\r\n          \u0022ix\u0022: 11\r\n        },\r\n        \u0022r\u0022: {\r\n          \u0022a\u0022: 1,\r\n          \u0022k\u0022: [\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 0,\r\n              \u0022s\u0022: [ 0 ]\r\n            },\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 4,\r\n              \u0022s\u0022: [ 0 ]\r\n            },\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 8,\r\n              \u0022s\u0022: [ -50 ]\r\n            },\r\n            {\r\n              \u0022i\u0022: {\r\n                \u0022x\u0022: [ 0.833 ],\r\n                \u0022y\u0022: [ 0.833 ]\r\n              },\r\n              \u0022o\u0022: {\r\n                \u0022x\u0022: [ 0.167 ],\r\n                \u0022y\u0022: [ 0.167 ]\r\n              },\r\n              \u0022t\u0022: 20,\r\n              \u0022s\u0022: [ 50 ]\r\n            },\r\n            {\r\n              \u0022t\u0022: 29,\r\n              \u0022s\u0022: [ 0 ]\r\n            }\r\n          ],\r\n          \u0022ix\u0022: 10\r\n        },\r\n        \u0022p\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 200, 273, 0 ],\r\n          \u0022ix\u0022: 2,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022a\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 50.5, 36, 0 ],\r\n          \u0022ix\u0022: 1,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022s\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 100, 100, 100 ],\r\n          \u0022ix\u0022: 6,\r\n          \u0022l\u0022: 2\r\n        }\r\n      },\r\n      \u0022ao\u0022: 0,\r\n      \u0022ip\u0022: 0,\r\n      \u0022op\u0022: 48,\r\n      \u0022st\u0022: 0,\r\n      \u0022bm\u0022: 0\r\n    },\r\n    {\r\n      \u0022ddd\u0022: 0,\r\n      \u0022ind\u0022: 2,\r\n      \u0022ty\u0022: 2,\r\n      \u0022nm\u0022: \u0022LOCK.png\u0022,\r\n      \u0022cl\u0022: \u0022png\u0022,\r\n      \u0022refId\u0022: \u0022image_1\u0022,\r\n      \u0022sr\u0022: 1,\r\n      \u0022ks\u0022: {\r\n        \u0022o\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: 100,\r\n          \u0022ix\u0022: 11\r\n        },\r\n        \u0022r\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: 0,\r\n          \u0022ix\u0022: 10\r\n        },\r\n        \u0022p\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 200, 200, 0 ],\r\n          \u0022ix\u0022: 2,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022a\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 128, 195, 0 ],\r\n          \u0022ix\u0022: 1,\r\n          \u0022l\u0022: 2\r\n        },\r\n        \u0022s\u0022: {\r\n          \u0022a\u0022: 0,\r\n          \u0022k\u0022: [ 100, 100, 100 ],\r\n          \u0022ix\u0022: 6,\r\n          \u0022l\u0022: 2\r\n        }\r\n      },\r\n      \u0022ao\u0022: 0,\r\n      \u0022ip\u0022: 0,\r\n      \u0022op\u0022: 48,\r\n      \u0022st\u0022: 0,\r\n      \u0022bm\u0022: 0\r\n    }\r\n  ],\r\n  \u0022markers\u0022: []\r\n}\r\n\u0060\u0060\u0060\r\n\u003C/issue_description\u003E\n\n## Comments on the Issue (you are @copilot in this section)\n\n\u003Ccomments\u003E\n\u003Ccomment_new\u003E\u003Cauthor\u003E@mattleibow\u003C/author\u003E\u003Cbody\u003E\nSeems to also have issues with base64 images in the lottie files: https://lottiefiles.com/36895-healthy-or-junk-food\u003C/body\u003E\u003C/comment_new\u003E\n\u003Ccomment_new\u003E\u003Cauthor\u003E@mattleibow\u003C/author\u003E\u003Cbody\u003E\nReal issue tracked here: https://github.com/mono/SkiaSharp/issues/2173\u003C/body\u003E\u003C/comment_new\u003E\n\u003Ccomment_new\u003E\u003Cauthor\u003E@mattleibow\u003C/author\u003E\u003Cbody\u003E\nAnyone have an example file like this? I am working on fixing this and I want to add some tests.\u003C/body\u003E\u003C/comment_new\u003E\n\u003Ccomment_new\u003E\u003Cauthor\u003E@mattleibow\u003C/author\u003E\u003Cbody\u003E\nThis PR will get us to the happy place: https://github.com/mono/SkiaSharp/pull/2630\u003C/body\u003E\u003C/comment_new\u003E\n\u003Ccomment_new\u003E\u003Cauthor\u003E@mattleibow\u003C/author\u003E\u003Cbody\u003E\nNow that we have https://github.com/mono/SkiaSharp.Extended/pull/2...\n\n\u003C/details\u003E\n\n\n\n\u003C!-- START COPILOT CODING AGENT SUFFIX --\u003E\n\n- Fixes mono/SkiaSharp.Extended#169\n\n\u003C!-- START COPILOT CODING AGENT TIPS --\u003E\n---\n\n\uD83D\uDCA1 You can make Copilot smarter by setting up custom instructions, customizing its development environment and configuring Model Context Protocol (MCP) servers. Learn more [Copilot coding agent tips](https://gh.io/copilot-coding-agent-tips) in the docs.",
  "author": {
    "login": "Copilot",
    "type": "Bot"
  },
  "labels": [],
  "assignees": [
    {
      "login": "mattleibow",
      "type": "User"
    },
    {
      "login": "Copilot",
      "type": "Bot"
    }
  ],
  "createdAt": "2026-02-05T03:10:33",
  "updatedAt": "2026-02-05T03:46:00",
  "commentCount": 1,
  "reactionCount": 0,
  "draft": true,
  "mergeable": false,
  "merged": false,
  "mergeableState": "dirty",
  "baseBranch": "main",
  "headBranch": "copilot/fix-animation-image-loading",
  "additions": 231,
  "deletions": 4,
  "changedFiles": 6,
  "commits": 4,
  "reviews": [],
  "engagement": {
    "syncedAt": "2026-02-06T13:07:39.9862836Z",
    "reactions": [],
    "comments": [
      {
        "id": 3850904066,
        "author": "mattleibow",
        "body": "/azp run",
        "createdAt": "2026-02-05T03:45:59",
        "reactions": []
      }
    ]
  }
}