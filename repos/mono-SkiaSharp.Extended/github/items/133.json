{
  "number": 133,
  "type": "issue",
  "state": "closed",
  "title": "Handler not found for view SkiaSharp.Extended.UI.Controls.SKLottieView",
  "body": "**Description**\r\n\r\nSkiaSharpDemo sample code does not display LottiePage screen when it is selected in the mainpage list \r\nI have not received any error messages.\r\nWhen I opened LottiePage as the main page, I received a Handler not found error.\r\n\r\n**Code**\r\n\r\n\u003C!-- a snippet of code that demonstrates the issue --\u003E\r\n\r\n**Expected Behavior**\r\n\r\nThe Lottie Page should display the lottie animation\r\n\r\n**Actual Behavior**\r\n\r\nIt fails to display the Lottie page and fails with the exception Handler not found\r\n\r\n**Basic Information**\r\nSkiaSharp demo code, same SDK configurations\r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\n  \r\n\u0060\u0060\u0060\r\nVisual Studio Community 2022 for Mac Preview\r\nVersion 17.3 Preview (17.3 build 1972)\r\nInstallation UUID: 9a144d53-0b34-4ca8-8f6d-eeb4cf9531f8\r\n\r\nRuntime\r\n.NET 6.0.5 (64-bit)\r\nArchitecture: Arm64\r\n\r\nRoslyn (Language Service)\r\n4.3.0-3.22312.2\u002B52adfb8b2dc71ed4278debcf13960f2116868608\r\n\r\nNuGet\r\nVersion: 6.2.1.2\r\n\r\n.NET SDK (Arm64)\r\nSDK: /usr/local/share/dotnet/sdk/6.0.400-preview.22330.6/Sdks\r\nSDK Versions:\r\n\t6.0.400-preview.22330.6\r\n\t6.0.301\r\nMSBuild SDKs: /Applications/Visual Studio (Preview).app/Contents/MonoBundle/MSBuild/Current/bin/Sdks\r\n\r\n.NET SDK (x64)\r\nSDK Versions:\r\n\t3.1.421\r\n\t3.1.420\r\n\r\n.NET Runtime (Arm64)\r\nRuntime: /usr/local/share/dotnet/dotnet\r\nRuntime Version: 6.0.6\r\n\r\n.NET Runtime (x64)\r\nRuntime: /usr/local/share/dotnet/x64/dotnet\r\nRuntime Versions:\r\n\t3.1.27\r\n\t3.1.26\r\n\r\nXamarin.Profiler\r\nVersion: 1.8.0.19\r\nLocation: /Applications/Xamarin Profiler.app/Contents/MacOS/Xamarin Profiler\r\n\r\nUpdater\r\nVersion: 11\r\n\r\nXamarin.Android\r\nVersion: 13.0.0.0 (Visual Studio Community)\r\nCommit: xamarin-android/d17-3/030cd63\r\nAndroid SDK: /Users/rajarajan/Library/Developer/Xamarin/android-sdk-macosx\r\n\tSupported Android versions:\r\n\t\t12.0 (API level 31)\r\n\t\t11.0 (API level 30)\r\n\t\t10.0 (API level 29)\r\n\r\nSDK Command-line Tools Version: 7.0\r\nSDK Platform Tools Version: 33.0.2\r\nSDK Build Tools Version: 33.0.0\r\n\r\nBuild Information: \r\nMono: dffa5ab\r\nJava.Interop: xamarin/java.interop/d17-3@7716ae53\r\nSQLite: xamarin/sqlite/3.38.5@df4deab\r\nXamarin.Android Tools: xamarin/xamarin-android-tools/main@14076a6\r\n\r\nMicrosoft Build of OpenJDK\r\nJava SDK: /Library/Java/JavaVirtualMachines/microsoft-11.jdk\r\n11.0.12\r\nAndroid Designer EPL code available here:\r\nhttps://github.com/xamarin/AndroidDesigner.EPL\r\n\r\nEclipse Temurin JDK\r\nJava SDK: /Library/Java/JavaVirtualMachines/temurin-8.jdk\r\n1.8.0.302\r\nAndroid Designer EPL code available here:\r\nhttps://github.com/xamarin/AndroidDesigner.EPL\r\n\r\nAndroid SDK Manager\r\nVersion: 17.3.0.18\r\nHash: 59267e9\r\nBranch: remotes/origin/main\r\nBuild date: 2022-07-12 19:11:27 UTC\r\n\r\nAndroid Device Manager\r\nVersion: 0.0.0.1163\r\nHash: 3f16765\r\nBranch: main\r\nBuild date: 2022-07-12 19:11:27 UTC\r\n\r\nXamarin Designer\r\nVersion: 17.3.0.201\r\nHash: 94069a36b\r\nBranch: remotes/origin/d17-3\r\nBuild date: 2022-07-12 19:11:23 UTC\r\n\r\nApple Developer Tools\r\nXcode 13.4.1 (20504)\r\nBuild 13F100\r\n\r\nXamarin.Mac\r\nVersion: 8.10.0.5 (Visual Studio Community)\r\nHash: 96b3edb6d\r\nBranch: d17-2\r\nBuild date: 2022-05-18 07:32:06-0400\r\n\r\nXamarin.iOS\r\nVersion: 15.10.0.5 (Visual Studio Community)\r\nHash: 96b3edb6d\r\nBranch: d17-2\r\nBuild date: 2022-05-18 07:32:07-0400\r\n\r\nBuild Information\r\nRelease ID: 1703001972\r\nGit revision: 8eb3c1bb0f14a8e54ee7c227c7047c46cff6ee8c\r\nBuild date: 2022-07-12 19:09:28\u002B00\r\nBuild branch: release-17.3\r\nBuild lane: release-17.3\r\n\r\nOperating System\r\nMac OS X 12.4.0\r\nDarwin 21.5.0 Darwin Kernel Version 21.5.0\r\n    Tue Apr 26 21:08:29 PDT 2022\r\n    root:xnu-8020.121.3~4/RELEASE_ARM64_T8101 arm64\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n**Screenshots**\r\n\r\n\u003C!-- if the issue is a visual issue, please include screenshots showing the problem if possible --\u003E\r\n\r\n**Reproduction Link**\r\n\r\n\u003C!-- please upload or provide a link to a reproduction case --\u003E\r\n\r\n** Error message **\r\n\r\n\r\n\r\n\u0060\u0060\u0060\r\nHandler not found for view SkiaSharp.Extended.UI.Controls.SKLottieView.\r\n\r\n   at Microsoft.Maui.Platform.ElementExtensions.ToHandler(IElement view, IMauiContext context)\r\n   at Microsoft.Maui.Platform.ElementExtensions.ToPlatform(IElement view, IMauiContext context)\r\n   at Microsoft.Maui.Handlers.LayoutHandler.SetVirtualView(IView view)\r\n   at Microsoft.Maui.Handlers.ViewHandler\u00602[[Microsoft.Maui.ILayout, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Microsoft.Maui.Platform.LayoutView, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]].SetVirtualView(IElement view)\r\n   at Microsoft.Maui.Controls.Element.SetHandler(IElementHandler newHandler)\r\n   at Microsoft.Maui.Controls.Element.set_Handler(IElementHandler value)\r\n   at Microsoft.Maui.Controls.VisualElement.Microsoft.Maui.IElement.set_Handler(IElementHandler value)\r\n   at Microsoft.Maui.Platform.ElementExtensions.ToHandler(IElement view, IMauiContext context)\r\n   at Microsoft.Maui.Platform.ElementExtensions.ToPlatform(IElement view, IMauiContext context)\r\n   at Microsoft.Maui.Handlers.ContentViewHandler.UpdateContent(IContentViewHandler handler)\r\n   at Microsoft.Maui.Handlers.ContentViewHandler.MapContent(IContentViewHandler handler, IContentView page)\r\n   at Microsoft.Maui.PropertyMapper\u00602.\u003C\u003Ec__DisplayClass5_0[[Microsoft.Maui.IContentView, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Microsoft.Maui.Handlers.IContentViewHandler, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]].\u003CAdd\u003Eb__0(IElementHandler h, IElement v)\r\n   at Microsoft.Maui.PropertyMapper.UpdatePropertyCore(String key, IElementHandler viewHandler, IElement virtualView)\r\n   at Microsoft.Maui.PropertyMapper.UpdateProperties(IElementHandler viewHandler, IElement virtualView)\r\n   at Microsoft.Maui.Handlers.ElementHandler.SetVirtualView(IElement view)\r\n   at Microsoft.Maui.Handlers.ViewHandler\u00602[[Microsoft.Maui.IContentView, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Microsoft.Maui.Platform.ContentView, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]].SetVirtualView(IView view)\r\n   at Microsoft.Maui.Handlers.ContentViewHandler.SetVirtualView(IView view)\r\n   at Microsoft.Maui.Handlers.ViewHandler\u00602[[Microsoft.Maui.IContentView, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Microsoft.Maui.Platform.ContentView, Microsoft.Maui, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]].SetVirtualView(IElement view)\r\n   at Microsoft.Maui.Controls.Element.SetHandler(IElementHandler newHandler)\r\n   at Microsoft.Maui.Controls.Element.set_Handler(IElementHandler value)\r\n   at Microsoft.Maui.Controls.VisualElement.Microsoft.Maui.IElement.set_Handler(IElementHandler value)\r\n   at Microsoft.Maui.Platform.ElementExtensions.ToHandler(IElement view, IMauiContext context)\r\n   at Microsoft.Maui.Platform.ViewExtensions.ToHandler(IView view, IMauiContext context)\r\n   at Microsoft.Maui.Controls.Platform.Compatibility.ShellSectionRootRenderer.SetPageRenderer(Page page, ShellContent shellContent)\r\n   at Microsoft.Maui.Controls.Platform.Compatibility.ShellSectionRootRenderer.LoadRenderers()\r\n   at Microsoft.Maui.Controls.Platform.Compatibility.ShellSectionRootRenderer.ViewDidLoad()\r\n   at UIKit.UIApplication.Main(String[] args, Type principalClass, Type delegateClass)\r\n   at SkiaSharpDemo.Program.Main(String[] args) in /Users/\u003CUserName\u003E/OnlineCodes/SkiaSharp.Extended/samples/Maui/SkiaSharpDemo/Platforms/MacCatalyst/Program.cs:line 13\r\n\u0060\u0060\u0060",
  "author": {
    "login": "RajarajanA",
    "type": "User"
  },
  "labels": [
    {
      "name": "bug",
      "color": "fc2929"
    }
  ],
  "assignees": [],
  "createdAt": "2022-07-17T01:18:08",
  "updatedAt": "2024-04-08T09:33:11",
  "closedAt": "2024-04-08T09:33:10",
  "commentCount": 12,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T13:08:58.5328946Z",
    "reactions": [],
    "comments": [
      {
        "id": 1186541615,
        "author": "jfversluis",
        "body": "I\u0027ve seen this too, but on Windows it works fine. Seems specific to building on a Mac.\r\n\r\n\u0060.UseSkiaSharp()\u0060 is in place, building on Windows and deploy to Android: works. Build the same code on Mac and deploy to iOS, macOS, Android: doesn\u0027t work and throws this error.",
        "createdAt": "2022-07-17T14:57:41",
        "reactions": [
          {
            "user": "RajarajanA",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:08:56.4125791Z"
          },
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:08:56.4125795Z"
          },
          {
            "user": "xiz0r",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:08:56.4125796Z"
          }
        ]
      },
      {
        "id": 1197541756,
        "author": "mattleibow",
        "body": "Thanks for the additional info about platforms. I\u0027ll have a look.",
        "createdAt": "2022-07-28T01:17:18",
        "reactions": []
      },
      {
        "id": 1200438258,
        "author": "rsbepvb",
        "body": "Having the same problem (Handler not found) on Mac notwithstanding including .UseSkiaSharp() in Builder.   ",
        "createdAt": "2022-07-31T14:38:50",
        "reactions": []
      },
      {
        "id": 1221598635,
        "author": "jfversluis",
        "body": "Seems like this might\u0027ve been a bug in... something else. It\u0027s working for me now from a Mac as well!",
        "createdAt": "2022-08-21T18:33:09",
        "reactions": []
      },
      {
        "id": 1221599239,
        "author": "rsbepvb",
        "body": "Thanks Gerald, but I just checked again on my Mac and it still throws this Handler not found for SKLottieView exception.   Running latest versions of everything (VSM 17.4 preview, all dependencies updated, etc..).",
        "createdAt": "2022-08-21T18:37:54",
        "reactions": []
      },
      {
        "id": 1222062851,
        "author": "mattleibow",
        "body": "Did you add .UseSkiaSharp() in your builder? ",
        "createdAt": "2022-08-22T09:01:31",
        "reactions": [
          {
            "user": "samirgcofficial",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:08:57.2952907Z"
          }
        ]
      },
      {
        "id": 1235097929,
        "author": "samirgcofficial",
        "body": "\u002B1  Issue still exist. \r\nLatest Visual studio MAC and Latest .Net MAUI 6.0.486 ",
        "createdAt": "2022-09-02T05:57:22",
        "reactions": []
      },
      {
        "id": 1235937540,
        "author": "rsbepvb",
        "body": "Confirming that the issue is still persisting for us.  Yes, added .UseSkiaSharp() in builder.  ",
        "createdAt": "2022-09-02T22:22:13",
        "reactions": []
      },
      {
        "id": 1236047622,
        "author": "mattleibow",
        "body": "Are you able to attach a repro of this and share the output of \u0060dotnet --info\u0060 and \u0060dotnet workload list\u0060? ",
        "createdAt": "2022-09-03T04:42:24",
        "reactions": []
      },
      {
        "id": 1305214534,
        "author": "dennischchch",
        "body": "Microsoft.Maui.Platform.HandlerNotFoundException: \u0027Handler not found for view SkiaSharp.Extended.UI.Controls.SKLottieView.\u0027\r\n\r\nis that problem fixed?\r\n\r\nI ran it in Visual Studio 2022 preview version(win10) with .net 6.\r\n",
        "createdAt": "2022-11-07T07:58:22",
        "reactions": []
      },
      {
        "id": 1703194089,
        "author": "mattleibow",
        "body": "Can you try the latest preview versions? I think I fixed it.",
        "createdAt": "2023-09-01T18:53:44",
        "reactions": []
      },
      {
        "id": 2042291991,
        "author": "mattleibow",
        "body": "Closing this issue as I think I fixed the issue. Please open a new issue with a repro if it is still happening.",
        "createdAt": "2024-04-08T09:33:11",
        "reactions": []
      }
    ]
  }
}