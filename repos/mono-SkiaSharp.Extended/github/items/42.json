{
  "number": 42,
  "type": "issue",
  "state": "closed",
  "title": "SVG colors confused in SkiaSharp.Svg 1.60.0",
  "body": "SkiaSharp.Svg 1.60.0 gets colors confused, with text color sometimes taken from the colors of other elements. 1.59.1 is OK.\r\n\r\n[SVGColors.zip](https://github.com/mono/SkiaSharp.Extended/files/2053503/SVGColors.zip)\r\n\r\nShould look like:\r\n\r\n![image](https://user-images.githubusercontent.com/19760720/40714152-b64be24c-63f9-11e8-955a-ddb32101566e.png)\r\n\r\nBut looks like this in 1.60.0, as some text color is taken from other white text:\r\n\r\n![image](https://user-images.githubusercontent.com/19760720/40714265-11f9a548-63fa-11e8-9e5f-87b975177c91.png)\r\n\r\nTested using SkiaSharp / SkiaSharp.Views.Forms 1.60.0 and 1.60.1",
  "author": {
    "login": "charlesroddie",
    "type": "User"
  },
  "labels": [
    {
      "name": "bug",
      "color": "fc2929"
    },
    {
      "name": "area-Svg",
      "color": "0052cc"
    }
  ],
  "assignees": [],
  "milestone": "Version 1.68.0",
  "createdAt": "2018-05-30T10:15:30",
  "updatedAt": "2019-02-10T04:18:20",
  "closedAt": "2018-10-25T20:28:44",
  "commentCount": 5,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-06T12:27:09.3089183Z",
    "reactions": [],
    "comments": [
      {
        "id": 394818797,
        "author": "AxelUser",
        "body": "Seems like something is wrong with path\u0027s default fill. Temporal measure before cure is to set to all groups their colors:\r\n\u0060\u0060\u0060\u003Cg style=\u0022clip-path:url(#SVGID_36_);fill:black;\u0022\u003E\u0060\u0060\u0060.",
        "createdAt": "2018-06-05T18:46:49",
        "reactions": []
      },
      {
        "id": 395985236,
        "author": "daniel-luberda",
        "body": "This should be fixed with: https://github.com/mono/SkiaSharp.Extended/pull/38/commits/9cf03c4c03bfbcdcc1d60992ba7a69aba1d3010e#diff-54eeb522f1f0baf1f0fb5e1d63c39ba4R889",
        "createdAt": "2018-06-09T17:19:55",
        "reactions": [
          {
            "user": "vlkam",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:27:08.528884Z"
          }
        ]
      },
      {
        "id": 396029523,
        "author": "AxelUser",
        "body": "@daniel-luberda Hi! Your fixes are quite reasonable, but I checked your fork\u0027s demo with image in issue and result is the same.\r\nSeems like problem is caused by preserving (cascading) fill color here: https://github.com/mono/SkiaSharp.Extended/blob/master/SkiaSharp.Extended.Svg/source/SkiaSharp.Extended.Svg.Shared/SKSvg.cs#L871\r\n\u0060\u0060\u0060csharp\r\nif (string.IsNullOrEmpty(fill))\r\n{\r\n    // no change\r\n}\r\n\u0060\u0060\u0060\r\n\r\nIt may be reproduced if you in SkiaSharpDemo/images/logos.svg in path with id \u0060microsoft-text\u0060 remove \u0060 style=\u0022fill:#727272\u0022\u0060. This will result in preserving blue fill color from previous logo (Xamarin) in caption \u0022Microsoft\u0022. Example is somewhere below.\r\n\r\nIf you pass fills to all groups or paths/rects/etc, there is no problem. May be it is some kind of fail in Adobe Illustrator. But somehow web-browsers support cascading correctly.\r\n\r\n![image](https://user-images.githubusercontent.com/7935489/41199600-0f9b9970-6cae-11e8-9b75-e8d43f6e97fe.png)",
        "createdAt": "2018-06-10T08:03:40",
        "reactions": []
      },
      {
        "id": 396074104,
        "author": "AxelUser",
        "body": "Fixed in #44 \r\n![image](https://user-images.githubusercontent.com/7935489/41205414-7766e6c8-6d0c-11e8-8982-7182abf779a9.png)\r\n",
        "createdAt": "2018-06-10T19:15:00",
        "reactions": [
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:27:09.0391525Z"
          },
          {
            "user": "daniel-luberda",
            "content": "\u002B1",
            "createdAt": "2026-02-06T12:27:09.0391528Z"
          }
        ]
      },
      {
        "id": 433193721,
        "author": "mattleibow",
        "body": "Merged #44",
        "createdAt": "2018-10-25T20:26:52",
        "reactions": []
      }
    ]
  }
}