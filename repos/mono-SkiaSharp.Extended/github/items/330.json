{
  "number": 330,
  "type": "pr",
  "state": "open",
  "title": "Complete AnimationFailed exception exposure in tests and docs",
  "body": "\u0060SKLottieView.AnimationFailed\u0060 event now uses \u0060SKLottieAnimationFailedEventArgs\u0060 with an \u0060Exception\u0060 property (implemented in base branch), but test infrastructure and documentation still referenced the old \u0060EventArgs\u0060 type.\n\n## Changes\n\n- **Test helper** (\u0060SKLottieViewExtensions.cs\u0060): Updated \u0060OnAnimationFailed\u0060 signature to use \u0060SKLottieAnimationFailedEventArgs\u0060 and chain exception as inner exception\n- **Documentation** (\u0060sklottieview.md\u0060): Corrected event types for \u0060AnimationFailed\u0060 and \u0060AnimationLoaded\u0060, documented \u0060Exception\u0060 property\n- **Test coverage** (\u0060SKLottieViewTest.cs\u0060): Added test verifying event args type and event triggering behavior\n\n## Usage\n\n\u0060\u0060\u0060csharp\nlottieView.AnimationFailed \u002B= (sender, e) =\u003E\n{\n    if (e.Exception != null)\n        Debug.WriteLine($\u0022Failed: {e.Exception.Message}\u0022);\n};\n\u0060\u0060\u0060\n\n**Note**: \u0060Exception\u0060 may be null when animation returns null without throwing.\n\n\u003E [!WARNING]\n\u003E\n\u003E \u003Cdetails\u003E\n\u003E \u003Csummary\u003EFirewall rules blocked me from connecting to one or more addresses (expand for details)\u003C/summary\u003E\n\u003E\n\u003E #### I tried to connect to the following addresses, but was blocked by firewall rules:\n\u003E\n\u003E - \u00600t3vsblobprodcus362.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/source/SkiaSharp.Extended/SkiaSharp.Extended.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E - \u00601s1vsblobprodcus386.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/8E0510E7BE57D5CDD12984F1A8B1B374/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u00602zrvsblobprodcus388.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore tests/SkiaSharp.Extended.UI.Maui.Tests/SkiaSharp.Extended.UI.Maui.Tests.csproj\u0060 (dns block)\n\u003E - \u00604m6vsblobprodcus384.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore tests/SkiaSharp.Extended.UI.Maui.Tests/SkiaSharp.Extended.UI.Maui.Tests.csproj\u0060 (dns block)\n\u003E - \u00607devsblobprodcus323.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/5B74F40C93A078C72D8DF238B871667A/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u00607k6vsblobprodcus337.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/169BD6A679E70F1A8DB1754AF220F794/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060bcnvsblobprodcus378.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet build tests/SkiaSharp.Extended.UI.Maui.Tests/SkiaSharp.Extended.UI.Maui.Tests.csproj -v q\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore tests/SkiaSharp.Extended.UI.Maui.Tests/SkiaSharp.Extended.UI.Maui.Tests.csproj\u0060 (dns block)\n\u003E - \u0060c78vsblobprodcus322.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore tests/SkiaSharp.Extended.UI.Maui.Tests/SkiaSharp.Extended.UI.Maui.Tests.csproj\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/tests/SkiaSharp.Extended.Tests/SkiaSharp.Extended.Tests.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/38137712C671CCEA0DDC198C705E19A0/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060e7bvsblobprodcus348.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A444A7F4B86F65D3F2A7BCF8163D0596/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060fdpvsblobprodcus345.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/5707D9CCD3909344C2384588AB311A3D/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060frdvsblobprodcus327.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/tests/SkiaSharp.Extended.Tests/SkiaSharp.Extended.Tests.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/CB9CBA9383D5A238E2B9DD721B214239/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060imzvsblobprodcus368.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/D209161F91CDA5622BE85E6A2020A99D/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060lylvsblobprodcus31.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/tests/SkiaSharp.Extended.Tests/SkiaSharp.Extended.Tests.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E - \u0060m16vsblobprodcus374.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/17F5F6D9D2176E6846B1D7AA9CBB2984/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060o3svsblobprodcus318.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet workload restore tests/SkiaSharp.Extended.UI.Maui.Tests/SkiaSharp.Extended.UI.Maui.Tests.csproj\u0060 (dns block)\n\u003E - \u0060pdfvsblobprodcus380.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/91EEECFC80ED8D6FF706082129E4975F/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060rcxvsblobprodcus328.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/tests/SkiaSharp.Extended.Tests/SkiaSharp.Extended.Tests.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/97B6F2CA4656254F7A852783585D5FF8/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060st8vsblobprodcus339.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/A3667232A3D22B710FDE080B34BE347F/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060u6ovsblobprodcus377.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/SkiaSharp.Extended/source/SkiaSharp.Extended/SkiaSharp.Extended.csproj --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/packages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal /p:TargetFrameworkRootPath=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:NetCoreTargetingPackRoot=/home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/emptyFakeDotnetRoot /p:AllowMissingPrunePackageData=true\u0060 (dns block)\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/D0CE446A70B8C279207B5D1C384112D1/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E - \u0060ytvvsblobprodcus310.vsblob.vsassets.io\u0060\n\u003E   - Triggering command: \u0060/usr/bin/dotnet dotnet restore --no-dependencies /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/78EB6D0660D838F92C07DD472AF09142/missingpackages_workingdir --packages /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/missingpackages /p:DisableImplicitNuGetFallbackFolder=true --verbosity normal --configfile /home/REDACTED/work/SkiaSharp.Extended/.codeql-scratch/dbs/csharp/working/nugetconfig/nuget.config --force\u0060 (dns block)\n\u003E\n\u003E If you need me to access, download, or install something from one of these locations, you can either:\n\u003E\n\u003E - Configure [Actions setup steps](https://gh.io/copilot/actions-setup-steps) to set up my environment, which run before the firewall is enabled\n\u003E - Add the appropriate URLs or hosts to the custom allowlist in this repository\u0027s [Copilot coding agent settings](https://github.com/mono/SkiaSharp.Extended/settings/copilot/coding_agent) (admins only)\n\u003E\n\u003E \u003C/details\u003E\n\n\u003C!-- START COPILOT ORIGINAL PROMPT --\u003E\n\n\n\n\u003Cdetails\u003E\n\n\u003Csummary\u003EOriginal prompt\u003C/summary\u003E\n\n\u003E \n\u003E ----\n\u003E \n\u003E *This section details on the original issue you should resolve*\n\u003E \n\u003E \u003Cissue_title\u003E[FEATURE] Show reason why animation failed\u003C/issue_title\u003E\n\u003E \u003Cissue_description\u003E**Is your feature request related to a problem? Please describe.**\r\n\u003E We have event \u0060SKLottieView.AnimationFailed\u0060 but we always show \u0060EventArgs.Empty\u0060 in [here](https://github.com/mono/SkiaSharp.Extended/blob/0ff98b0080b043e7e12aff3912f496f708acfd25/source/SkiaSharp.Extended.UI/Controls/Lottie/SKLottieView.shared.cs#L223). Better if user can know the reason why their lottie file is failed to load\r\n\u003E \r\n\u003E **Describe the solution you\u0027d like**\r\n\u003E \r\n\u003E \u0060AnimationFailed\u0060 event should have reason why they are failed. Maybe event args with exception emitted?\r\n\u003E \r\n\u003E **Describe alternatives you\u0027ve considered**\r\n\u003E \r\n\u003E Maybe we can also just add \u0060Console.Writeline()\u0060 but I think it is better if we have reason animation failed emitted from \u0060AnimationFailed\u0060 event\r\n\u003E \r\n\u003E \u003C/issue_description\u003E\n\u003E \n\u003E ## Comments on the Issue (you are @copilot in this section)\n\u003E \n\u003E \u003Ccomments\u003E\n\u003E \u003Ccomment_new\u003E\u003Cauthor\u003E@mattleibow\u003C/author\u003E\u003Cbody\u003E\n\u003E I added some basic reasons in the new event args in the form of any caught exceptions: https://github.com/mono/SkiaSharp.Extended/pull/268\r\n\u003E \r\n\u003E In a skia update, there is a new builder type with far more info. \u003C/body\u003E\u003C/comment_new\u003E\n\u003E \u003C/comments\u003E\n\u003E \n\n\n\u003C/details\u003E\n\n\n\n\u003C!-- START COPILOT CODING AGENT SUFFIX --\u003E\n\n- Fixes mono/SkiaSharp.Extended#174\n\n\u003C!-- START COPILOT CODING AGENT TIPS --\u003E\n---\n\n\uD83D\uDCAC We\u0027d love your input! Share your thoughts on Copilot coding agent in our [2 minute survey](https://gh.io/copilot-coding-agent-survey).\n",
  "author": {
    "login": "Copilot",
    "type": "Bot"
  },
  "labels": [],
  "assignees": [
    {
      "login": "mattleibow",
      "type": "User"
    },
    {
      "login": "Copilot",
      "type": "Bot"
    }
  ],
  "createdAt": "2026-02-05T03:10:33",
  "updatedAt": "2026-02-05T03:40:45",
  "commentCount": 1,
  "reactionCount": 0,
  "draft": false,
  "mergeable": true,
  "merged": false,
  "mergeableState": "behind",
  "baseBranch": "main",
  "headBranch": "copilot/add-animation-failed-reason",
  "additions": 37,
  "deletions": 7,
  "changedFiles": 3,
  "commits": 4,
  "reviews": []
}