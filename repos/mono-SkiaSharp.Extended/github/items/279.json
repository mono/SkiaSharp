{
  "number": 279,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] Animation is not being started for the first time in the popup after showing that popup",
  "body": "**Description**\r\n\r\nI\u0027m developer of [MPowerKit.Popups](https://github.com/MPowerKit/Popups) library. And one of the users of this library experiencing an issue, when he has lottie animation in that popup and tries to open popup and the animation is not started for the first opening. but if user closes popup and open again the animation is started. Other views being rendered in the popup as expected all the time\r\n\r\nThere is workaround that forces to start lottie animation in the codebehind of the popup, that works, but it is ugly. Shortly, you can add the lottie animation view to the view tree from the codebehind after task delay. that code is below\r\n\r\n**Related issues:**\r\nhttps://github.com/MPowerKit/Popups/issues/1\r\nhttps://github.com/mono/SkiaSharp.Extended/issues/264\r\n\r\n**Code**\r\n\r\n\u0060\u0060\u0060xaml\r\n\u003C?xml version=\u00221.0\u0022 encoding=\u0022utf-8\u0022 ?\u003E\r\n\u003Cpopup:PopupPage x:Class=\u0022MauiApp1.LoadingMopup\u0022\r\n                 xmlns=\u0022http://schemas.microsoft.com/dotnet/2021/maui\u0022\r\n                 xmlns:x=\u0022http://schemas.microsoft.com/winfx/2009/xaml\u0022\r\n                 xmlns:local=\u0022clr-namespace:MauiApp1\u0022\r\n                 xmlns:popup=\u0022clr-namespace:MPowerKit.Popups;assembly=MPowerKit.Popups\u0022\r\n                 xmlns:skia=\u0022clr-namespace:SkiaSharp.Extended.UI.Controls;assembly=SkiaSharp.Extended.UI\u0022\r\n                 Title=\u0022PopupTestPage\u0022\r\n                 BackgroundColor=\u0022#80000000\u0022\r\n                 BackgroundInputTransparent=\u0022False\u0022\r\n                 CloseOnBackgroundClick=\u0022True\u0022\u003E\r\n\r\n    \u003CContentView BackgroundColor=\u0022Orange\u0022\r\n                 VerticalOptions=\u0022Center\u0022\u003E\r\n        \u003CVerticalStackLayout x:Name=\u0022stack\u0022\r\n                             BackgroundColor=\u0022Purple\u0022\r\n                             HorizontalOptions=\u0022Center\u0022\u003E\r\n            \u003CLabel Text=\u0022kdjsnslhnsdhm;lsdhs\u0022 /\u003E\r\n            \u003C!--  comment here and uncomment in the codebehind  --\u003E\r\n            \u003Cskia:SKLottieView x:Name=\u0022LottieAnimation\u0022\r\n                               Margin=\u002220\u0022\r\n                               Padding=\u00220\u0022\r\n                               BackgroundColor=\u0022Blue\u0022\r\n                               HeightRequest=\u0022150\u0022\r\n                               IsAnimationEnabled=\u0022True\u0022\r\n                               RepeatCount=\u0022-1\u0022\r\n                               Source=\u0022cat.json\u0022\r\n                               WidthRequest=\u0022150\u0022 /\u003E\r\n        \u003C/VerticalStackLayout\u003E\r\n    \u003C/ContentView\u003E\r\n\u003C/popup:PopupPage\u003E\r\n\u0060\u0060\u0060\r\n\r\n\u0060\u0060\u0060csharp\r\nusing SkiaSharp.Extended.UI.Controls;\r\n\r\nnamespace MauiApp1;\r\n\r\npublic partial class LoadingMopup : MPowerKit.Popups.PopupPage\r\n{\r\n    public LoadingMopup()\r\n    {\r\n        InitializeComponent();\r\n        // Uncomment here\r\n        //InitializeLottieAsync();\r\n    }\r\n\r\n    public async void InitializeLottieAsync()\r\n    {\r\n        await Task.Delay(1);\r\n        SKLottieView myanimatedview = new()\r\n        {\r\n            Source = new SKFileLottieImageSource()\r\n            {\r\n                File = \u0022cat.json\u0022\r\n            },\r\n            RepeatCount = -1,\r\n            IsAnimationEnabled = true,\r\n            IsVisible = true,\r\n            WidthRequest = 150,\r\n            HeightRequest = 150,\r\n            BackgroundColor = Colors.Blue,\r\n            Margin = new Thickness(20),\r\n        };\r\n        stack.Add(myanimatedview);\r\n    }\r\n}\r\n\u0060\u0060\u0060\r\n\r\n**Expected Behavior**\r\n\r\nThe animation started each time user opens the popup\r\n\r\n**Actual Behavior**\r\n\r\nThe animation is not being started for the first time, after closing the popup and opening again the animation is being started.\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  Latest available.\r\n- Last known good version:  unknown\r\n- IDE:  VS 2022 for windows latest stable available \r\n- Platform Target Frameworks: Android\r\n  - Android: 13,14, .net 8\r\n  iOS- didn\u0027t test\r\n\r\n**Reproduction Link**\r\n\r\n[LottiePopupTest.zip](https://github.com/mono/SkiaSharp.Extended/files/15044859/LottiePopupTest.zip)\r\n\r\n",
  "author": {
    "login": "Alex-Dobrynin",
    "type": "User"
  },
  "labels": [
    {
      "name": "bug",
      "color": "fc2929"
    }
  ],
  "assignees": [],
  "createdAt": "2024-04-19T19:20:30",
  "updatedAt": "2024-04-22T13:17:03",
  "closedAt": "2024-04-22T13:17:03",
  "commentCount": 1,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-05T15:28:37.6527439Z",
    "reactions": [],
    "comments": [
      {
        "id": 2069392529,
        "author": "Alex-Dobrynin",
        "createdAt": "2024-04-22T13:17:03",
        "reactions": []
      }
    ]
  }
}