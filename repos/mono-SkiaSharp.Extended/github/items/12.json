{
  "number": 12,
  "type": "issue",
  "state": "closed",
  "title": "Add support for textarea",
  "body": "It would be very usefull to add parsing of [textarea](https://www.w3.org/TR/SVGTiny12/text.html#TextInAnArea).\r\n\r\n\u0060\u0060\u0060svg\r\n\u003C?xml version=\u00221.0\u0022 encoding=\u0022UTF-8\u0022?\u003E\r\n\u003Csvg xmlns=\u0022http://www.w3.org/2000/svg\u0022 xmlns:xlink=\u0022http://www.w3.org/1999/xlink\u0022\r\n     version=\u00221.2\u0022 baseProfile=\u0022tiny\u0022 viewBox=\u00220 0 220 320\u0022\u003E\r\n\r\n  \u003Ctitle\u003EBasic textflow\u003C/title\u003E\r\n\r\n  \u003CtextArea font-size=\u002225\u0022 font-family=\u0022Georgia\u0022 x=\u002210\u0022 y=\u002210\u0022 width=\u0022200\u0022 \r\n        height=\u0022300\u0022\u003ETomorrow, and tomorrow, and\r\n        tomorrow; creeps in this petty pace from day to day, until the last syll\u0026#xAD;able of recorded\r\n        time. And all our yesterdays have lighted fools the way to dusty death.\u003C/textArea\u003E\r\n  \u003Crect x=\u00225\u0022 y=\u00225\u0022 width=\u0022210\u0022 height=\u0022310\u0022 stroke-width=\u00223\u0022 stroke=\u0022#777\u0022 fill=\u0022none\u0022/\u003E\r\n\u003C/svg\u003E\r\n\u0060\u0060\u0060\r\n\r\n![image](https://www.w3.org/TR/SVGTiny12/examples/textArea01.png)",
  "author": {
    "login": "aloisdeniel",
    "type": "User"
  },
  "labels": [
    {
      "name": "area-Svg",
      "color": "0052cc"
    }
  ],
  "assignees": [],
  "createdAt": "2017-08-03T13:08:35",
  "updatedAt": "2020-08-15T00:23:15",
  "closedAt": "2020-08-15T00:21:03",
  "commentCount": 4,
  "reactionCount": 7,
  "engagement": {
    "syncedAt": "2026-02-06T13:12:14.7368988Z",
    "reactions": [
      {
        "user": "albertosilva",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369007Z"
      },
      {
        "user": "michaldobrodenka",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369011Z"
      },
      {
        "user": "nor0x",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369014Z"
      },
      {
        "user": "DaniilSokolyuk",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369017Z"
      },
      {
        "user": "ryancheung",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369019Z"
      },
      {
        "user": "chrisadol",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369021Z"
      },
      {
        "user": "akamud",
        "content": "\u002B1",
        "createdAt": "2026-02-06T13:12:14.7369024Z"
      }
    ],
    "comments": [
      {
        "id": 319968478,
        "author": "aloisdeniel",
        "body": "I would love to participate, but I didn\u0027t find a proper way to write text in areas with line breaks with SkiaSharp.\r\n\r\nIt should be doable with \u0060MeasureText\u0060 and a dichotomy algorithm but a better way maybe exists.\r\n\r\nA naive implementation for breaking by spaces (tabs etc should be added) : \r\n\r\n\u0060\u0060\u0060csharp\r\nprivate void DrawTextArea(SKCanvas canvas, SKPaint paint, float x, float y,  float maxWidth, float lineHeight, string text)\r\n{\r\n\tvar spaceWidth = paint.MeasureText(\u0022 \u0022);\r\n\tvar lines = text.Split(new [] { Environment.NewLine }, StringSplitOptions.None);\r\n\tlines = lines.SelectMany(l =\u003E SplitLine(paint,maxWidth,l,spaceWidth)).ToArray();\r\n\r\n\tfor (int i = 0; i \u003C lines.Length; i\u002B\u002B)\r\n\t{\r\n\t\tvar line = lines[i];\r\n\t\tcanvas.DrawText(line, x, y, paint);\r\n\t\ty \u002B= lineHeight;\r\n\t}\r\n}\r\n\r\nprivate string[] SplitLine(SKPaint paint, float maxWidth, string text, float spaceWidth)\r\n{\r\n\tvar result = new List\u003Cstring\u003E();\r\n\r\n\tvar words = text.Split(new[] { \u0022 \u0022 }, StringSplitOptions.None);\r\n\r\n\tvar line = new StringBuilder();\r\n\tfloat width = 0;\r\n\tforeach (var word in words)\r\n\t{\r\n\t\tvar wordWidth = paint.MeasureText(word);\r\n\t\tvar wordWithSpaceWidth = wordWidth \u002B spaceWidth;\r\n\t\tvar wordWithSpace = word \u002B \u0022 \u0022;\r\n\r\n\t\tif(width \u002B wordWidth \u003E maxWidth)\r\n\t\t{\r\n\t\t\tresult.Add(line.ToString());\r\n\t\t\tline = new StringBuilder(wordWithSpace);\r\n\t\t\twidth = wordWithSpaceWidth;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tline.Append(wordWithSpace);\r\n\t\t\twidth \u002B= wordWithSpaceWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tresult.Add(line.ToString());\r\n\r\n\treturn result.ToArray();\r\n}\r\n\u0060\u0060\u0060",
        "createdAt": "2017-08-03T13:27:19",
        "reactions": []
      },
      {
        "id": 364610602,
        "author": "charlesroddie",
        "body": "Interested in this topic as I would like in future to render text and maths together.",
        "createdAt": "2018-02-10T00:51:41",
        "reactions": []
      },
      {
        "id": 543242808,
        "author": "JunkyXL86",
        "body": "Any progress? Stumbled upon this problem 1h ago and couldn\u0027t believe drawing/measuring multiline text is not part of Skia.\r\nWould love it to be implemented natively to make this painting API more perfect.",
        "createdAt": "2019-10-17T15:57:40",
        "reactions": [
          {
            "user": "GioviQ",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:12:14.5047276Z"
          },
          {
            "user": "HSoshiant",
            "content": "\u002B1",
            "createdAt": "2026-02-06T13:12:14.504728Z"
          }
        ]
      },
      {
        "id": 674319657,
        "author": "mattleibow",
        "body": "Thanks for this issue, but due the the fact that this library is now deprecated, no further work will be done on SkiaSharp.SVG.\r\n\r\nThank you for all of you folks that have been using this library this long, it is always great to know that some of my work has made things a bit better. However, I am unable to maintain this library, but I would recommend using the far superior https://github.com/wieslawsoltes/Svg.Skia \r\nIt has an API that is compatible and will just require a namespace change.\r\n\r\nFor better text support, I again would recommend the equally awesome https://github.com/toptensoftware/RichTextKit that can pretty much do everything.\r\n\r\nWith both of these, I have updated the sample app to demonstrate how to use these libraries, producing a far better result.",
        "createdAt": "2020-08-15T00:21:03",
        "reactions": []
      }
    ]
  }
}