{
  "number": 48,
  "type": "issue",
  "state": "closed",
  "title": "rendering svg in xamarin form resulting in black square",
  "body": "I am trying to print svg pictures on my xamarin forms app. I am using SkiaSharp. I implemented a component using a Bindable property to get the byte[] of the svg and I draw it in the component.\r\n\r\n    public static readonly BindableProperty ImageProperty = BindableProperty.Create(nameof(Image), typeof(byte[]), typeof(SvgCanvas));\r\n    public byte[] Image\r\n       {\r\n          get =\u003E (byte[])GetValue(ImageProperty);\r\n          set\r\n         {\r\n            if (Image == value)\r\n            {\r\n                return;\r\n            }\r\n\r\n            SetValue(ImageProperty, value);\r\n\r\n            CanvasView.InvalidateSurface();\r\n         }\r\n    }\r\n\r\n     private void OnPainting(object sender, SKPaintSurfaceEventArgs args)\r\n     {\r\n        SKSurface surface = args.Surface;\r\n        SKCanvas canvas = surface.Canvas;\r\n\r\n        int width = args.Info.Width;\r\n        int height = args.Info.Height;\r\n\r\n        // clear the surface\r\n        canvas.Clear(SKColors.White);\r\n\r\n        // the page is not visible yet\r\n        if (Image == null)\r\n        {\r\n            return;\r\n        }\r\n\r\n        SKSvg svg = new SKSvg(new SKSize(width, height));\r\n        using (MemoryStream ms = new MemoryStream(Image))\r\n        {\r\n            svg.Load(ms);\r\n        }\r\n\r\n        // draw the svg\r\n       // canvas.DrawPicture(svg.Picture, ref matrix);\r\n        canvas.DrawPicture(svg.Picture);\r\n     }\r\n\r\nIt looks like the Picture is loaded but only a black square is displayed on my view...\r\n\r\nMy component is called like this in my page: (Picture is a byte[])\r\n\r\n     \u003Ccontrols:SvgCanvas Image=\u0022{Binding Picture}\u0022 /\u003E\r\n\r\nDid somebody had the same issue? Maybe an encoding problem?\r\n\r\nI am kind of lost..",
  "author": {
    "login": "Cheelax",
    "type": "User"
  },
  "labels": [
    {
      "name": "area-Svg",
      "color": "0052cc"
    }
  ],
  "assignees": [],
  "createdAt": "2018-08-22T11:49:46",
  "updatedAt": "2021-10-06T20:56:03",
  "closedAt": "2020-08-15T00:20:12",
  "commentCount": 11,
  "reactionCount": 4,
  "engagement": {
    "syncedAt": "2026-02-06T11:50:03.016093Z",
    "reactions": [
      {
        "user": "eli191",
        "content": "\u002B1",
        "createdAt": "2026-02-06T11:50:03.0164984Z"
      },
      {
        "user": "jayrlsw",
        "content": "\u002B1",
        "createdAt": "2026-02-06T11:50:03.0164997Z"
      },
      {
        "user": "vchelaru",
        "content": "\u002B1",
        "createdAt": "2026-02-06T11:50:03.0165001Z"
      },
      {
        "user": "jwosty",
        "content": "\u002B1",
        "createdAt": "2026-02-06T11:50:03.0165003Z"
      }
    ],
    "comments": [
      {
        "id": 427033814,
        "author": "mattleibow",
        "body": "It may be the SVG not being properly supported. Have you tried any others?",
        "createdAt": "2018-10-04T14:10:53",
        "reactions": []
      },
      {
        "id": 427835342,
        "author": "Cheelax",
        "body": "After some researchs not all SVG are supported. the simple ones can be displayed but others are not working at all. (for example the ones having a style)",
        "createdAt": "2018-10-08T13:35:22",
        "reactions": []
      },
      {
        "id": 433502461,
        "author": "mattleibow",
        "body": "Could you provide a link/upload to a AVG that is not working? This way we can see if we can add some of the features.",
        "createdAt": "2018-10-26T18:30:27",
        "reactions": []
      },
      {
        "id": 434636248,
        "author": "Cheelax",
        "body": "[03_AA_corps_aisselles-012.zip](https://github.com/mono/SkiaSharp.Extended/files/2533821/03_AA_corps_aisselles-012.zip)\r\n\r\nAlmost sure this were not working",
        "createdAt": "2018-10-31T10:27:41",
        "reactions": []
      },
      {
        "id": 531602176,
        "author": "vchelaru",
        "body": "Any update on this? I\u0027m also experiencing issues with SVGs drawing as black. For example, this does not work:\r\n\r\n[SleepIcon.zip](https://github.com/mono/SkiaSharp.Extended/files/3614314/SleepIcon.zip)\r\n\r\nNote Github does not support .svg files so I had to zip it first.\r\n\r\nExpected:\r\n\r\n![image](https://user-images.githubusercontent.com/729631/64928047-e4e62180-d7cf-11e9-849d-ab02fe8dc2a1.png)\r\n\r\nActual:\r\n\r\n![image](https://user-images.githubusercontent.com/729631/64928050-efa0b680-d7cf-11e9-9a61-fe8f975233f1.png)\r\n\r\n",
        "createdAt": "2019-09-15T21:46:12",
        "reactions": []
      },
      {
        "id": 531603910,
        "author": "jayrlsw",
        "body": "I found that this issue occurred for me due to \u0022style\u0022 elements/nodes in the SVG. Taking out the style nodes and making any styles into in-line styles fixed it for me. \r\n\r\nSo instead of:\r\n\u0060\u0060\u0060\r\n\u003Cstyle\u003E.t1 {background-color: red;}\u003C/style\u003E\r\n\u003Ccircle class=\u0022t1\u0022\u003E\u003C/circle\u003E\r\n\u0060\u0060\u0060\r\n\r\nTry: \r\n\u0060\u0060\u0060\r\n\u003Ccircle style=\u0022background-color: red;\u0022\u003E\u003C/circle\u003E\r\n\u0060\u0060\u0060",
        "createdAt": "2019-09-15T22:14:40",
        "reactions": []
      },
      {
        "id": 531603986,
        "author": "vchelaru",
        "body": "Hah thanks @jayrlsw I\u0027m literally writing my findings at the same time as when you posted it. If it helps the development team here, Adobe Illustrator supports \u0022Internal CSS\u0022 when exporting SVGs:\r\n\r\n![image](https://user-images.githubusercontent.com/729631/64928323-e0236c80-d7d3-11e9-9fd0-a13bff585534.png)\r\n\r\nThis seems to not be supported. Would be a nice fix.",
        "createdAt": "2019-09-15T22:16:01",
        "reactions": [
          {
            "user": "stntz",
            "content": "\u002B1",
            "createdAt": "2026-02-06T11:50:02.0484249Z"
          },
          {
            "user": "jwosty",
            "content": "\u002B1",
            "createdAt": "2026-02-06T11:50:02.0484252Z"
          }
        ]
      },
      {
        "id": 610806095,
        "author": "maexsp",
        "body": "Run into the same issue. Any updates on that? ",
        "createdAt": "2020-04-08T07:46:51",
        "reactions": []
      },
      {
        "id": 631431002,
        "author": "stntz",
        "body": "\u003E Hah thanks @jayrlsw I\u0027m literally writing my findings at the same time as when you posted it. If it helps the development team here, Adobe Illustrator supports \u0022Internal CSS\u0022 when exporting SVGs:\r\n\u003E \r\n\u003E ![image](https://user-images.githubusercontent.com/729631/64928323-e0236c80-d7d3-11e9-9fd0-a13bff585534.png)\r\n\u003E \r\n\u003E This seems to not be supported. Would be a nice fix.\r\n\r\nThank you for this... changing to inline style fixed my issue",
        "createdAt": "2020-05-20T12:03:19",
        "reactions": [
          {
            "user": "jwosty",
            "content": "\u002B1",
            "createdAt": "2026-02-06T11:50:02.4964994Z"
          }
        ]
      },
      {
        "id": 674319516,
        "author": "mattleibow",
        "body": "Thanks for this issue, but due the the fact that this library is now deprecated, no further work will be done on this library.\r\n\r\nThank you for all of you folks that have been using this library this long, it is always great to know that some of my work has made things a bit better. However, I am unable to maintain this library, but I would recommend using the far superior https://github.com/wieslawsoltes/Svg.Skia\r\n\r\nIt has an API that is compatible and will just require a namespace change.",
        "createdAt": "2020-08-15T00:20:12",
        "reactions": [
          {
            "user": "jrhodnik",
            "content": "heart",
            "createdAt": "2026-02-06T11:50:02.7482029Z"
          }
        ]
      },
      {
        "id": 674445024,
        "author": "vchelaru",
        "body": "Thanks for that, I was worried SVG in Skia was a dead end. I\u0027m using it\r\nquite heavily in my projects so it\u0027s great to see active support! Loving\r\nall your Skia work!\r\n\r\n",
        "createdAt": "2020-08-15T20:39:42",
        "reactions": []
      }
    ]
  }
}