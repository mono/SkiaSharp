{
  "number": 989,
  "type": "issue",
  "state": "open",
  "title": "[BUG] Can\u0027t draw \u0022Kurdish\u0022 or \u0022Arabic\u0022 text with custom font on Android",
  "body": "**Description**\r\n\r\nI am using Xamarin to create a multiplatform (only iphone and Android) Application, But I got stacked here, when I wanted to draw this language text some problem just happened, so I finally found HarfBuzz to shape the text, and some problems fixed, but now the problem is that I am using a custom font which is an asset resource, and I access the font file by using platform independent code, no problem doing that, but the problem is that in Android the font loads when I debug it but it even can\u0027t show the letters it just shows empty boxes, Although in iOS there\u0027s no problem, I couldn\u0027t use the \u0060SKTypeFace.fromFile\u0060 or \u0060fromStream\u0060 methods because they weren\u0027t working on Android, PS: I am using Xamarin Forms Native project but mostly I am working on the library or shared project.\r\n**Code**\r\n\r\nAndroid :-\r\n\r\n\u0060\u0060\u0060\r\n    public class CustomFont : IAssetHelper\r\n    {\r\n        public CustomFont() { }\r\n        SKTypeface IAssetHelper.GetCustomFont(string name)\r\n        {\r\n            SKTypeface typeFace;\r\n\r\n            using (var asset = Plugin.CurrentActivity.CrossCurrentActivity.Current.Activity.Assets.Open(name))\r\n            {\r\n                var fontStream = new System.IO.MemoryStream();\r\n                asset.CopyTo(fontStream);\r\n                fontStream.Flush();\r\n                fontStream.Position = 0;\r\n                typeFace = SKTypeface.FromStream(fontStream);\r\n            }\r\n\r\n            return typeFace;\r\n        }\r\n    }\r\n\u0060\u0060\u0060\r\n\r\niOS :- \r\n\r\n\u0060\u0060\u0060\r\npublic class CustomFont : IAssetHelper\r\n    {\r\n        public CustomFont()\r\n        {\r\n        }\r\n\r\n        public SKTypeface GetCustomFont(string name)\r\n        {\r\n            string fontFile = Path.Combine(NSBundle.MainBundle.BundlePath, name);\r\n            SkiaSharp.SKTypeface typeFace;\r\n\r\n            using (var asset = File.OpenRead(fontFile))\r\n            {\r\n                var fontStream = new MemoryStream();\r\n                asset.CopyTo(fontStream);\r\n                fontStream.Flush();\r\n                fontStream.Position = 0;\r\n                typeFace = SKTypeface.FromStream(fontStream);\r\n            }\r\n\r\n            return typeFace;\r\n        }\r\n    }\r\n\u0060\u0060\u0060\r\nSo I am Unfortunately using it like that:-\r\n\r\n//iOS\r\n\u0060\u0060\u0060\r\n                customFont = SKTypeface.FromFile(\u0022NRT-Reg.ttf\u0022);\r\n                if (Device.RuntimePlatform == Device.Android) //Android\r\n                {\r\n                    customFont = SKFontManager.Default.MatchCharacter(\u0027\u0643\u0027);\r\n                }\r\n\u0060\u0060\u0060\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  Latest Version\r\n- IDE:  Visual Studio for Mac\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - Android: 9.0, 7.0, 5.1\r\n  - iOS:  13.1\r\n- Target Devices:   \u003C!-- the devices that you noticed this on, e.g. iPhone X --\u003E\r\n  - iPhone 11\r\n  - Pixel 2\r\n  - Pixel C\r\n  - Nexus 7\r\n",
  "author": {
    "login": "Azhy-Slemany",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2019-10-28T08:03:34",
  "updatedAt": "2019-12-26T13:07:37",
  "commentCount": 1,
  "reactionCount": 0
}