{
  "number": 2350,
  "type": "issue",
  "state": "open",
  "title": "[BUG] Exit code 139 (segmentation fault) when calling \u0060GRGlInterface.Create\u0060 on Ubuntu and Linux Mint",
  "body": "**Description**\r\n\r\nI have a project utilizing GLFW and SkiaSharp that is working great on Windows. In trying to suss out Linux support, I have found that I am unable to create a \u0060GRGlInterface\u0060 on Ubuntu and Linux Mint. Specifically, exit code 139 (segmentation fault) is generated when I call:\r\n\r\n\u0060\u0060\u0060fsharp\r\n// Line 29 in Windowtest/Program.fs\r\nlet grGlInterface = GRGlInterface.Create(getProcAddress)\r\n\u0060\u0060\u0060\r\n\r\nThe definition of \u0060getProcAddress\u0060 comes from wrapping GLFW:\r\n\r\n\u0060\u0060\u0060fsharp\r\n// Line 201 in GLFW/Wrappers.fs\r\nlet getProcAddress name =\r\n    printfn \u0022Name passed into \u0060getProcAddress\u0060: %s\u0022 name\r\n    glfwGetProcAddress(name)\r\n\r\n// Line 38 in GLFW/Context.fs\r\n/// Returns the address of the specified function for the current context.\r\n[\u003CDllImport(glfwDLLPath, CallingConvention = CallingConvention.Cdecl)\u003E]\r\nextern IntPtr glfwGetProcAddress(string procname)\r\n\u0060\u0060\u0060\r\n\r\n**Note**: It is possible that this is a dependency issue. But as seen in \u0060WindowTest.fsproj\u0060, it is unclear how \u0060SkiaSharp.NativeAssets.Linux\u0060 or \u0060SkiaSharp.NativeAssets.Linux.NoDependencies\u0060 should be used. I do note that I on the same Linux Mint machine, I am able to run a Polyglot Notebook with SkiaSharp to draw some pictures with no more than:\r\n\r\n\u0060\u0060\u0060fsharp\r\n#r \u0022nuget: SkiaSharp\u0022\r\n#r \u0022nuget: SkiaSharp.NativeAssets.Linux\u0022\r\n\r\nopen SkiaSharp\r\n\u0060\u0060\u0060\r\nSo the issue seems to revolve around \u0060GRGlInterface.Create\u0060 and possibly the interaction with GLFW and/or OpenGL.\r\n\r\nThere is some additional information on a prior Stack Overflow question I posted: https://stackoverflow.com/questions/74882243/how-do-i-properly-build-a-net-7-application-using-skiasharp-on-linux-getting-a\r\n\r\n**Code**\r\n\r\nSee the above general description, and see the attached code. To reproduce:\r\n\r\n* Install \u0060libglfw3\u0060\r\n\r\n    * Ensure that the \u0060glfwDLLPath\u0060 on line 9 in \u0060GLFW/Common.fs\u0060 *and* the path on line 42 in \u0060GLFW/Utilities.fs\u0060 point to the correct location of \u0060libglfw.so.3.3\u0060.\r\n\r\n    * On my machine, the path is \u0060@\u0022/usr/lib/x86_64-linux-gnu/libglfw.so.3.3\u0022\u0060\r\n\r\n* Run \u0060dotnet run --project WindowTest\u0060 in the directory containing the \u0060Windowing.sln\u0060 solution.\r\n\r\n**Expected Behavior**\r\n\r\nNo exit code 139 (segmentation fault). If there is a dependency issue, which there may be, I would expect a DLL not found error or some other error notifying me of the dependency issue.\r\n\r\n**Actual Behavior**\r\n\r\nThe program crashes and exit code 139 (segmentation fault) is returned.\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  SkiaSharp 2.88.3\r\n- Last known good version:  unknown\r\n- IDE:  Visual Studio Code\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - Linux:  Linux Mint 21.1 Vera, Ubuntu on WSL2 with WSLg (can follow up with version if needed)\r\n  - macOS:  Untested as of now\r\n  - Windows Classic:  Windows 11 works as expected\r\n- Target Devices: desktop PCs\r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\n  \r\n\u0060\u0060\u0060\r\n\r\nPASTE ANY DETAILED VERSION INFO HERE\r\n\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n**Screenshots**\r\n\r\nSample run of the program. I am printing out the string passed to \u0060getProcAddress\u0060.\r\n\r\n\u0060\u0060\u0060bash\r\n$ dotnet run --project WindowTest\r\nInitialized?: true\r\nStarting to create window...\r\nWindow: 94505711911120n\r\nEnding creating window...\r\nName passed into \u0060getProcAddress\u0060: test\r\nName passed into \u0060getProcAddress\u0060: glGetString\r\nName passed into \u0060getProcAddress\u0060: glGetString\r\nName passed into \u0060getProcAddress\u0060: glGetStringi\r\nName passed into \u0060getProcAddress\u0060: glGetIntegerv\r\nName passed into \u0060getProcAddress\u0060: eglQueryString\r\nName passed into \u0060getProcAddress\u0060: eglGetCurrentDisplay\r\n\r\n$ echo $?\r\n139\r\n\u0060\u0060\u0060\r\n\r\n**Reproduction Link**\r\n\r\nPlease see the attached zip file for a self-contained reproduction. The only external dependency, aside from SkiaSharp is GLFW, but see above for instructions. _This code is unlicensed at the moment, so please only use for debugging purposes._\r\n\r\n[dotnet-windowing.zip](https://github.com/mono/SkiaSharp/files/10322653/dotnet-windowing.zip)\r\n",
  "author": {
    "login": "bmitc",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2022-12-30T00:46:13",
  "updatedAt": "2025-11-24T21:12:30",
  "commentCount": 2,
  "reactionCount": 1,
  "engagement": {
    "syncedAt": "2026-02-04T19:46:28.2624671Z",
    "reactions": [
      {
        "user": "AndrewKraevskii",
        "content": "\u002B1",
        "createdAt": "2026-02-04T19:46:28.2624714Z"
      }
    ],
    "comments": [
      {
        "id": 3568368423,
        "author": "SuperAuguste",
        "createdAt": "2025-11-23T21:49:24",
        "reactions": [
          {
            "user": "AndrewKraevskii",
            "content": "eyes",
            "createdAt": "2026-02-04T19:46:27.9870382Z"
          },
          {
            "user": "sin-ack",
            "content": "\u002B1",
            "createdAt": "2026-02-04T19:46:27.9870387Z"
          }
        ]
      },
      {
        "id": 3572750316,
        "author": "SuperAuguste",
        "createdAt": "2025-11-24T21:12:30",
        "reactions": []
      }
    ]
  }
}