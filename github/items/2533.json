{
  "number": 2533,
  "type": "issue",
  "state": "open",
  "title": "[BUG]   Using SKCanvas.ClipPath for larger float path have issue",
  "body": "**Description**\r\n\r\nWhen configuring a larger float type rect path with  \u0060SKCanvas.ClipPath\u0060, it may result in missing parts of the final rendered image.\r\nHowever, if it is of type int, this issue does not exist.\r\n\r\n\u0060\u0060\u0060\r\nusing SkiaSharp;\r\n\r\nusing var skPictureRecorder = new SkiaSharp.SKPictureRecorder();\r\nusing var skCanvas = skPictureRecorder.BeginRecording(new SkiaSharp.SKRect(0, 0, 20000, 5000));\r\nvar path = new SkiaSharp.SKPath();\r\n\r\n//float type have issue \r\npath.AddRect(new(0, 0, 20000, 4999.6f));\r\n\r\nskCanvas.ClipPath(path, SKClipOperation.Intersect, true);\r\nvar path2 = new SKPath();\r\npath2.AddRect(new(0, 0, 20000, 5000));\r\nskCanvas.DrawPath(path2, new SKPaint()\r\n{\r\n    Style = SkiaSharp.SKPaintStyle.Fill,\r\n    Color = new(255, 0, 0, 225),\r\n    BlendMode = SkiaSharp.SKBlendMode.SrcOver\r\n});\r\nvar pic = skPictureRecorder.EndRecording();\r\nusing var stream = System.IO.File.OpenWrite(\u0022C:\\\\testspace\\\\test.png\u0022);\r\nvar bitmap = new SKBitmap(20000, 5000);\r\nusing (var canvas = new SKCanvas(bitmap))\r\n{\r\n    canvas.Clear(SKColors.Transparent);\r\n    canvas.DrawPicture(pic);\r\n}\r\nbitmap.Encode(stream, SKEncodedImageFormat.Png, 100);\r\n\u0060\u0060\u0060\r\n\r\n\u003C!-- a snippet of code that demonstrates the issue --\u003E\r\n\r\n**Expected Behavior**\r\n\r\nThe rendered image should be almost entirely filled with red.\r\n\r\n\u003C!-- a general description of what was the expected behavior or result --\u003E\r\n\r\n**Actual Behavior**\r\n\r\nThere will be a large missing  in the image that is not rendered properly.\r\n\u003C!-- a general description of what really happened --\u003E\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  \u003C!-- the version of SkiaSharp that has the issue --\u003E  2.88.3\r\n- Last known good version:  \u003C!-- the version of SkiaSharp that still working --\u003E \r\n- IDE:  \u003C!-- Visual Studio / Visual Studio for Mac / MonoDevelop / Visual Studio Code --\u003E Visula studio 2022\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - Windows Classic:  \u003C!-- the version of Windows you are building for, e.g. Windows 7 --\u003E Windows 11\r\n- Target Devices:   \u003C!-- the devices that you noticed this on, e.g. iPhone X --\u003E\r\n  - \u003C!-- iPhone 11 --\u003E windows 11 PC \r\n  \r\n\u003Cdetails\u003E\r\n  \u003Csummary\u003EDetailed IDE/OS information (click to expand)\u003C/summary\u003E\r\n  \r\n.NET Version: .NET 6 , if use following code, the result will be normal, the only chenge of this is replace 4999.6f with 4999\r\n\u0060\u0060\u0060\r\n\r\nusing SkiaSharp;\r\n\r\nusing var skPictureRecorder = new SkiaSharp.SKPictureRecorder();\r\nusing var skCanvas = skPictureRecorder.BeginRecording(new SkiaSharp.SKRect(0, 0, 20000, 5000));\r\nvar path = new SkiaSharp.SKPath();\r\n\r\n//int type not have issue\r\npath.AddRect(new(0, 0, 20000, 4999));\r\nskCanvas.ClipPath(path, SKClipOperation.Intersect, true);\r\nvar path2 = new SKPath();\r\npath2.AddRect(new(0, 0, 20000, 5000));\r\nskCanvas.DrawPath(path2, new SKPaint()\r\n{\r\n    Style = SkiaSharp.SKPaintStyle.Fill,\r\n    Color = new(255, 0, 0, 225),\r\n    BlendMode = SkiaSharp.SKBlendMode.SrcOver\r\n});\r\nvar pic = skPictureRecorder.EndRecording();\r\nusing var stream = System.IO.File.OpenWrite(\u0022C:\\\\testspace\\\\test.png\u0022);\r\nvar bitmap = new SKBitmap(20000, 5000);\r\nusing (var canvas = new SKCanvas(bitmap))\r\n{\r\n    canvas.Clear(SKColors.Transparent);\r\n    canvas.DrawPicture(pic);\r\n}\r\nbitmap.Encode(stream, SKEncodedImageFormat.Png, 100);\r\n\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n\r\n**Screenshots**\r\n\r\n![image](https://github.com/mono/SkiaSharp/assets/23184470/cd8ea014-7859-42a1-a541-604c12fff53e)\r\n\r\n![image](https://github.com/mono/SkiaSharp/assets/23184470/cba6943c-c486-4b88-857b-7bd3acb4e81f)\r\n\r\n\r\n\u003C!-- if the issue is a visual issue, please include screenshots showing the problem if possible --\u003E\r\n\r\n**Reproduction Link**\r\n\r\n\u003C!-- please upload or provide a link to a reproduction case --\u003E\r\n\r\n",
  "author": {
    "login": "JasonLiuLiuLiuLiu",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2023-07-25T10:28:18",
  "updatedAt": "2023-08-05T15:17:10",
  "commentCount": 3,
  "reactionCount": 0
}