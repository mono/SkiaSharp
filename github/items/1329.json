{
  "number": 1329,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] SKCanvasView.OnDraw (Android.Graphics.Canvas canvas) Xamarin.Forms",
  "body": "### Description\r\n\r\nI\u0027m getting Crash reports (Devices \u0026 Infos below), with the following Exception \r\n\r\n\u0060\u0060\u0060\r\nSKCanvasView.OnDraw (Android.Graphics.Canvas canvas)\r\nJava.Lang.OutOfMemoryError: Failed to allocate a 4924812 byte allocation with 1374604 free bytes and 1342KB until OOM\r\n\u0060\u0060\u0060\r\nI\u0027m using SkiaSharp in my \u0060TransitionView\u0060 which you can find here:  https://gist.github.com/ValonK/dd148e28461b92ab02d6f886aa95f332\r\n\r\n### Stacktrace\r\n\u0060\u0060\u0060\r\nJniEnvironment\u002BStaticMethods.CallStaticObjectMethod (Java.Interop.JniObjectReference type, Java.Interop.JniMethodInfo method, Java.Interop.JniArgumentValue* args)\r\nJniPeerMembers\u002BJniStaticMethods.InvokeObjectMethod (System.String encodedMember, Java.Interop.JniArgumentValue* parameters)\r\nBitmap.CreateBitmap (System.Int32 width, System.Int32 height, Android.Graphics.Bitmap\u002BConfig config)\r\nSKCanvasView.OnDraw (Android.Graphics.Canvas canvas)\r\nView.n_OnDraw_Landroid_graphics_Canvas_ (System.IntPtr jnienv, System.IntPtr native__this, System.IntPtr native_canvas)\r\n(wrapper dynamic-method) Android.Runtime.DynamicMethodNameCounter.75(intptr,intptr,intptr)\r\njava.lang.OutOfMemoryError: Failed to allocate a 4924812 byte allocation with 3898920 free bytes and 3MB until OOM\r\ndalvik.system.VMRuntime.newNonMovableArray(Native Method)\r\nandroid.graphics.Bitmap.nativeCreate(Native Method)\r\nandroid.graphics.Bitmap.createBitmap Bitmap.java:905\r\nandroid.graphics.Bitmap.createBitmap Bitmap.java:882\r\nandroid.graphics.Bitmap.createBitmap Bitmap.java:849\r\ncrc648e35430423bd4943.SKCanvasView.n_onDraw(Native Method)\r\ncrc648e35430423bd4943.SKCanvasView.onDraw SKCanvasView.java:47\r\nandroid.view.View.draw View.java:17083\r\nandroid.view.View.updateDisplayListIfDirty View.java:16065\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.draw View.java:17086\r\nandroid.view.View.updateDisplayListIfDirty View.java:16065\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.draw View.java:17086\r\nandroid.view.View.updateDisplayListIfDirty View.java:16065\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroidx.drawerlayout.widget.DrawerLayout.drawChild DrawerLayout.java:1426\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.draw View.java:17086\r\nandroid.view.View.updateDisplayListIfDirty View.java:16065\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.updateDisplayListIfDirty View.java:16060\r\nandroid.view.View.draw View.java:16849\r\nandroid.view.ViewGroup.drawChild ViewGroup.java:3768\r\nandroid.view.ViewGroup.dispatchDraw ViewGroup.java:3554\r\nandroid.view.View.draw View.java:17086\r\ncom.android.internal.policy.DecorView.draw DecorView.java:751\r\nandroid.view.View.updateDisplayListIfDirty View.java:16065\r\nandroid.view.ThreadedRenderer.updateViewTreeDisplayList ThreadedRenderer.java:657\r\nandroid.view.ThreadedRenderer.updateRootDisplayList ThreadedRenderer.java:663\r\nandroid.view.ThreadedRenderer.draw ThreadedRenderer.java:771\r\nandroid.view.ViewRootImpl.draw ViewRootImpl.java:2808\r\nandroid.view.ViewRootImpl.performDraw ViewRootImpl.java:2616\r\nandroid.view.ViewRootImpl.performTraversals ViewRootImpl.java:2223\r\nandroid.view.ViewRootImpl.doTraversal ViewRootImpl.java:1258\r\nandroid.view.ViewRootImpl$TraversalRunnable.run ViewRootImpl.java:6348\r\nandroid.view.Choreographer$CallbackRecord.run Choreographer.java:871\r\nandroid.view.Choreographer.doCallbacks Choreographer.java:683\r\nandroid.view.Choreographer.doFrame Choreographer.java:619\r\nandroid.view.Choreographer$FrameDisplayEventReceiver.run Choreographer.java:857\r\nandroid.os.Handler.handleCallback Handler.java:751\r\nandroid.os.Handler.dispatchMessage Handler.java:95\r\nandroid.os.Looper.loop Looper.java:154\r\nandroid.app.ActivityThread.main ActivityThread.java:6123\r\njava.lang.reflect.Method.invoke(Native Method)\r\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run ZygoteInit.java:867\r\ncom.android.internal.os.ZygoteInit.main ZygoteInit.java:757\r\n\u0060\u0060\u0060\r\n\r\n**Code**\r\n\r\n\u003C!-- a snippet of code that demonstrates the issue --\u003E\r\n\r\n\r\n- Version with issue: **1.68.1.1**\r\n- IDE:  **Visual Studio**\r\n- Android: **10**\r\n- Xamarin.Forms Version: **4.4.0.991265** \r\n\r\n### Target Devices:   \r\n\r\n- **Galaxy Tab A 9.7 / Android 7.1.1**\r\n- **7 Voyager /  Android 6.0.1**\r\n- **Lenovo TB2 / Android 5.1.1**\r\n- **Galaxy S4 / Android 5.0.1**\r\n- **Moto G(4) Plus / Android: 7.0**",
  "author": {
    "login": "ValonK",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2020-06-10T17:52:02",
  "updatedAt": "2022-08-19T06:01:21",
  "closedAt": "2020-06-29T04:13:58",
  "commentCount": 6,
  "reactionCount": 0
}