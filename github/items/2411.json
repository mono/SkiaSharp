{
  "number": 2411,
  "type": "issue",
  "state": "open",
  "title": "[BUG] SkiaSharp not working when deploy Blazor client side application (.NET 7.0) to Azure App Service (Windows) using GitHub Actions (CI/CD Pipeline)",
  "body": "**Description**\r\n\r\nWe are using SkiaSharp in Blazor WebAssembly (client side) application. When deploy Blazor client side application (.NET 6.0) to Azure App Service (Windows) using GitHub Actions (CI/CD Pipeline), SkiaSharp works fine without any issue. But when we deploy Blazor client side application (.NET 7.0) to Azure App Service (Windows) using GitHub Actions (CI/CD Pipeline) we are facing libSkiaSharp assembly not found issue.\r\n\r\n**Code**\r\n\r\n\u0060\u0060\u0060\r\n@page \u0022/skiasharptest\u0022\r\n@inject Microsoft.JSInterop.IJSRuntime JS\r\n@inject HttpClient client\r\n@using SkiaSharp;\r\n@using System.IO\r\n\r\n\u003Ch2\u003EHello, world!\u003C/h2\u003E\r\n\u003Cp\u003EClick the button to draw the text using SkiaSharp.\u003C/p\u003E\r\n\u003Cbutton class=\u0022btn btn-primary\u0022 @onclick=\u0022@Create\u0022\u003ECreate\u003C/button\u003E\r\n\r\n\u003Cp role=\u0022status\u0022\u003EStatus: @msg\u003C/p\u003E\r\n\r\n@functions {\r\n    public string msg = string.Empty;\r\n    async void Create()\r\n    {\r\n        try\r\n        {\r\n            //Get the text to draw.\r\n            String drawText = \u0022Hello\u0022;\r\n            //Create sKImageInfo object\r\n            SKImageInfo sKImageInfo = new SKImageInfo(612, 792);\r\n            SKSurface sKSurface = SKSurface.Create(sKImageInfo);\r\n            SKCanvas canvas = sKSurface.Canvas;\r\n            //Create font. \r\n            SKTypeface sKTypeface = SKTypeface.FromFamilyName(\u0022Calibri Light\u0022, SKFontStyle.Bold);\r\n            SKPaint paint = new SKPaint();\r\n            paint.TextSize = 11f;\r\n            paint.Typeface = sKTypeface;\r\n            canvas.DrawText(drawText, 0, 0, paint);\r\n            msg = \u0022End\u0022;\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            msg = ex.ToString();\r\n            msg \u002B= ex.Message;\r\n            msg \u002B= ex.StackTrace.ToString();\r\n        }\r\n    }\r\n}\r\n\u0060\u0060\u0060\r\n\r\n**Expected Behavior**\r\n\r\nSkiaSharp should work properly when deploy Blazor client side application (.NET 7.0) to Azure App Service (Windows) using GitHub Actions (CI/CD Pipeline).\r\n\r\n**Actual Behavior**\r\n\r\nThe following exception is thrown.\r\n\r\nSystem.TypeInitializationException: TypeInitialization_Type, SkiaSharp.SKImageInfo ---\u003E System.DllNotFoundException: libSkiaSharp at SkiaSharp.SKImageInfo..cctor() Exception_EndOfInnerExceptionStack at Blazor_SkiaSharp.Pages.SkiaSharpTest.Create()TypeInitialization_Type, SkiaSharp.SKImageInfo at Blazor_SkiaSharp.Pages.SkiaSharpTest.Create()\r\n\r\n**Basic Information**\r\n\r\n- Version with issue: **2.88.3**\r\n- IDE: **Visual Studio 2022 (17.5.0)**\r\n- Platform: **ASP.NET Core Blazor (client-side)**\r\n- Target Frameworks: **.NET 7.0**\r\n- Deploy to: **Azure App Service (Windows) using GitHub Actions**\r\n\r\n**Reproduction Link**\r\n\r\nAttached both .NET 7.0 and .NET 6.0 samples along with workflow file, \r\n[Blazor-GitHub-Actions.zip](https://github.com/mono/SkiaSharp/files/10924231/Blazor-GitHub-Actions.zip)\r\n\r\n**Reference videos for how to deploy app to Azure using GitHub Actions (CI/CD Pipeline)**\r\n\r\nhttps://www.youtube.com/watch?v=UpWeffxf790\r\nhttps://www.youtube.com/watch?v=QP0pi7xe24s\r\nhttps://learn.microsoft.com/en-us/azure/app-service/deploy-github-actions?tabs=applevel",
  "author": {
    "login": "SuriyaBalamurugan",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2023-03-08T19:11:50",
  "updatedAt": "2024-03-02T22:54:47",
  "commentCount": 2,
  "reactionCount": 0
}