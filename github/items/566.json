{
  "number": 566,
  "type": "issue",
  "state": "closed",
  "title": "UWP app using SkiaSharp 1.60.1 failing in Windows App Certification process",
  "body": "### Description\r\n\r\nI have a UWP app, which was for the first version of it deployed, accepted and published in Windows Store. Later added new features to it and now trying to upload a package as an update to it. Since its first version i\u0027m using SkiaSharp. Now, after a while I updated all the packages that it uses to their latest version, including SkiaSharp. After the app package creation the app failing in Windows App Certification due to libSkiaSharp.dll.\r\n\r\nHere is the message,\r\n\r\nSupported APIs\r\nError Found: The supported APIs test detected the following errors:\r\n\r\nAPI _CxxThrowException in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __C_specific_handler in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __CxxFrameHandler3 in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __intrinsic_setjmp in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __std_exception_copy in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __std_exception_destroy in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __std_terminate in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __std_type_info_compare in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI __std_type_info_destroy_list in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI _purecall in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI longjmp in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI memcmp in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI memcpy in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI memmove in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI memset in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI strchr in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI strrchr in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI strstr in vcruntime140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??0?$basic_ios@DU?$char_traits@D@std@@@std@@IEAA@XZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??0?$basic_iostream@DU?$char_traits@D@std@@@std@@QEAA@PEAV?$basic_streambuf@DU?$char_traits@D@std@@@1@@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??0?$basic_streambuf@DU?$char_traits@D@std@@@std@@IEAA@XZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??1?$basic_ios@DU?$char_traits@D@std@@@std@@UEAA@XZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??1?$basic_iostream@DU?$char_traits@D@std@@@std@@UEAA@XZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??1?$basic_streambuf@DU?$char_traits@D@std@@@std@@UEAA@XZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??5?$basic_istream@DU?$char_traits@D@std@@@std@@QEAAAEAV01@AEAN@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??6?$basic_ostream@DU?$char_traits@D@std@@@std@@QEAAAEAV01@_J@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ??6?$basic_ostream@DU?$char_traits@D@std@@@std@@QEAAAEAV01@_K@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?_BADOFF@std@@3_JB in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?_Lock@?$basic_streambuf@DU?$char_traits@D@std@@@std@@UEAAXXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?_Pninc@?$basic_streambuf@DU?$char_traits@D@std@@@std@@IEAAPEADXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?_Unlock@?$basic_streambuf@DU?$char_traits@D@std@@@std@@UEAAXXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?_Xbad_function_call@std@@YAXXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?_Xlength_error@std@@YAXPEBD@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?classic@locale@std@@SAAEBV12@XZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?imbue@?$basic_ios@DU?$char_traits@D@std@@@std@@QEAA?AVlocale@2@AEBV32@@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?imbue@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAAXAEBVlocale@2@@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?setbuf@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAAPEAV12@PEAD_J@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?showmanyc@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAA_JXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?sync@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAAHXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?uflow@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAAHXZ in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?xsgetn@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAA_JPEAD_J@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI ?xsputn@?$basic_streambuf@DU?$char_traits@D@std@@@std@@MEAA_JPEBD_J@Z in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI _Query_perf_counter in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI _Query_perf_frequency in msvcp140.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI GetModuleHandleW in kernel32.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI RtlCaptureContext in kernel32.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI RtlVirtualUnwind in kernel32.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\nAPI UnhandledExceptionFilter in kernel32.dll is not supported for this application type. libSkiaSharp.dll calls this API.\r\n\r\nImpact if not fixed: Using an API that is not part of the Windows SDK for Microsoft Store apps violates the Microsoft Store certification requirements.\r\n\r\n### Code\r\n\r\n\u003C!-- a snippet of code that demonstrates the issue --\u003E\r\n\r\n### Expected Behavior\r\n\r\n\u003C!-- a general description of what was the expected behavior or result --\u003E\r\n\r\n### Actual Behavior\r\n\r\nOne of its previous versions succeeded in the Windows App Cert process also published on Windows Store\r\n\r\n### Basic Information\r\n\r\n- Version with issue: 1.60.1\r\n- Last known good version:  earlier than 1.60.1 (not sure) \r\n- IDE:  Visual Studio Community 15.7.4\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - Android: \u003C!-- the version of the Android SDK you are compiling against, e.g. 7.1 --\u003E \r\n  - iOS:  \u003C!-- the version of the iOS SDK you are compiling against, e.g. 11.1 --\u003E\r\n  - Linux:  \u003C!-- The version and distro of linux that you are building for, e.g. Ubuntu 16.04 --\u003E\r\n  - macOS:  \u003C!-- The version of macOS you are building for, e.g. 10.10 --\u003E\r\n  - Tizen:  \u003C!-- the version of the Tizen SDK you are compiling against, e.g. 4.0 --\u003E \r\n  - tvOS:  \u003C!-- the version of the tvOS SDK you are compiling against, e.g. 11.1 --\u003E\r\n  - UWP:  UWP\r\n  - watchOS:  \u003C!-- the version of the watchOS SDK you are compiling against, e.g. 11.1 --\u003E\r\n  - Windows Classic:  \u003C!-- the version of Windows you are building for, e.g. Windows 7 --\u003E\r\n- Target Devices:\r\n  -   \r\n\r\n### Screenshots\r\n\r\n![skiasharp_failed](https://user-images.githubusercontent.com/10881118/41818903-0f7615d8-77d5-11e8-98b0-c3a833ab7d02.png)\r\n\r\n### Reproduction Link\r\n\r\n\u003C!-- please upload or provide a link to a reproduction case --\u003E\r\n",
  "author": {
    "login": "kareemsulthan07",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/duplicate",
      "color": "cccccc"
    },
    {
      "name": "area/libSkiaSharp.native",
      "color": "0052cc"
    },
    {
      "name": "area/libHarfBuzzSharp.native",
      "color": "0052cc"
    },
    {
      "name": "area/Build",
      "color": "0052cc"
    }
  ],
  "assignees": [],
  "milestone": "v1.60.2",
  "createdAt": "2018-06-24T12:06:22",
  "updatedAt": "2022-08-19T15:02:13",
  "closedAt": "2018-06-25T10:33:59",
  "commentCount": 4,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-04T20:42:20.6150402Z",
    "reactions": [],
    "comments": [
      {
        "id": 399904543,
        "author": "Spielzeug",
        "createdAt": "2018-06-25T10:22:58",
        "reactions": []
      },
      {
        "id": 399907178,
        "author": "mattleibow",
        "createdAt": "2018-06-25T10:33:55",
        "reactions": []
      },
      {
        "id": 401022784,
        "author": "charlesroddie",
        "createdAt": "2018-06-28T12:49:01",
        "reactions": []
      },
      {
        "id": 401158510,
        "author": "mattleibow",
        "createdAt": "2018-06-28T20:12:11",
        "reactions": [
          {
            "user": "charlesroddie",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:42:20.5647318Z"
          },
          {
            "user": "kareemsulthan07",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:42:20.5647323Z"
          }
        ]
      }
    ]
  }
}