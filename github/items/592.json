{
  "number": 592,
  "type": "issue",
  "state": "closed",
  "title": "DrawCircle/DrawOval pixellated",
  "body": "### Description\r\n\r\nWe are in the process of removing NControl/NGraphics and replacing it with SkiaSharp, and we find that the circular shapes in Skia are much more pixellated\r\n\r\n### Code\r\n\r\nSkia(bad):\r\n\r\n        void OnPaintSurface(object sender, SKPaintSurfaceEventArgs e)\r\n        {\r\n            var w = e.Info.Width;\r\n            var h = e.Info.Height;\r\n            var midX = e.Info.Rect.MidX;\r\n            var midY = e.Info.Rect.MidY;\r\n            var canvas = e.Surface.Canvas;\r\n            canvas.Clear();\r\n\r\n            SKPaint paint = new SKPaint\r\n            {\r\n                Style = SKPaintStyle.Fill,\r\n                Color = Color.MultiplyAlpha(.4).ToSKColor()\r\n            };\r\n\r\n            float radius = Math.Min(w, h) / 2;\r\n            var startX = radius \u002B midX;\r\n            var startY = midY;\r\n\r\n            // base circle\r\n            var rect = new SKRect(midX - radius, midY - radius, midX \u002B radius, midY \u002B radius);\r\n            canvas.DrawCircle(midX, midY, radius, paint);\r\n\r\n            // filled segment\r\n            paint.Color = Color.ToSKColor();\r\n            var p = new SKPath();\r\n            p.MoveTo(new SKPoint(midX, midY));\r\n            p.LineTo(new SKPoint(midX \u002B radius, midY));\r\n            p.AddArc(rect, 0, (float)Percentage * 360);\r\n            p.LineTo(new SKPoint(midX, midY));\r\n            canvas.DrawPath(p, paint);\r\n        }\r\n\r\nNControl (good):\r\n\r\n       public override void Draw(ICanvas canvas, Rect rect)\r\n        {\r\n            base.Draw(canvas, rect);\r\n\r\n            var formsColor = Color;\r\n            var color = formsColor.ToNColor();\r\n\r\n            var procent = Math.Max(Math.Min(Percentage, 1.0), 0.0);\r\n            var resolution = 100;\r\n\r\n            var angle = Math.PI;\r\n            var radius = Math.Min(rect.Width, rect.Height) / 2;\r\n            var dv = 2 * Math.PI / resolution;\r\n            var path = new List\u003CPathOp\u003E();\r\n\r\n            var startX = radius \u002B rect.Center.X;\r\n            var startY = rect.Center.Y;\r\n\r\n            canvas.FillEllipse(rect.Center.X - radius, rect.Center.Y - radius, radius * 2, radius * 2, color.WithAlpha(0.4));\r\n\r\n            path.Add(new MoveTo(startX, startY));\r\n            for (var i = 0; i \u003C resolution * procent; i\u002B\u002B)\r\n            {\r\n                var x = -radius * Math.Cos(angle) \u002B rect.Center.X;\r\n                var y = radius * Math.Sin(angle) \u002B rect.Center.Y;\r\n                angle -= dv;\r\n                path.Add(new LineTo(x, y));\r\n            }\r\n            path.Add(new LineTo(rect.Center.X, rect.Center.Y));\r\n            path.Add(new ClosePath());\r\n\r\n\r\n            var brush = new SolidBrush(color);\r\n            canvas.FillPath(path, brush);\r\n        }\r\n\r\n### Expected Behavior\r\n\r\nCircles should be as smooth as possible, at least as smooth as the previous library\r\n\r\n### Actual Behavior\r\n\r\nthey are not\r\n\r\n### Basic Information\r\n\r\nObserved on iOS, with SkiaSharp 1.60.0 (also upgrading to .net, but that must come next)\r\n\r\n### Screenshots\r\n\r\nIn the screenshot below the first and third are rendered using skia, the second and fourth use NControl\r\n![screen shot 2018-07-26 at 11 32 58 am](https://user-images.githubusercontent.com/3473919/43254634-20269996-90c8-11e8-945c-74bc04fc735d.png)\r\n\r\n### Reproduction Link\r\n\r\nCan be generated if it is expected to be useful\r\n",
  "author": {
    "login": "pfaucon",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2018-07-26T09:37:44",
  "updatedAt": "2022-08-19T15:01:56",
  "closedAt": "2018-07-26T10:57:39",
  "commentCount": 3,
  "reactionCount": 0
}