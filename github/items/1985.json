{
  "number": 1985,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] Corrupted Image when loading from network stream. It works fine in 2.82.0, It has issues in 2.83.0 and 2.88.0-preview.232",
  "body": "**Description**\r\n\r\nIt rendered corrupted image when loading from network stream. It works fine in 2.82.0, It has issues in 2.83.0 and the latest preview branch 2.88.0-preview.232\r\n\r\n**Code**\r\n\r\n     // Below is the complete test code in VS2022 on .NET 6\r\n\r\n     using System.Net;\r\n     using SkiaSharp;\r\n\r\n     await DownloadTile(\u0022https://tile.openstreetmap.org/1/0/0.png\u0022, @\u0022d:\\test\\test.png\u0022);\r\n\r\n     static async Task DownloadTile(string uri, string path)\r\n      {\r\n \r\n      HttpWebRequest request = (HttpWebRequest)WebRequest.Create(uri);\r\n      request.Method = \u0022GET\u0022;\r\n      request.UserAgent = \u0022agent\u0022;\r\n  \r\n      using var webResponse = await request.GetResponseAsync();\r\n      await using var input = webResponse.GetResponseStream();\r\n  \r\n      await using var output = File.Create(path);\r\n      var bitmap = SKBitmap.Decode(input);\r\n  \r\n      using var skImage = SKImage.FromBitmap(bitmap);\r\n      var skData = skImage.Encode(SKEncodedImageFormat.Png, 80);\r\n      skData.SaveTo(output);\r\n     }\r\n\r\n\r\n**Expected Behavior**\r\n\r\nThe tile https://tile.openstreetmap.org/1/0/0.png is saved to d:\\test\\test.png\r\n\r\n**Actual Behavior**\r\n\r\nThe tile generated in d:\\test\\test.png is corrupted, only part of the image can be seen.  V2.82.0 doesn\u0027t have this issue. \r\n\r\n**Basic Information**\r\n\r\n- Version with issue:   2.83.0 and the latest preview branch 2.88.0-preview.232\r\n- Last known good version:  2.82.0\r\n- IDE:   Visual Studio  2022\r\n- Platform Target Frameworks: Tested in .NET Framework 4.8 and .NET 6\r\n- Target Devices:   Windows Console. \r\n  \r\n\u003Cdetails\u003E\r\n  \r\n\u0060\u0060\u0060\r\n\r\nPASTE ANY DETAILED VERSION INFO HERE\r\n\r\n\u0060\u0060\u0060\r\n\u003C/details\u003E\r\n\r\n\r\n**Screenshots**\r\n\r\ncorrupted image: \r\n\u003Cimg width=\u0022192\u0022 alt=\u0022image\u0022 src=\u0022https://user-images.githubusercontent.com/15203030/160965126-01f545d5-94f6-492a-b27e-d4d7779dbb88.png\u0022\u003E\r\n\r\n**Reproduction Link**\r\n\r\n\r\n\r\n",
  "author": {
    "login": "bymin",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2022-03-31T02:39:00",
  "updatedAt": "2022-08-19T00:01:46",
  "closedAt": "2022-05-17T04:22:14",
  "commentCount": 3,
  "reactionCount": 0
}