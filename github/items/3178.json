{
  "number": 3178,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] iOS: Crash when GC collects SKMetalView resources",
  "body": "### Description\n\nSkiaSharp v3.116.1\n.Net 9\nmaui                       9.0.0/9.0.100         SDK 9.0.100  \nmaui-ios                   9.0.0/9.0.100         SDK 9.0.100  \nIDE: JetBrains Rider\n\nIn our app we have several views, one of which contains an SKMetalView. Every time the GC runs to collect resources, the app crashes with the following stack:\n\n\u0060\u0060\u0060\nat \u003Cunknown\u003E \u003C0xffffffff\u003E\n\t  at SkiaSharp.SkiaApi:gr_direct_context_abandon_context \u003C0x00007\u003E\n\t  at SkiaSharp.GRContext:AbandonContext \u003C0x0010f\u003E\n\t  at SkiaSharp.GRContext:DisposeNative \u003C0x00083\u003E\n\t  at SkiaSharp.SKNativeObject:Dispose \u003C0x001c3\u003E\n\t  at SkiaSharp.SKObject:Dispose \u003C0x0007b\u003E\n\t  at SkiaSharp.GRContext:Dispose \u003C0x0007b\u003E\n\t  at SkiaSharp.SKNativeObject:Finalize \u003C0x000a7\u003E\n\t  at System.Object:runtime_invoke_virtual_void__this__ \u003C0x00087\u003E\n\u0060\u0060\u0060\n\n\n### Code\n\nTo reproduce the issue [SkiaSharpSample:](https://github.com/AlisiaNew/SkiaSharpSample)\n1. Click Open Skia Screen, then go back\n2. Click Open Text Screen, then go back\n3. Repeat steps 1 and 2 and the app will crash\n\n\n\n### Expected Behavior\n\n_No response_\n\n### Actual Behavior\n\n_No response_\n\n### Version of SkiaSharp\n\n3.116.0 (Current)\n\n### Last Known Good Version of SkiaSharp\n\n2.88.9 (Previous)\n\n### IDE / Editor\n\nOther (Please indicate in the description)\n\n### Platform / Operating System\n\niOS\n\n### Platform / Operating System Version\n\niOS 17.5\niOS 18.2\n\n### Devices\n\n_No response_\n\n### Relevant Screenshots\n\n_No response_\n\n### Relevant Log Output\n\n\u0060\u0060\u0060shell\nat \u003Cunknown\u003E \u003C0xffffffff\u003E\n\t  at SkiaSharp.SkiaApi:gr_direct_context_abandon_context \u003C0x00007\u003E\n\t  at SkiaSharp.GRContext:AbandonContext \u003C0x0010f\u003E\n\t  at SkiaSharp.GRContext:DisposeNative \u003C0x00083\u003E\n\t  at SkiaSharp.SKNativeObject:Dispose \u003C0x001c3\u003E\n\t  at SkiaSharp.SKObject:Dispose \u003C0x0007b\u003E\n\t  at SkiaSharp.GRContext:Dispose \u003C0x0007b\u003E\n\t  at SkiaSharp.SKNativeObject:Finalize \u003C0x000a7\u003E\n\t  at System.Object:runtime_invoke_virtual_void__this__ \u003C0x00087\u003E\n\u0060\u0060\u0060\n\n### Code of Conduct\n\n- [x] I agree to follow this project\u0027s Code of Conduct",
  "author": {
    "login": "AlisiaNew",
    "type": "User"
  },
  "labels": [
    {
      "name": "type/bug",
      "color": "fc2929"
    }
  ],
  "assignees": [],
  "createdAt": "2025-02-28T19:13:03",
  "updatedAt": "2025-08-22T20:40:53",
  "closedAt": "2025-08-22T20:40:53",
  "commentCount": 26,
  "reactionCount": 3,
  "engagement": {
    "syncedAt": "2026-02-04T19:49:48.5328424Z",
    "reactions": [
      {
        "user": "jeremy-visionaid",
        "content": "\u002B1",
        "createdAt": "2026-02-04T19:49:48.5328447Z"
      },
      {
        "user": "alex-bozhko",
        "content": "\u002B1",
        "createdAt": "2026-02-04T19:49:48.5328452Z"
      },
      {
        "user": "ghishadow",
        "content": "\u002B1",
        "createdAt": "2026-02-04T19:49:48.5328455Z"
      }
    ],
    "comments": [
      {
        "id": 2837437885,
        "author": "jeremy-visionaid",
        "createdAt": "2025-04-29T04:45:58",
        "reactions": []
      },
      {
        "id": 2840443009,
        "author": "jeremy-visionaid",
        "createdAt": "2025-04-29T23:18:37",
        "reactions": []
      },
      {
        "id": 2840741479,
        "author": "jeremy-visionaid",
        "createdAt": "2025-04-30T04:01:15",
        "reactions": [
          {
            "user": "AlisiaNew",
            "content": "\u002B1",
            "createdAt": "2026-02-04T19:49:42.8936752Z"
          }
        ]
      },
      {
        "id": 2843658735,
        "author": "jeremy-visionaid",
        "createdAt": "2025-04-30T23:21:15",
        "reactions": []
      },
      {
        "id": 2954113600,
        "author": "taublast",
        "createdAt": "2025-06-08T14:38:52",
        "reactions": []
      },
      {
        "id": 2954126277,
        "author": "taublast",
        "createdAt": "2025-06-08T15:05:32",
        "reactions": []
      },
      {
        "id": 2956339788,
        "author": "taublast",
        "createdAt": "2025-06-09T16:47:11",
        "reactions": []
      },
      {
        "id": 2957113458,
        "author": "jeremy-visionaid",
        "createdAt": "2025-06-09T21:48:05",
        "reactions": []
      },
      {
        "id": 2957701581,
        "author": "taublast",
        "createdAt": "2025-06-10T05:12:39",
        "reactions": []
      },
      {
        "id": 3198676006,
        "author": "mattleibow",
        "createdAt": "2025-08-18T23:04:22",
        "reactions": []
      },
      {
        "id": 3198685161,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-18T23:10:47",
        "reactions": []
      },
      {
        "id": 3198729772,
        "author": "mattleibow",
        "createdAt": "2025-08-18T23:41:01",
        "reactions": [
          {
            "user": "jeremy-visionaid",
            "content": "\u002B1",
            "createdAt": "2026-02-04T19:49:45.0863544Z"
          }
        ]
      },
      {
        "id": 3198746017,
        "author": "mattleibow",
        "createdAt": "2025-08-18T23:52:28",
        "reactions": []
      },
      {
        "id": 3198777089,
        "author": "mattleibow",
        "createdAt": "2025-08-19T00:08:00",
        "reactions": []
      },
      {
        "id": 3198808575,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T00:27:04",
        "reactions": []
      },
      {
        "id": 3198841877,
        "author": "mattleibow",
        "createdAt": "2025-08-19T00:51:37",
        "reactions": []
      },
      {
        "id": 3198864300,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T01:06:29",
        "reactions": []
      },
      {
        "id": 3198891278,
        "author": "mattleibow",
        "createdAt": "2025-08-19T01:25:22",
        "reactions": []
      },
      {
        "id": 3198907608,
        "author": "mattleibow",
        "createdAt": "2025-08-19T01:28:08",
        "reactions": []
      },
      {
        "id": 3198917451,
        "author": "mattleibow",
        "createdAt": "2025-08-19T01:30:50",
        "reactions": []
      },
      {
        "id": 3198925943,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T01:35:46",
        "reactions": []
      },
      {
        "id": 3198971224,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T02:05:34",
        "reactions": []
      },
      {
        "id": 3202325023,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T21:40:25",
        "reactions": []
      },
      {
        "id": 3202380162,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T22:02:40",
        "reactions": []
      },
      {
        "id": 3202839120,
        "author": "mattleibow",
        "createdAt": "2025-08-19T23:20:26",
        "reactions": []
      },
      {
        "id": 3203016619,
        "author": "jeremy-visionaid",
        "createdAt": "2025-08-19T23:40:10",
        "reactions": []
      }
    ]
  }
}