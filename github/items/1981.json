{
  "number": 1981,
  "type": "issue",
  "state": "closed",
  "title": "Sometimes PNG files cannot be decoded",
  "body": "**Description**\r\n\r\nSkia Sharp 2.88.0-preview.232 does not display a png fully - in 2.88.0-preview.209 it works\r\n\r\n**Code**\r\n\r\n\u0060\u0060\u0060\r\nprivate void OnPaintSurface(object sender, SKPaintSurfaceEventArgs e)\r\n\t\t{\r\n\t\t\t// the the canvas and properties\r\n\t\t\tvar canvas = e.Surface.Canvas;\r\n\r\n\t\t\t// make sure the canvas is blank\r\n\t\t\tcanvas.Clear(SKColors.White);\r\n\r\n\t\t\tusing var stream = File.Open(@\u0022osm-liberty.png\u0022, FileMode.Open, FileAccess.Read, FileShare.Read);\r\n\t\t\tvar data = SKData.Create(stream);\r\n\t\t\tvar image = SKImage.FromEncodedData(data);\r\n\r\n\t\t\t// draw image\r\n\t\t\tcanvas.DrawImage(image, new SKRect(0, 0, image.Width, image.Height));\r\n\t\t}\r\n\u0060\u0060\u0060\r\n\r\nThis should be displayed\r\n\r\n![image](https://user-images.githubusercontent.com/2290863/160253403-f39d0d4d-0962-44ec-8c6c-32195f71e9d4.png)\r\n\r\nBut this is displayed\r\n\r\n![image](https://user-images.githubusercontent.com/2290863/160253466-1e6f638a-f7f3-4626-9c40-d545e577eccb.png)\r\n\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  2.88.0-preview.232\r\n- Last known good version:  2.88.0-preview.209\r\n- IDE:  Visual Studio 2022 17.1.2\r\n- Platform Target Frameworks: .Net Framework 4.8  \r\n  - Windows Classic:  Windows 11  \r\n \r\n**Reproduction Link**\r\n\r\n[WPF.zip](https://github.com/mono/SkiaSharp/files/8356177/WPF.zip)\r\n\r\n",
  "author": {
    "login": "inforithmics",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v2.88.1",
  "createdAt": "2022-03-26T19:02:20",
  "updatedAt": "2022-08-19T00:01:48",
  "closedAt": "2022-05-18T07:53:13",
  "commentCount": 14,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-04T20:56:30.2830047Z",
    "reactions": [],
    "comments": [
      {
        "id": 1103987557,
        "author": "inforithmics",
        "createdAt": "2022-04-20T14:16:51",
        "reactions": []
      },
      {
        "id": 1104015296,
        "author": "ziriax",
        "createdAt": "2022-04-20T14:41:53",
        "reactions": []
      },
      {
        "id": 1104038252,
        "author": "inforithmics",
        "createdAt": "2022-04-20T15:02:26",
        "reactions": []
      },
      {
        "id": 1104069839,
        "author": "inforithmics",
        "createdAt": "2022-04-20T15:30:18",
        "reactions": [
          {
            "user": "pauldendulk",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:56:28.4182404Z"
          }
        ]
      },
      {
        "id": 1104095578,
        "author": "inforithmics",
        "createdAt": "2022-04-20T15:52:38",
        "reactions": []
      },
      {
        "id": 1104102612,
        "author": "inforithmics",
        "createdAt": "2022-04-20T15:58:04",
        "reactions": []
      },
      {
        "id": 1119594920,
        "author": "inforithmics",
        "createdAt": "2022-05-06T13:03:52",
        "reactions": []
      },
      {
        "id": 1119964594,
        "author": "inforithmics",
        "createdAt": "2022-05-06T19:53:51",
        "reactions": []
      },
      {
        "id": 1127303791,
        "author": "geckomx",
        "createdAt": "2022-05-16T07:07:16",
        "reactions": []
      },
      {
        "id": 1128027240,
        "author": "mattleibow",
        "createdAt": "2022-05-16T19:00:33",
        "reactions": []
      },
      {
        "id": 1128397249,
        "author": "mattleibow",
        "createdAt": "2022-05-17T04:27:29",
        "reactions": []
      },
      {
        "id": 1128407887,
        "author": "mattleibow",
        "createdAt": "2022-05-17T04:49:08",
        "reactions": []
      },
      {
        "id": 1128427653,
        "author": "geckomx",
        "createdAt": "2022-05-17T05:28:13",
        "reactions": []
      },
      {
        "id": 1128432322,
        "author": "mattleibow",
        "createdAt": "2022-05-17T05:36:08",
        "reactions": [
          {
            "user": "toptensoftware",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:56:30.2328258Z"
          }
        ]
      }
    ]
  }
}