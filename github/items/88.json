{
  "number": 88,
  "type": "issue",
  "state": "closed",
  "title": "New build issues",
  "body": "Hello,\n\nI\u0027m running in to three separate build problems. I can refile them separately, but they seem like probably small or related issues so I opted to report all three in one.\n\n1) I can\u0027t seem to build the \u0027tests\u0027 target right now:\n\n\u0060\u0060\u0060\n========================================\ntests\n========================================\nExecuting task: tests\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027NUnit\u0027,Version=\u00272.6.4\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027NUnit\u0027,Version=\u00272.6.4.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027NUnit\u0027,Version=\u00272.6.4\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027NUnit\u0027,Version=\u00272.6.4.0\u0027)\nSystem.InvalidOperationException: Unable to find version \u00272.6.4\u0027 of package \u0027NUnit\u0027.\n   at NuGet.PackageHelper.ResolvePackage(IPackageRepository repository, String packageId, SemanticVersion version)\n   at NuGet.Commands.RestoreCommand.RestorePackage(IFileSystem packagesFolderFileSystem, String packageId, SemanticVersi\non version, Boolean packageRestoreConsent, ConcurrentQueue\u00601 satellitePackages)\n   at NuGet.Commands.RestoreCommand.\u003C\u003Ec__DisplayClass5.\u003C\u003Ec__DisplayClass7.\u003CExecuteInParallel\u003Eb__2()\n   at System.Threading.Tasks.Task\u00601.InnerInvoke()\n   at System.Threading.Tasks.Task.Execute()\nAn error occured when executing task.\nError: NuGet: Process returned an error.\n\u0060\u0060\u0060\n\n2) The UWP targets are enabled because I\u0027m running on Windows 7, but the managed libs do not build successfully. The native targets seem to build correctly, but when executing the \u0022libs-windows\u0022 target I see tons of these errors:\n\n\u0060\u0060\u0060\n========================================\nlibs-windows\n========================================\nExecuting task: libs-windows\nMicrosoft (R) Build Engine version 14.0.25123.0\nCopyright (C) Microsoft Corporation. All rights reserved.\n...\n     2\u003EDone Building Project \u0022C:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp.Desktop\\SkiaSharp.Desktop.csproj\u0022 (default targets).\n     1\u003EProject \u0022C:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp.Windows.sln\u0022 (1) is building \u0022C:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp.Portable\\SkiaSharp.Portable.csproj\u0022 (4) on node 1 (default targets).\n     3\u003EC:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp\\Properties\\SkiaSharpAssemblyInfo.cs(6,12): error CS0246: The type or namespace name \u0027AssemblyTitleAttribute\u0027 could not be found (are you missing a using directive or an assembly reference?) [C:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp.UWP\\SkiaSharp.UWP.csproj]\n     3\u003EC:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp\\Properties\\SkiaSharpAssemblyInfo.cs(6,12): error CS0246: The type or namespace name \u0027AssemblyTitle\u0027 could not be found (are you missing a using directive or an assembly reference?) [C:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp.UWP\\SkiaSharp.UWP.csproj]\n...\n     3\u003EC:\\Users\\Tyler\\AppData\\Local\\Temp\\.NETCore,Version=v5.0.AssemblyAttributes.cs(4,20): error CS0400: The type or namespace name \u0027System\u0027 could not be found in the global namespace (are you missing an assembly reference?) [C:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp.UWP\\SkiaSharp.UWP.csproj]\n     3\u003EC:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\SkiaSharp\\Properties\\SkiaSharpAssemblyInfo.cs(6,27): error CS0518: Predefined type \u0027System.String\u0027 is not defined or imported \n...\n     3\u003EC:\\Users\\Tyler\\Documents\\otherdev\\SkiaSharp\\binding\\Binding\\SkiaApi.cs(37,26): error CS0246: The type or namespace name \u0027System\u0027 could not be found (are you missing a using directive or an assembly reference?) \n...\n    6 Warning(s)\n    5974 Error(s)\n\u0060\u0060\u0060\n\n3) When I comment out the UWP targets, remove the UWP project from \u0060SkiaSharp.Windows.sln\u0060 and remove the \u0060Skia.UWP.Demo.sln\u0060 solution from the \u0060build.cake\u0060 \u0022samples\u0022 target, everything else builds, but then I can\u0027t build the samples:\n\n\u0060\u0060\u0060\n========================================\nsamples\n========================================\nExecuting task: samples\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Design\u0027,Version=\u002723.3.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Forms\u0027,Version=\u00272.3.0.38-pre2\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Animated.Vector.Drawable\u0027,Version=\u002723.3.0\u0027)\n\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027SkiaSharp\u0027,Version=\u00271.49.4-beta3\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Design\u0027,Version=\u002723.3\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027SkiaSharp\u0027,Version=\u00271.49.4.0-beta3\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Animated.Vector.Drawable\u0027,Version=\u002723.3\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Design\u0027,Version=\u002723.3.0.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Animated.Vector.Drawable\u0027,Version=\u002723.3.0.0\n\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v4\u0027,Version=\u002723.3.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v4\u0027,Version=\u002723.3\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Forms\u0027,Version=\u00272.3.0.38-pre2\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027SkiaSharp\u0027,Version=\u00271.49.4-beta3\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.Design\u0027,Version=\u002723.3.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.Animated.Vector.Drawable\u0027,Version=\u0027\n23.3.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v4\u0027,Version=\u002723.3.0.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.v4\u0027,Version=\u002723.3.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.AppCompat\u0027,Version=\u002723.3.0\u0027)\nInstalling \u0027SkiaSharp 1.49.4-beta3\u0027.\nInstalling \u0027Xamarin.Android.Support.Animated.Vector.Drawable 23.3.0\u0027.\nInstalling \u0027Xamarin.Android.Support.Design 23.3.0\u0027.\nGET https://www.myget.org/F/xamprojectci/api/v2/package/SkiaSharp/1.49.4-beta3\nSuccessfully installed \u0027Xamarin.Android.Support.Animated.Vector.Drawable 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.CardView\u0027,Version=\u002723.3.0\u0027)\nInstalling \u0027Xamarin.Android.Support.v4 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.AppCompat\u0027,Version=\u002723.3\u0027)\nSuccessfully installed \u0027Xamarin.Android.Support.Design 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.MediaRouter\u0027,Version=\u002723.3.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.MediaRouter\u0027,Version=\u002723.3\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.CardView\u0027,Version=\u002723.3\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.CardView\u0027,Version=\u002723.3.0.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.AppCompat\u0027,Version=\u002723.3.0.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.v7.CardView\u0027,Version=\u002723.3.0\u0027)\nSuccessfully installed \u0027Xamarin.Android.Support.v4 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.RecyclerView\u0027,Version=\u002723.3.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.MediaRouter\u0027,Version=\u002723.3.0.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.v7.MediaRouter\u0027,Version=\u002723.3.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.v7.AppCompat\u0027,Version=\u002723.3.0\u0027)\nInstalling \u0027Xamarin.Android.Support.v7.CardView 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.RecyclerView\u0027,Version=\u002723.3\u0027)\nSuccessfully installed \u0027Xamarin.Android.Support.v7.CardView 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Vector.Drawable\u0027,Version=\u002723.3.0\u0027)\nInstalling \u0027Xamarin.Android.Support.v7.MediaRouter 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Vector.Drawable\u0027,Version=\u002723.3\u0027)\nInstalling \u0027Xamarin.Android.Support.v7.AppCompat 23.3.0\u0027.\nSuccessfully installed \u0027Xamarin.Android.Support.v7.MediaRouter 23.3.0\u0027.\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.v7.RecyclerView\u0027,Version=\u002723.3.0.0\u0027)\nGET https://api.nuget.org/v3/index.json/Packages(Id=\u0027Xamarin.Android.Support.Vector.Drawable\u0027,Version=\u002723.3.0.0\u0027)\nSuccessfully installed \u0027Xamarin.Android.Support.v7.AppCompat 23.3.0\u0027.\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.v7.RecyclerView\u0027,Version=\u002723.3.0\u0027)\nGET https://www.myget.org/F/xamprojectci/api/v2/Packages(Id=\u0027Xamarin.Android.Support.Vector.Drawable\u0027,Version=\u002723.3.0\u0027)\nInstalling \u0027Xamarin.Android.Support.v7.RecyclerView 23.3.0\u0027.\nInstalling \u0027Xamarin.Android.Support.Vector.Drawable 23.3.0\u0027.\nSuccessfully installed \u0027Xamarin.Android.Support.v7.RecyclerView 23.3.0\u0027.\nSuccessfully installed \u0027Xamarin.Android.Support.Vector.Drawable 23.3.0\u0027.\nSystem.NotSupportedException: ZIP archive contains unsupported data structures.\n   at MS.Internal.IO.Zip.ZipArchive.VerifyVersionNeededToExtract(UInt16 version)\n   at MS.Internal.IO.Zip.ZipIOLocalFileHeader.Validate()\n   at MS.Internal.IO.Zip.ZipIOLocalFileHeader.ParseRecord(BinaryReader reader, Encoding encoding)\n   at MS.Internal.IO.Zip.ZipIOLocalFileBlock.ParseRecord(BinaryReader reader, String fileName, Int64 position, ZipIOCent\nralDirectoryBlock centralDir, ZipIOCentralDirectoryFileHeader centralDirFileHeader)\n   at MS.Internal.IO.Zip.ZipIOLocalFileBlock.SeekableLoad(ZipIOBlockManager blockManager, String fileName)\n   at MS.Internal.IO.Zip.ZipIOBlockManager.LoadLocalFileBlock(String zipFileName)\n   at MS.Internal.IO.Zip.ZipArchive.GetFile(String zipFileName)\n   at MS.Internal.IO.Zip.ZipArchive.GetFiles()\n   at System.IO.Packaging.ZipPackage.ContentTypeHelper..ctor(ZipArchive zipArchive, IgnoredItemHelper ignoredItemHelper)\n\n   at System.IO.Packaging.ZipPackage..ctor(Stream s, FileMode mode, FileAccess access, Boolean streaming)\n   at System.IO.Packaging.Package.Open(Stream stream, FileMode packageMode, FileAccess packageAccess, Boolean streaming)\n\n   at System.IO.Packaging.Package.Open(Stream stream)\n   at NuGet.PackageHelper.GetManifestStream(Stream packageStream)\n   at NuGet.OptimizedZipPackage.EnsureManifest()\n   at NuGet.OptimizedZipPackage..ctor(IFileSystem fileSystem, String packagePath)\n   at NuGet.LocalPackageRepository.OpenPackage(String path)\n   at NuGet.LocalPackageRepository.GetPackage(Func\u00602 openPackage, String path)\n   at NuGet.LocalPackageRepository.\u003C\u003Ec__DisplayClass13.\u003CFindPackage\u003Eb__f(String path)\n   at System.Linq.Enumerable.WhereSelectEnumerableIterator\u00602.MoveNext()\n   at System.Linq.Enumerable.WhereSelectEnumerableIterator\u00602.MoveNext()\n   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable\u00601 source)\n   at NuGet.LocalPackageRepository.FindPackage(Func\u00602 openPackage, String packageId, SemanticVersion version)\n   at NuGet.LocalPackageRepository.FindPackage(String packageId, SemanticVersion version)\n   at NuGet.PackageRepositoryExtensions.FindPackage(IPackageRepository repository, String packageId, SemanticVersion ver\nsion, IPackageConstraintProvider constraintProvider, Boolean allowPrereleaseVersions, Boolean allowUnlisted)\n   at NuGet.DataServicePackage.EnsurePackage(IPackageCacheRepository cacheRepository)\n   at NuGet.DataServicePackage.ExtractContents(IFileSystem fileSystem, String extractPath)\n   at NuGet.Commands.DownloadCommandBase.CommandLineInstallPackageManager.OnExpandFiles(PackageOperationEventArgs e)\n   at NuGet.PackageManager.ExecuteInstall(IPackage package)\n   at NuGet.PackageManager.Execute(PackageOperation operation)\n   at NuGet.PackageManager.Execute(IPackage package, IPackageOperationResolver resolver)\n   at NuGet.PackageManager.InstallPackage(IPackage package, FrameworkName targetFramework, Boolean ignoreDependencies, B\noolean allowPrereleaseVersions, Boolean ignoreWalkInfo)\n   at NuGet.PackageManager.InstallPackage(IPackage package, Boolean ignoreDependencies, Boolean allowPrereleaseVersions,\n Boolean ignoreWalkInfo)\n   at NuGet.Common.PackageExtractor.\u003C\u003Ec__DisplayClass1.\u003CInstallPackage\u003Eb__0()\n   at NuGet.Common.PackageExtractor.ExecuteLocked(String name, Action action)\n   at NuGet.Common.PackageExtractor.InstallPackage(IPackageManager packageManager, IPackage package)\n   at NuGet.Commands.RestoreCommand.RestorePackage(IFileSystem packagesFolderFileSystem, String packageId, SemanticVersi\non version, Boolean packageRestoreConsent, ConcurrentQueue\u00601 satellitePackages)\n   at NuGet.Commands.RestoreCommand.\u003C\u003Ec__DisplayClass5.\u003C\u003Ec__DisplayClass7.\u003CExecuteInParallel\u003Eb__2()\n   at System.Threading.Tasks.Task\u00601.InnerInvoke()\n   at System.Threading.Tasks.Task.Execute()\nSystem.InvalidOperationException: Unable to find version \u00272.3.0.38-pre2\u0027 of package \u0027Xamarin.Forms\u0027.\n   at NuGet.PackageHelper.ResolvePackage(IPackageRepository repository, String packageId, SemanticVersion version)\n   at NuGet.Commands.RestoreCommand.RestorePackage(IFileSystem packagesFolderFileSystem, String packageId, SemanticVersi\non version, Boolean packageRestoreConsent, ConcurrentQueue\u00601 satellitePackages)\n   at NuGet.Commands.RestoreCommand.\u003C\u003Ec__DisplayClass5.\u003C\u003Ec__DisplayClass7.\u003CExecuteInParallel\u003Eb__2()\n   at System.Threading.Tasks.Task\u00601.InnerInvoke()\n   at System.Threading.Tasks.Task.Execute()\nAn error occured when executing task.\nError: NuGet: Process returned an error.\n\u0060\u0060\u0060\n",
  "author": {
    "login": "tdenniston",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2016-06-10T19:26:15",
  "updatedAt": "2022-08-20T06:01:21",
  "closedAt": "2016-06-16T06:22:25",
  "commentCount": 1,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-04T20:32:57.4450852Z",
    "reactions": [],
    "comments": [
      {
        "id": 226398194,
        "author": "mattleibow",
        "createdAt": "2016-06-16T06:22:25",
        "reactions": []
      }
    ]
  }
}