{
  "number": 1878,
  "type": "issue",
  "state": "open",
  "title": "[BUG] [Uno WASM] \u0060InvalidOperationException\u0060 in Uno \u0060SKSwapChainPanel.OnDpiChanged\u0060",
  "body": "**Description**\r\ni have created a blank new Uno WebAssembly project added the latest SkiaSharp packages and added a SKSwapChainPanel to the UI. When i run the application it crashes with the following error about \u0060Windows.UI.Core.UIAsyncOperation\u0060 at \u0060SKSwapChainPanel.OnDpiChanged\u0060\r\n\r\n\r\n\u0060\u0060\u0060\r\nVM149:1 \r\n        \r\n      fail: Uno.UI.Dispatching.CoreDispatcher[0]\r\n      Dispatcher unhandled exception\r\nSystem.InvalidOperationException: Failed to load App2.MainPage: System.TypeLoadException: Could not resolve type with token 0100005f from typeref (expected class \u0027Windows.UI.Core.UIAsyncOperation\u0027 in assembly \u0027Uno, Version=255.255.255.255, Culture=neutral, PublicKeyToken=null\u0027)\r\n   at SkiaSharp.Views.UWP.SKSwapChainPanel.OnDpiChanged(DisplayInformation sender, Object args) in D:\\a\\1\\s\\source\\SkiaSharp.Views.Uno\\SkiaSharp.Views.Uno\\SKSwapChainPanel.cs:line 103\r\n   at SkiaSharp.Views.UWP.SKSwapChainPanel.Initialize() in D:\\a\\1\\s\\source\\SkiaSharp.Views.Uno\\SkiaSharp.Views.Uno\\SKSwapChainPanel.cs:line 36\r\n   at SkiaSharp.Views.UWP.SKSwapChainPanel..ctor() in D:\\a\\1\\s\\source\\SkiaSharp.Views.Uno\\SkiaSharp.Views.Uno.Wasm\\SKSwapChainPanel.Wasm.cs:line 32\r\n   at App2.MainPage.InitializeComponent() in C:\\unotest\\App2\\App2\\App2.Wasm\\Uno.UI.SourceGenerators\\Uno.UI.SourceGenerators.XamlGenerator.XamlCodeGenerator\\MainPage_f75f1605df50209eee8b52c1d92b226f.cs:line 59\r\n   at App2.MainPage..ctor() in C:\\unotest\\App2\\App2\\App2.Shared\\MainPage.xaml.cs:line 28\r\n   at App2.Wasm.MetadataBuilder_638.CreateInstance() in C:\\unotest\\App2\\App2\\App2.Wasm\\Uno.UI.SourceGenerators\\Uno.UI.SourceGenerators.BindableTypeProviders.BindableTypeProvidersSourceGenerator\\BindableMetadata.cs:line 23206\r\n   at Windows.UI.Xaml.Controls.Frame.CreatePageInstance(Type sourcePageType)\r\n   at Windows.UI.Xaml.PagePool.DequeuePage(Type pageType)\r\n   at Windows.UI.Xaml.Controls.Frame.CreatePageInstanceCached(Type sourcePageType)\r\n   at Windows.UI.Xaml.Controls.Frame.InnerNavigate(PageStackEntry entry, NavigationMode mode)\r\n   at App2.App.OnNavigationFailed(Object sender, NavigationFailedEventArgs e) in C:\\unotest\\App2\\App2\\App2.Shared\\App.xaml.cs:line 97\r\n   at Windows.UI.Xaml.Controls.Frame.InnerNavigate(PageStackEntry entry, NavigationMode mode)\r\n   at Windows.UI.Xaml.Controls.Frame.Navigate(Type sourcePageType, Object parameter, NavigationTransitionInfo infoOverride)\r\n   at Windows.UI.Xaml.Controls.Frame.Navigate(Type sourcePageType, Object parameter)\r\n   at App2.App.OnLaunched(LaunchActivatedEventArgs args) in C:\\unotest\\App2\\App2\\App2.Shared\\App.xaml.cs:line 83\r\n   at Windows.UI.Xaml.Application.Initialize()\r\n   at Uno.UI.Dispatching.CoreDispatcher.InvokeOperationSafe(UIAsyncOperation operation) in C:\\a\\1\\s\\src\\Uno.UI.Dispatching\\Core\\CoreDispatcher.cs:line 337\r\n\u0060\u0060\u0060\r\n\r\n**Expected Behavior**\r\n\r\n\u0060SKSwapChainPanel\u0060 should work with Uno 4.0 - i\u0027m not quite sure if the errors origin is in \u0060SkiaSharp\u0060 or \u0060Uno\u0060 @jeromelaban ?\r\n\r\n**Actual Behavior**\r\nsee error message above\r\n\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  2.80.3 but i have also tested it with 2.88.0-preview.171\r\n- IDE:  Visual Studio 20222 Preview\r\n- Platform Target Frameworks: \u003C!-- all that apply, remove the platforms that aren\u0027t broken or haven\u0027t had any testing --\u003E\r\n  - Uno.Wasm 4.0 on .net6.0\r\n  \r\n**Screenshots**\r\n\r\n\u003C!-- if the issue is a visual issue, please include screenshots showing the problem if possible --\u003E\r\n\r\n**Reproduction Link**\r\n[repro.zip](https://github.com/mono/SkiaSharp/files/7643543/repro.zip)\r\n",
  "author": {
    "login": "nor0x",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2021-12-02T16:37:58",
  "updatedAt": "2021-12-02T17:52:21",
  "commentCount": 1,
  "reactionCount": 0,
  "engagement": {
    "syncedAt": "2026-02-04T21:00:50.1697107Z",
    "reactions": [],
    "comments": [
      {
        "id": 984859617,
        "author": "jeromelaban",
        "createdAt": "2021-12-02T17:52:20",
        "reactions": [
          {
            "user": "nor0x",
            "content": "heart",
            "createdAt": "2026-02-04T21:00:50.1194941Z"
          }
        ]
      }
    ]
  }
}