{
  "number": 1381,
  "type": "issue",
  "state": "open",
  "title": "[BUG] SKSurface.ReadPixels is super slow",
  "body": "**Description**\r\n\r\nI\u0027m using SkiaSharp with a OpenGL backend and I\u0027m drawing on a \u0060SkSurface\u0060 wich is super fast, took around 0.25ms.\r\nTo get the rendered pixel data I\u0027m using \u0060SkSurface.ReadPixels\u0060 to copy the data to a buffer. But this calls are super slow ~30ms.\r\nIs there any chance to speed it up? Or getting a direct pointer to the pixeldata?\r\n\r\n\r\n\r\n**Code**\r\nvar _info = new SKImageInfo(1920, 1080, SKColorType.Bgra8888);\r\nvar _glContext = GlContext.Create();\r\nvar _glContext.MakeCurrent();\r\nvar _glInterface = GRGlInterface.Create();\r\nvar _context = GRContext.CreateGl(_glInterface);\r\nvar _buffer = Marshal.AllocHGlobal(_info.BytesSize);\r\n_surface = SKSurface.Create(_context, true, _info);\r\n\r\n// doing the actual drawing like _surface.Canvas.Draw...\r\n\r\n_surface.ReadPixels(_info, _buffer, _info.RowBytes, 0, 0));\r\n\r\n\r\n\r\n**Basic Information**\r\n\r\n- Version with issue: 2.80.0-preview.24\r\n- IDE: Rider 2020.1\r\n- Platform Target Frameworks: .Net Core 3.1\r\n  - macOS 10.15.5 (currently only tested here)\r\n\r\n",
  "author": {
    "login": "joa77",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2020-07-03T16:48:40",
  "updatedAt": "2021-09-04T11:53:36",
  "commentCount": 28,
  "reactionCount": 1,
  "engagement": {
    "syncedAt": "2026-02-04T21:01:24.8005763Z",
    "reactions": [
      {
        "user": "Mikolaytis",
        "content": "\u002B1",
        "createdAt": "2026-02-04T21:01:24.8005831Z"
      }
    ],
    "comments": [
      {
        "id": 653640016,
        "author": "ziriax",
        "createdAt": "2020-07-03T18:10:02",
        "reactions": []
      },
      {
        "id": 653766651,
        "author": "joa77",
        "createdAt": "2020-07-04T13:30:06",
        "reactions": []
      },
      {
        "id": 653770017,
        "author": "ziriax",
        "createdAt": "2020-07-04T14:02:15",
        "reactions": []
      },
      {
        "id": 653784496,
        "author": "joa77",
        "createdAt": "2020-07-04T16:14:18",
        "reactions": []
      },
      {
        "id": 653785524,
        "author": "ziriax",
        "createdAt": "2020-07-04T16:24:04",
        "reactions": []
      },
      {
        "id": 653786259,
        "author": "joa77",
        "createdAt": "2020-07-04T16:31:17",
        "reactions": []
      },
      {
        "id": 653797236,
        "author": "ziriax",
        "createdAt": "2020-07-04T18:25:23",
        "reactions": [
          {
            "user": "Mikolaytis",
            "content": "\u002B1",
            "createdAt": "2026-02-04T21:01:20.5195715Z"
          }
        ]
      },
      {
        "id": 657607673,
        "author": "joa77",
        "createdAt": "2020-07-13T14:53:02",
        "reactions": []
      },
      {
        "id": 657627325,
        "author": "ziriax",
        "createdAt": "2020-07-13T15:27:06",
        "reactions": []
      },
      {
        "id": 658139684,
        "author": "ziriax",
        "createdAt": "2020-07-14T12:00:33",
        "reactions": []
      },
      {
        "id": 658156504,
        "author": "ziriax",
        "createdAt": "2020-07-14T12:41:25",
        "reactions": []
      },
      {
        "id": 658157958,
        "author": "mattleibow",
        "createdAt": "2020-07-14T12:44:49",
        "reactions": []
      },
      {
        "id": 658164136,
        "author": "ziriax",
        "createdAt": "2020-07-14T12:58:24",
        "reactions": []
      },
      {
        "id": 658180780,
        "author": "ziriax",
        "createdAt": "2020-07-14T13:31:27",
        "reactions": []
      },
      {
        "id": 658182024,
        "author": "ziriax",
        "createdAt": "2020-07-14T13:33:48",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "confused",
            "createdAt": "2026-02-04T21:01:22.2228376Z"
          },
          {
            "user": "Mikolaytis",
            "content": "\u002B1",
            "createdAt": "2026-02-04T21:01:22.2228379Z"
          }
        ]
      },
      {
        "id": 658183214,
        "author": "ziriax",
        "createdAt": "2020-07-14T13:36:03",
        "reactions": []
      },
      {
        "id": 658183842,
        "author": "ziriax",
        "createdAt": "2020-07-14T13:37:12",
        "reactions": []
      },
      {
        "id": 658185539,
        "author": "ziriax",
        "createdAt": "2020-07-14T13:40:11",
        "reactions": []
      },
      {
        "id": 658193497,
        "author": "mattleibow",
        "createdAt": "2020-07-14T13:53:52",
        "reactions": []
      },
      {
        "id": 658194951,
        "author": "ziriax",
        "createdAt": "2020-07-14T13:56:19",
        "reactions": []
      },
      {
        "id": 658233787,
        "author": "joa77",
        "createdAt": "2020-07-14T15:04:56",
        "reactions": []
      },
      {
        "id": 658239770,
        "author": "ziriax",
        "createdAt": "2020-07-14T15:15:46",
        "reactions": []
      },
      {
        "id": 658273440,
        "author": "joa77",
        "createdAt": "2020-07-14T16:16:18",
        "reactions": []
      },
      {
        "id": 658822797,
        "author": "ziriax",
        "createdAt": "2020-07-15T15:04:08",
        "reactions": []
      },
      {
        "id": 659200500,
        "author": "ziriax",
        "createdAt": "2020-07-16T06:59:42",
        "reactions": []
      },
      {
        "id": 763599309,
        "author": "luksal",
        "createdAt": "2021-01-20T13:16:38",
        "reactions": []
      },
      {
        "id": 772979366,
        "author": "mattleibow",
        "createdAt": "2021-02-04T02:34:23",
        "reactions": []
      },
      {
        "id": 912961271,
        "author": "luksal",
        "createdAt": "2021-09-04T11:53:36",
        "reactions": []
      }
    ]
  }
}