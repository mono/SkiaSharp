{
  "number": 1144,
  "type": "issue",
  "state": "closed",
  "title": "[BUG] iOS app freezes randomly due to native crashes",
  "body": "**Description**\r\n\r\nWe\u0027re using skia quite extensively in our app - many views, some of them being redrawn often (with constant FPS). Recently we\u0027ve been observing random freezes on views containing skia components, we think problems began after updating from 1.68 to 1.68.1.1 (it\u0027s being validated at the moment, so far problems can\u0027t be reproduced with 1.68).\r\n\r\nWhen freeze happens, we observe native crashes like below:\r\n\r\n\u0060\u0060\u0060\r\n=================================================================\r\n    Native Crash Reporting\r\n=================================================================\r\nGot a SIGSEGV while executing native code. This usually indicates\r\na fatal error in the mono runtime or one of the native libraries \r\nused by your application.\r\n=================================================================\r\n\r\n\r\n=================================================================\r\n    Native stacktrace:\r\n=================================================================\r\n2020-02-12 16:35:59.973 TrackMan.SoccerApp.Ios[431:121609] \r\n    0x1082c090c - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_dump_native_crash_info\r\n    0x1082b66f0 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_handle_native_crash\r\n2020-02-12 16:36:00.170 TrackMan.SoccerApp.Ios[431:121571] \r\n    0x1082c4fdc - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_sigsegv_signal_handler_debug\r\n    0x191372894 - /usr/lib/system/libsystem_platform.dylib : \u003Credacted\u003E\r\n    0x11231de70 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/Frameworks/libSkiaSharp.framework/libSkiaSharp : gr_backendrendertarget_get_gl_framebufferinfo\r\n    0x11231de70 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/Frameworks/libSkiaSharp.framework/libSkiaSharp : gr_backendrendertarget_get_gl_framebufferinfo\r\n    0x101f3b030 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : wrapper_managed_to_native_SkiaSharp_SkiaApi_sk_canvas_draw_circle_intptr_single_single_single_intptr\r\n2020-02-12 16:36:00.193 TrackMan.SoccerApp.Ios[431:121571] \r\n    0x101ef11a4 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : SkiaSharp_SKCanvas_DrawCircle_single_single_single_SkiaSharp_SKPaint\r\n    0x101ef12b4 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : SkiaSharp_SKCanvas_DrawCircle_SkiaSharp_SKPoint_single_SkiaSharp_SKPaint\r\n    0x10548af44 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : TrackMan_AppCore_Soccer_Skia_KicksDrawer__DrawKickPointg__DrawPracticeKick_3_1_TrackMan_AppCore_Soccer_Skia_KicksDrawer__c__DisplayClass3_0_\r\n    0x105489070 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : TrackMan_AppCore_Soccer_Skia_KicksDrawer_DrawKickPoint_SkiaSharp_SKCanvas_TrackMan_AppCore_Soccer_Models_KickPoint_SkiaSharp_SKPoint_TrackMan_AppCore_Soccer_Skia_KickPointVisualType_TrackMan_AppCore_Soccer_Skia_FootballPitch_FootballPitchStyle\r\n    0x104534088 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : TrackMan_SoccerApp_Core_Skia_Renderings_Kicks_KickPointRendering_Draw_SkiaSharp_SKCanvas\r\n    0x101f66c78 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : TrackMan_SkiaCore_Platforms_Ios_SkiaViewBases_TscSkiaView_SKElement_OnPaintSurface_object_SkiaSharp_Views_iOS_SKPaintSurfaceEventArgs\r\n    0x102136d70 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : SkiaSharp_Views_iOS_SKCanvasView_OnPaintSurface_SkiaSharp_Views_iOS_SKPaintSurfaceEventArgs\r\n    0x102136544 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : SkiaSharp_Views_iOS_SKCanvasView_Draw_CoreGraphics_CGRect\r\n    0x10109dc74 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr\r\n    0x1082c83e8 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_jit_runtime_invoke\r\n    0x108385160 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_runtime_invoke_checked\r\n    0x1083889fc - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_runtime_invoke\r\n    0x100968fb8 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : _ZL31native_to_managed_trampoline_38P11objc_objectP13objc_selectorPP11_MonoMethod6CGRectj\r\n    0x1009a0448 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : -[SKCanvasView drawRect:]\r\n    0x195b7f4ac - /System/Library/PrivateFrameworks/UIKitCore.framework/UIKitCore : \u003Credacted\u003E\r\n    0x1c623b3a0 - /System/Library/AccessibilityBundles/UIKit.axbundle/UIKit : \u003Credacted\u003E\r\n    0x1980e7b0c - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x197fb989c - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x1980f0204 - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x1980e73e8 - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x1980f9260 - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x198041884 - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x19806b574 - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x19806bf68 - /System/Library/Frameworks/QuartzCore.framework/QuartzCore : \u003Credacted\u003E\r\n    0x1915e1e68 - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation : \u003Credacted\u003E\r\n    0x1915dcd54 - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation : \u003Credacted\u003E\r\n    0x1915dd320 - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation : \u003Credacted\u003E\r\n    0x1915dcadc - /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation : CFRunLoopRunSpecific\r\n    0x19b57d328 - /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices : GSEventRunModal\r\n    0x1956ea63c - /System/Library/PrivateFrameworks/UIKitCore.framework/UIKitCore : UIApplicationMain\r\n    0x10123edb0 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : wrapper_managed_to_native_UIKit_UIApplication_UIApplicationMain_int_string___intptr_intptr\r\n    0x10118f52c - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : UIKit_UIApplication_Main_string___intptr_intptr\r\n    0x10118f4b4 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : UIKit_UIApplication_Main_string___string_string\r\n    0x1009b31a4 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : TrackMan_SoccerApp_Ios_Application_Main_string__\r\n    0x10109dc74 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : wrapper_runtime_invoke_object_runtime_invoke_dynamic_intptr_intptr_intptr_intptr\r\n    0x1082c83e8 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_jit_runtime_invoke\r\n    0x108385160 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_runtime_invoke_checked\r\n    0x10838b428 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_runtime_exec_main_checked\r\n    0x1082a65b4 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : mono_jit_exec\r\n    0x108493218 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : xamarin_main\r\n    0x1009b0524 - /private/var/containers/Bundle/Application/65953D5D-80AF-4DF4-AA8D-569A523C80DE/TrackMan.SoccerApp.Ios.app/TrackMan.SoccerApp.Ios : main\r\n    0x191466360 - /usr/lib/system/libdyld.dylib : \u003Credacted\u003E\r\n\r\n\r\n=================================================================\r\n    Basic Fault Address Reporting\r\n=================================================================\r\nMemory around native instruction pointer (0x1123178ac):0x11231789c  22 4c 23 1e 21 cc 23 1e e4 0b 02 2d e0 07 03 2d  \u0022L#.!.#....-...-\r\n0x1123178ac  88 02 40 f9 08 61 40 f9 e1 43 00 91 e0 03 14 aa  ..@..a@..C......\r\n0x1123178bc  e2 03 13 aa 00 01 3f d6 e8 13 40 f9 48 01 00 b4  ......?...@.H...\r\n0x1123178cc  e8 17 40 f9 08 01 40 39 e8 00 00 34 06 56 04 94  ..@...@9...4.V..\r\n\r\n\r\n=================================================================\r\n    Managed Stacktrace:\r\n=================================================================\r\n      at \u003Cunknown\u003E \u003C0xffffffff\u003E\r\n      at SkiaSharp.SkiaApi:sk_canvas_draw_circle \u003C0x00007\u003E\r\n      at SkiaSharp.SKCanvas:DrawCircle \u003C0x00143\u003E\r\n      at SkiaSharp.SKCanvas:DrawCircle \u003C0x000c3\u003E\r\n      at TrackMan.AppCore.Soccer.Skia.KicksDrawer:\u003CDrawKickPoint\u003Eg__DrawPracticeKick|3_1 \u003C0x003e3\u003E\r\n      at TrackMan.AppCore.Soccer.Skia.KicksDrawer:DrawKickPoint \u003C0x010ef\u003E\r\n      at TrackMan.SoccerApp.Core.Skia.Renderings.Kicks.KickPointRendering:Draw \u003C0x002d7\u003E\r\n      at TrackMan.SkiaCore.Platforms.Ios.SkiaViewBases.TscSkiaView:SKElement_OnPaintSurface \u003C0x00177\u003E\r\n      at SkiaSharp.Views.iOS.SKCanvasView:OnPaintSurface \u003C0x000af\u003E\r\n      at SkiaSharp.Views.iOS.SKCanvasView:Draw \u003C0x00553\u003E\r\n      at System.Object:runtime_invoke_dynamic \u003C0x00103\u003E\r\n      at \u003Cunknown\u003E \u003C0xffffffff\u003E\r\n      at UIKit.UIApplication:UIApplicationMain \u003C0x00007\u003E\r\n      at UIKit.UIApplication:Main \u003C0x0002b\u003E\r\n      at UIKit.UIApplication:Main \u003C0x00043\u003E\r\n      at TrackMan.SoccerApp.Ios.Application:Main \u003C0x00163\u003E\r\n      at System.Object:runtime_invoke_dynamic \u003C0x00103\u003E\r\n\u0060\u0060\u0060\r\n\r\n\r\n**Code**\r\n\r\nWhen the app freezes, the code usually hangs at various drawing operations, like **SkCanvas.DrawCircle** (that\u0027s the case for the crash above)\r\n\r\n**Expected Behavior**\r\n\r\nThe application should not freeze due to native crashes \u2728\r\n\r\n**Actual Behavior**\r\n\r\nThe application freezes \uD83D\uDC77\uD83C\uDFFB\u200D\u2642\uFE0F\r\n\r\n**Basic Information**\r\n\r\n- Version with issue:  1.68.1.1\r\n- Last known good version:  1.68\r\n- IDE:  Visual Studio / Visual Studio for Mac\r\n- Platform Target Frameworks: \r\n  - iOS:  10.0\r\n- Target Devices:   \u003C!-- the devices that you noticed this on, e.g. iPhone X --\u003E\r\n  - various iPad models, for example Apple iPad Air 3",
  "author": {
    "login": "miszu",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "milestone": "v1.68.2",
  "createdAt": "2020-02-13T08:52:31",
  "updatedAt": "2022-08-19T06:02:45",
  "closedAt": "2020-03-24T16:09:40",
  "commentCount": 7,
  "reactionCount": 7,
  "engagement": {
    "syncedAt": "2026-02-04T20:49:49.5388774Z",
    "reactions": [
      {
        "user": "lubiepomaranczki",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:49:49.5388842Z"
      },
      {
        "user": "lubiepomaranczki",
        "content": "eyes",
        "createdAt": "2026-02-04T20:49:49.5388851Z"
      },
      {
        "user": "Zalkovalsky",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:49:49.5388855Z"
      },
      {
        "user": "MKnoski",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:49:49.5388859Z"
      },
      {
        "user": "LasseOL",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:49:49.5388862Z"
      },
      {
        "user": "Cheesebaron",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:49:49.5388867Z"
      },
      {
        "user": "squ4llu",
        "content": "\u002B1",
        "createdAt": "2026-02-04T20:49:49.5388872Z"
      }
    ],
    "comments": [
      {
        "id": 585705660,
        "author": "mattleibow",
        "createdAt": "2020-02-13T11:39:50",
        "reactions": [
          {
            "user": "miszu",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:49:48.3391515Z"
          }
        ]
      },
      {
        "id": 585794100,
        "author": "miszu",
        "createdAt": "2020-02-13T14:52:26",
        "reactions": []
      },
      {
        "id": 585799934,
        "author": "mattleibow",
        "createdAt": "2020-02-13T15:00:25",
        "reactions": []
      },
      {
        "id": 601603383,
        "author": "mattleibow",
        "createdAt": "2020-03-20T09:21:25",
        "reactions": []
      },
      {
        "id": 601645266,
        "author": "miszu",
        "createdAt": "2020-03-20T11:08:47",
        "reactions": [
          {
            "user": "mattleibow",
            "content": "\u002B1",
            "createdAt": "2026-02-04T20:49:49.0777417Z"
          }
        ]
      },
      {
        "id": 603503920,
        "author": "mattleibow",
        "createdAt": "2020-03-24T21:04:18",
        "reactions": []
      },
      {
        "id": 608448583,
        "author": "mattleibow",
        "createdAt": "2020-04-03T13:58:13",
        "reactions": []
      }
    ]
  }
}