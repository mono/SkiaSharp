{
  "number": 1351,
  "type": "issue",
  "state": "closed",
  "title": "How can I force a redraw of wpf:SKElement?",
  "body": "Hey,\r\n\r\nI\u0027m trying to develop a .NET Core App with SkiaSharp.\r\nThis is a WPF Windows  Desktop App (not Xamarin, or UWP).\r\nI found the sample at: \u0022./SkiaSharp/samples/Basic/WPF/SkiaSharpSample\u0022.\r\nThis App is built with the following frameworks and packages:\r\n\r\n1. Microsoft.NETCore.App\r\n2. Microsoft.WindowsDesktop.App.WPF\r\n3.  SkiaSharft (2.80.0-preview.14)\r\n4.  SkiaSharp.Views.Desktop.Common (2.80)\r\n5.  SkiaSharp.Views.WPF (2.80.0-preview 14)\r\n\r\nMy reproducible test code is:\r\n\r\n\u0060\u0060\u0060\r\n   using SkiaSharp;\r\n   using SkiaSharp.Views.Desktop;\r\n   using static System.Windows.PresentationSource;\r\n\r\n   namespace TestSkia_App_NET_Core {\r\n\r\n    public partial class MainWindow {\r\n      private SKCanvas canvas;\r\n      private SKSize scaledSize;\r\n      private int loop;\r\n\r\n      public MainWindow() {\r\n        InitializeComponent();\r\n      }\r\n\r\n      private void DrawItWorks() {\r\n        canvas.Clear(SKColors.White);\r\n        var paint = new SKPaint {\r\n          Color = SKColors.Black,\r\n          IsAntialias = true,\r\n          Style = SKPaintStyle.Fill,\r\n          TextAlign = SKTextAlign.Center,\r\n          TextSize = 24\r\n        };\r\n        var origin = new SKPoint(scaledSize.Width/2, (scaledSize.Height \u002B paint.TextSize)/2);\r\n        canvas.DrawText(\u0022This is redraw number: \u0022 \u002B (\u002B\u002Bloop), origin, paint);\r\n      }\r\n\r\n      private void OnPaintSurface(object sender, SKPaintSurfaceEventArgs e) {\r\n        canvas = e.Surface.Canvas;\r\n        scaledSize = new SKSize(e.Info.Width, e.Info.Height);\r\n        DrawItWorks();\r\n      }\r\n\r\n      private void DrawButton_Click(object sender, System.Windows.RoutedEventArgs e) {\r\n        // Code to cause a redraw\r\n      }\r\n    }\r\n  }\r\n\u0060\u0060\u0060\r\n\r\nMy XML for the App is:\r\n\r\n\u0060\u0060\u0060\r\n \u003CWindow x:Name=\u0022MainWindow1\u0022 x:Class=\u0022TestSkia_App_NET_Core.MainWindow\u0022\r\n        xmlns=\u0022http://schemas.microsoft.com/winfx/2006/xaml/presentation\u0022\r\n        xmlns:x=\u0022http://schemas.microsoft.com/winfx/2006/xaml\u0022\r\n        xmlns:d=\u0022http://schemas.microsoft.com/expression/blend/2008\u0022\r\n        xmlns:mc=\u0022http://schemas.openxmlformats.org/markup-compatibility/2006\u0022\r\n        xmlns:wpf=\u0022clr-namespace:SkiaSharp.Views.WPF;assembly=SkiaSharp.Views.WPF\u0022\r\n        mc:Ignorable=\u0022d\u0022\r\n        Title=\u0022Test App .NET Core\u0022 \r\n        Height=\u0022500\u0022 Width=\u0022500\u0022\r\n        Background=\u0022#FF69A5CF\u0022\u003E\r\n\r\n  \u003CGrid\u003E\r\n    \u003Cwpf:SKElement x:Name=\u0022canvasView\u0022 \r\n            PaintSurface=\u0022OnPaintSurface\u0022\r\n            Width=\u0022400\u0022 Height=\u0022400\u0022 \r\n            Margin=\u002210,10,10,156\u0022 Visibility=\u0022Visible\u0022 /\u003E\r\n   \r\n    \u003CButton x:Name=\u0022DrawButton\u0022 \r\n            Content=\u0022Draw\u0022 \r\n            HorizontalAlignment=\u0022Left\u0022 VerticalAlignment=\u0022Top\u0022\r\n            Margin=\u0022225,423,0,0\u0022 Background=\u0022#FFFBFBFB\u0022 Click=\u0022DrawButton_Click\u0022/\u003E\r\n  \u003C/Grid\u003E\r\n\u003C/Window\u003E\r\n\u0060\u0060\u0060\r\n\r\nI could not find how to Invalidate the \u003Cwpf:SKElement\u003E. \r\nAny help will be greatly appreciated.\r\n\r\nCharles\r\n",
  "author": {
    "login": "CBrauer",
    "type": "User"
  },
  "labels": [],
  "assignees": [],
  "createdAt": "2020-06-24T15:49:30",
  "updatedAt": "2022-08-19T03:02:53",
  "closedAt": "2020-06-24T16:40:34",
  "commentCount": 2,
  "reactionCount": 0
}