<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
             xmlns:shapes="clr-namespace:Microsoft.Maui.Controls.Shapes;assembly=Microsoft.Maui.Controls"
             x:Class="SkiaSharpSample.ShapesPage"
             Title="SkiaSharp Shapes">
    
    <ContentPage.Resources>
        <!-- Gradient brushes for demonstration -->
        <LinearGradientBrush x:Key="SunsetGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF512F" Offset="0.0" />
            <GradientStop Color="#DD2476" Offset="1.0" />
        </LinearGradientBrush>
        
        <RadialGradientBrush x:Key="OrbGradient" Center="0.5,0.5" Radius="0.5">
            <GradientStop Color="#FFFFFF" Offset="0.0" />
            <GradientStop Color="#667eea" Offset="0.5" />
            <GradientStop Color="#764ba2" Offset="1.0" />
        </RadialGradientBrush>

        <LinearGradientBrush x:Key="OceanGradient" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#2193b0" Offset="0.0" />
            <GradientStop Color="#6dd5ed" Offset="1.0" />
        </LinearGradientBrush>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            
            <Label Text="SKShapeView Demo" 
                   FontSize="24" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />
            
            <Label Text="MAUI shapes rendered with SkiaSharp" 
                   FontSize="14" 
                   TextColor="Gray"
                   HorizontalOptions="Center" />

            <!-- Example 1: Basic Shapes with Solid Colors -->
            <Frame BorderColor="LightGray" Padding="10" CornerRadius="10">
                <VerticalStackLayout>
                    <Label Text="Basic Shapes with Solid Colors" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <skia:SKShapeView HeightRequest="200" WidthRequest="350">
                        <!-- Rectangle -->
                        <shapes:Rectangle 
                            skia:SKShapeView.Left="10" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="80" 
                            HeightRequest="60"
                            Fill="CornflowerBlue"
                            Stroke="DarkBlue"
                            StrokeThickness="2" />
                        
                        <!-- Ellipse -->
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="110" 
                            skia:SKShapeView.Top="20"
                            WidthRequest="80" 
                            HeightRequest="80"
                            Fill="Coral"
                            Stroke="DarkRed"
                            StrokeThickness="2" />
                        
                        <!-- RoundRectangle -->
                        <shapes:RoundRectangle 
                            skia:SKShapeView.Left="210" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="100" 
                            HeightRequest="60"
                            CornerRadius="15"
                            Fill="MediumSeaGreen"
                            Stroke="DarkGreen"
                            StrokeThickness="2" />
                        
                        <!-- Line -->
                        <shapes:Line 
                            skia:SKShapeView.Left="10" 
                            skia:SKShapeView.Top="100"
                            X1="0" Y1="0" 
                            X2="150" Y2="50"
                            Stroke="Purple"
                            StrokeThickness="3"
                            StrokeLineCap="Round" />
                        
                        <!-- Polyline -->
                        <shapes:Polyline 
                            skia:SKShapeView.Left="180" 
                            skia:SKShapeView.Top="100"
                            Points="0,40 30,10 60,40 90,10 120,40"
                            Stroke="Orange"
                            StrokeThickness="3"
                            StrokeLineJoin="Round" />
                    </skia:SKShapeView>
                </VerticalStackLayout>
            </Frame>

            <!-- Example 2: Gradient Fills -->
            <Frame BorderColor="LightGray" Padding="10" CornerRadius="10">
                <VerticalStackLayout>
                    <Label Text="Gradient Fills" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <skia:SKShapeView HeightRequest="180" WidthRequest="350">
                        <!-- Linear Gradient Rectangle -->
                        <shapes:RoundRectangle 
                            skia:SKShapeView.Left="10" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="100" 
                            HeightRequest="100"
                            CornerRadius="10"
                            Fill="{StaticResource SunsetGradient}"
                            Stroke="White"
                            StrokeThickness="2" />
                        
                        <!-- Radial Gradient Ellipse -->
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="130" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="100" 
                            HeightRequest="100"
                            Fill="{StaticResource OrbGradient}" />
                        
                        <!-- Ocean Gradient Rectangle -->
                        <shapes:Rectangle 
                            skia:SKShapeView.Left="250" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="80" 
                            HeightRequest="100"
                            Fill="{StaticResource OceanGradient}"
                            Stroke="Navy"
                            StrokeThickness="1" />
                        
                        <shapes:Polygon
                            skia:SKShapeView.Left="50"
                            skia:SKShapeView.Top="120"
                            Points="50,0 100,50 75,100 25,100 0,50"
                            Fill="{StaticResource SunsetGradient}"
                            Stroke="White"
                            StrokeThickness="2" />
                    </skia:SKShapeView>
                </VerticalStackLayout>
            </Frame>

            <!-- Example 3: Path Geometry -->
            <Frame BorderColor="LightGray" Padding="10" CornerRadius="10">
                <VerticalStackLayout>
                    <Label Text="Path Geometry" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <skia:SKShapeView HeightRequest="150" WidthRequest="350">
                        <!-- Star using Path -->
                        <shapes:Path 
                            skia:SKShapeView.Left="20" 
                            skia:SKShapeView.Top="10"
                            Fill="Gold"
                            Stroke="DarkGoldenrod"
                            StrokeThickness="2"
                            Data="M 50,0 L 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35 Z" />
                        
                        <!-- Heart using Path -->
                        <shapes:Path 
                            skia:SKShapeView.Left="140" 
                            skia:SKShapeView.Top="10"
                            Fill="Crimson"
                            Stroke="DarkRed"
                            StrokeThickness="1"
                            Data="M 50,20 C 20,-10 -15,40 50,90 C 115,40 80,-10 50,20 Z" />
                        
                        <!-- Arrow using Path -->
                        <shapes:Path 
                            skia:SKShapeView.Left="260" 
                            skia:SKShapeView.Top="30"
                            Fill="SteelBlue"
                            Stroke="DarkSlateBlue"
                            StrokeThickness="2"
                            Data="M 0,25 L 50,25 50,10 80,35 50,60 50,45 0,45 Z" />
                    </skia:SKShapeView>
                </VerticalStackLayout>
            </Frame>

            <!-- Example 4: Dashed Strokes -->
            <Frame BorderColor="LightGray" Padding="10" CornerRadius="10">
                <VerticalStackLayout>
                    <Label Text="Dashed Strokes" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <skia:SKShapeView HeightRequest="120" WidthRequest="350">
                        <!-- Dashed Rectangle -->
                        <shapes:Rectangle 
                            skia:SKShapeView.Left="10" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="100" 
                            HeightRequest="80"
                            Fill="Transparent"
                            Stroke="Navy"
                            StrokeThickness="3"
                            StrokeDashArray="4,2" />
                        
                        <!-- Dotted Ellipse -->
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="130" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="90" 
                            HeightRequest="80"
                            Fill="Transparent"
                            Stroke="Green"
                            StrokeThickness="3"
                            StrokeDashArray="1,2" />
                        
                        <!-- Complex Dash Pattern -->
                        <shapes:RoundRectangle 
                            skia:SKShapeView.Left="240" 
                            skia:SKShapeView.Top="10"
                            WidthRequest="90" 
                            HeightRequest="80"
                            CornerRadius="10"
                            Fill="Transparent"
                            Stroke="Purple"
                            StrokeThickness="3"
                            StrokeDashArray="5,2,2,2" />
                    </skia:SKShapeView>
                </VerticalStackLayout>
            </Frame>

            <!-- Example 5: Transforms -->
            <Frame BorderColor="LightGray" Padding="10" CornerRadius="10">
                <VerticalStackLayout>
                    <Label Text="Transforms" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <skia:SKShapeView HeightRequest="180" WidthRequest="350">
                        <!-- Rotated Rectangle -->
                        <shapes:Rectangle 
                            skia:SKShapeView.Left="50" 
                            skia:SKShapeView.Top="50"
                            WidthRequest="60" 
                            HeightRequest="40"
                            Fill="Tomato">
                            <shapes:Rectangle.RenderTransform>
                                <shapes:RotateTransform Angle="30" CenterX="30" CenterY="20" />
                            </shapes:Rectangle.RenderTransform>
                        </shapes:Rectangle>
                        
                        <!-- Scaled Ellipse -->
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="150" 
                            skia:SKShapeView.Top="60"
                            WidthRequest="40" 
                            HeightRequest="40"
                            Fill="MediumPurple">
                            <shapes:Ellipse.RenderTransform>
                                <shapes:ScaleTransform ScaleX="1.5" ScaleY="0.8" CenterX="20" CenterY="20" />
                            </shapes:Ellipse.RenderTransform>
                        </shapes:Ellipse>
                        
                        <!-- Skewed Rectangle -->
                        <shapes:Rectangle 
                            skia:SKShapeView.Left="250" 
                            skia:SKShapeView.Top="50"
                            WidthRequest="50" 
                            HeightRequest="50"
                            Fill="Teal">
                            <shapes:Rectangle.RenderTransform>
                                <shapes:SkewTransform AngleX="20" AngleY="0" />
                            </shapes:Rectangle.RenderTransform>
                        </shapes:Rectangle>
                    </skia:SKShapeView>
                </VerticalStackLayout>
            </Frame>

            <!-- Example 6: Background with Shapes -->
            <Frame BorderColor="LightGray" Padding="10" CornerRadius="10">
                <VerticalStackLayout>
                    <Label Text="Canvas with Background" FontAttributes="Bold" Margin="0,0,0,10" />
                    
                    <skia:SKShapeView HeightRequest="150" WidthRequest="350"
                                      Background="{StaticResource OceanGradient}">
                        <!-- White shapes on gradient background -->
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="30" 
                            skia:SKShapeView.Top="30"
                            WidthRequest="60" 
                            HeightRequest="60"
                            Fill="White"
                            Opacity="0.8" />
                        
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="100" 
                            skia:SKShapeView.Top="50"
                            WidthRequest="40" 
                            HeightRequest="40"
                            Fill="White"
                            Opacity="0.6" />
                        
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="180" 
                            skia:SKShapeView.Top="20"
                            WidthRequest="80" 
                            HeightRequest="80"
                            Fill="White"
                            Opacity="0.5" />
                        
                        <shapes:Ellipse 
                            skia:SKShapeView.Left="260" 
                            skia:SKShapeView.Top="60"
                            WidthRequest="50" 
                            HeightRequest="50"
                            Fill="White"
                            Opacity="0.7" />
                    </skia:SKShapeView>
                </VerticalStackLayout>
            </Frame>

            <Button Text="Back to Main Page" 
                    Clicked="OnBackClicked"
                    HorizontalOptions="Center"
                    Margin="0,10,0,20" />
            
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
