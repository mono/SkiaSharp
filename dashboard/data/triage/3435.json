{
  "meta": {
    "schemaVersion": "1.0",
    "number": 3435,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-12T16:47:05Z",
    "currentLabels": [
      "type/bug",
      "os/Windows-Classic",
      "area/libSkiaSharp.native",
      "tenet/reliability"
    ]
  },
  "summary": "DllNotFoundException for libSkiaSharp in a Blazor WASM app after upgrading from .NET 9 to .NET 10. Tried SkiaSharp 3.116.1 and 3.119.2-preview.1; both fail on .NET 10 though 3.116.1 worked on .NET 9. This is a duplicate of #3422 \u2014 SkiaSharp does not yet target net10.0 (TFMCurrent is net8.0, TFMNext is empty), so the Blazor WASM package has no net10.0 assets and native static linking fails. PR #3514 tracks adding .NET 10 support.",
  "classification": {
    "type": {
      "value": "type/bug",
      "confidence": 0.95
    },
    "area": {
      "value": "area/SkiaSharp.Views.Blazor",
      "confidence": 0.92
    },
    "platforms": [
      "os/WASM"
    ],
    "tenets": [
      "tenet/compatibility"
    ]
  },
  "evidence": {
    "reproEvidence": {
      "stepsToReproduce": [
        "Create or upgrade a Blazor WASM app to .NET 10",
        "Add SkiaSharp.Views.Blazor 3.116.1 or 3.119.2-preview.1",
        "Run the app \u2014 DllNotFoundException: libSkiaSharp at runtime"
      ],
      "environmentDetails": "Blazor WASM, .NET 10, SkiaSharp 3.116.1 and 3.119.2-preview.1",
      "relatedIssues": [
        3422
      ],
      "repoLinks": [
        {
          "url": "https://github.com/user/repo",
          "description": "Reporter\u0027s reproduction repository"
        }
      ]
    },
    "bugSignals": {
      "severity": "high",
      "isRegression": true,
      "errorType": "DllNotFoundException",
      "errorMessage": "System.DllNotFoundException: libSkiaSharp",
      "reproQuality": "partial",
      "targetFrameworks": [
        "net10.0"
      ]
    },
    "versionAnalysis": {
      "mentionedVersions": [
        "3.116.1",
        "3.119.2-preview.1"
      ],
      "workedIn": "3.116.1 on .NET 9",
      "brokeIn": "3.116.1 on .NET 10",
      "currentRelevance": "likely",
      "relevanceReason": "SkiaSharp still does not target net10.0 \u2014 TFMCurrent is net8.0 and TFMNext is empty in source/SkiaSharp.Build.props. PR #3514 is open but not yet merged."
    },
    "regression": {
      "isRegression": false,
      "confidence": 0.9,
      "reason": "Not a regression in SkiaSharp \u2014 the same SkiaSharp version works on .NET 9. The failure is caused by upgrading the .NET SDK to 10, which SkiaSharp does not yet support. The behavior is \u0027not yet supported\u0027 rather than \u0027previously worked and broke\u0027."
    },
    "fixStatus": {
      "likelyFixed": false,
      "confidence": 0.85,
      "reason": "PR #3514 (Update to .NET 10 SDK and restructure TFMs) is open and would resolve this, but it has not been merged yet.",
      "relatedPRs": [
        3514
      ]
    }
  },
  "analysis": {
    "summary": "Blazor WASM on .NET 10 fails with DllNotFoundException because SkiaSharp does not yet target net10.0. WASM uses static linking \u2014 the .a files are compiled into dotnet.wasm via NativeFileReference at build time. While the NativeFileReference targets file has a net9.0\u002B fallback condition, the Blazor Views package itself only ships net8.0 and net6.0 TFMs, so .NET 10 projects cannot consume it properly. This is identical to #3422.",
    "codeInvestigation": [
      {
        "file": "source/SkiaSharp.Build.props",
        "finding": "TFMPrevious=net6.0, TFMCurrent=net8.0, TFMNext is empty. No .NET 10 target framework is configured.",
        "relevance": "direct",
        "lines": "62-66"
      },
      {
        "file": "source/SkiaSharp.Views/SkiaSharp.Views.Blazor/SkiaSharp.Views.Blazor.csproj",
        "finding": "TargetFrameworks=$(TFMCurrent);$(TFMPrevious);$(TFMNext) resolves to net8.0;net6.0 \u2014 no net10.0 target.",
        "relevance": "direct",
        "lines": "4"
      },
      {
        "file": "binding/SkiaSharp.NativeAssets.WebAssembly/buildTransitive/SkiaSharp.targets",
        "finding": "NativeFileReference conditions include a net9.0\u002B fallback (VersionGreaterThanOrEquals 9.0), but the Blazor package not having a net10.0 TFM means the overall integration is incomplete for .NET 10.",
        "relevance": "related",
        "lines": "32-40"
      }
    ],
    "rationale": "Classified as type/bug because the reporter describes a runtime failure, not a usage question. Area is SkiaSharp.Views.Blazor because the failure is specific to Blazor WASM deployment and the missing net10.0 TFM in the Blazor package. Platform is os/WASM (not os/Windows-Classic as currently labeled) because the issue is in the WASM static linking pipeline, not Windows-specific. Tenet is tenet/compatibility because this is about .NET version compatibility. This is a duplicate of #3422 which reports the exact same problem with more detail.",
    "keySignals": [
      {
        "text": "Started getting this runtime error after upgrading Blazor app from .Net 9 to .Net 10",
        "source": "issue body",
        "interpretation": "The .NET SDK upgrade is the trigger \u2014 SkiaSharp version didn\u0027t change, ruling out a SkiaSharp regression."
      },
      {
        "text": ".Net 9 app worked with 3.116.1",
        "source": "issue body",
        "interpretation": "Confirms the same SkiaSharp version works on .NET 9. The gap is .NET 10 support, not a SkiaSharp defect."
      },
      {
        "text": "Duplicate of #3422",
        "source": "comment #2 by Webreaper",
        "interpretation": "Community member identified this as a duplicate. #3422 has a full triage confirming the same root cause."
      },
      {
        "text": "TFMCurrent=net8.0, TFMNext is empty",
        "source": "code search: source/SkiaSharp.Build.props:64-66",
        "interpretation": "No .NET 10 TFM configured \u2014 the Blazor package ships net8.0;net6.0 only."
      }
    ],
    "errorFingerprint": "DllNotFoundException-libSkiaSharp-WASM-net10",
    "workarounds": [
      "Stay on .NET 9 until SkiaSharp officially adds .NET 10 support (PR #3514)",
      "Run \u0060dotnet workload install wasm-tools\u0060 \u2014 reported to help for some users on Windows (not confirmed universally)"
    ],
    "nextQuestions": [
      "Will PR #3514 fully resolve this, or are additional Emscripten version changes needed for .NET 10?"
    ],
    "resolution": {
      "hypothesis": "SkiaSharp does not yet target .NET 10. The Blazor WASM package only ships net8.0 and net6.0 TFMs, so .NET 10 projects fail at the native static linking step, producing a DllNotFoundException.",
      "proposals": [
        {
          "description": "Downgrade the project to net9.0 until SkiaSharp ships official .NET 10 support. .NET 9 \u002B SkiaSharp 3.116.1 is a known-working combination for Blazor WASM.",
          "title": "Stay on .NET 9",
          "confidence": 0.95,
          "effort": "trivial"
        },
        {
          "description": "PR #3514 restructures TFMs to include net10.0 as TFMCurrent and updates the SDK. This is the proper fix that will add official .NET 10 support to SkiaSharp including the Blazor WASM package.",
          "title": "Merge PR #3514",
          "confidence": 0.85,
          "effort": "large"
        }
      ],
      "recommendedProposal": "Stay on .NET 9",
      "recommendedReason": "Immediate workaround with high confidence. The proper fix (PR #3514) is pending review and not yet available to end users."
    }
  },
  "output": {
    "actionability": {
      "suggestedAction": "close-as-duplicate",
      "confidence": 0.92,
      "reason": "Identical root cause to #3422 (Blazor WASM \u002B .NET 10 = DllNotFoundException). Community member already identified the duplicate. #3422 has a more detailed report with code samples and broader version testing."
    },
    "actions": [
      {
        "type": "update-labels",
        "description": "Fix incorrect labels: replace os/Windows-Classic with os/WASM and area/libSkiaSharp.native with area/SkiaSharp.Views.Blazor; add tenet/compatibility",
        "risk": "low",
        "confidence": 0.92,
        "labels": [
          "type/bug",
          "area/SkiaSharp.Views.Blazor",
          "os/WASM",
          "tenet/compatibility"
        ]
      },
      {
        "type": "link-duplicate",
        "description": "Mark as duplicate of #3422 \u2014 same root cause (no .NET 10 TFM support in Blazor WASM package)",
        "risk": "medium",
        "confidence": 0.92,
        "linkedIssue": 3422
      },
      {
        "type": "add-comment",
        "description": "Post duplicate acknowledgement with workaround",
        "risk": "high",
        "confidence": 0.9,
        "comment": "Thanks for the report. This is a duplicate of #3422 \u2014 SkiaSharp does not yet target .NET 10, so the Blazor WASM native static linking fails.\n\nAs a workaround, stay on .NET 9 until .NET 10 support ships. PR #3514 tracks adding .NET 10 TFM support.\n\nClosing as duplicate of #3422."
      },
      {
        "type": "close-issue",
        "description": "Close as duplicate of #3422",
        "risk": "medium",
        "confidence": 0.9
      }
    ]
  }
}