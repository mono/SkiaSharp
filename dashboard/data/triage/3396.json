{
  "meta": {
    "schemaVersion": "1.0",
    "number": 3396,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-12T16:28:00Z",
    "currentLabels": [
      "type/feature-request",
      "os/WASM",
      "area/SkiaSharp.Views.Uno"
    ]
  },
  "summary": "User cannot get SkiaSharp to work on Unity WebGL. They get DllNotFoundException for libSkiaSharp in the browser console. They have tried the NativeAssets.WebAssembly NuGet package and multiple Unity versions (2021.2, 2022.3). SkiaSharp\u0027s WASM support uses static linking via MSBuild NativeFileReference, which only works with .NET SDK builds (Blazor, Uno). Unity WebGL uses its own Emscripten-based build pipeline that doesn\u0027t go through MSBuild, so the NativeAssets.WebAssembly package\u0027s build targets never fire. Unity is not an officially supported platform.",
  "classification": {
    "type": {
      "value": "type/question",
      "confidence": 0.7
    },
    "area": {
      "value": "area/libSkiaSharp.native",
      "confidence": 0.9
    },
    "platforms": [
      "os/WASM"
    ],
    "tenets": [
      "tenet/compatibility"
    ]
  },
  "evidence": {
    "reproEvidence": {
      "stepsToReproduce": [
        "Download SkiaSharp managed NuGet and NativeAssets.WebAssembly NuGet",
        "Extract libSkiaSharp.a files and place in Unity project",
        "Build Unity project for WebGL target",
        "Run in browser \u2014 get DllNotFoundException for libSkiaSharp"
      ],
      "environmentDetails": "Unity 2021.2 and 2022.3, WebGL build target",
      "relatedIssues": [
        921,
        1819,
        2181,
        3016
      ]
    },
    "versionAnalysis": {
      "currentRelevance": "likely",
      "relevanceReason": "Unity WebGL is still not officially supported. The WASM native assets still use MSBuild NativeFileReference which Unity\u0027s build system does not process."
    }
  },
  "analysis": {
    "summary": "SkiaSharp\u0027s WebAssembly support relies on .NET SDK static linking \u2014 the NativeAssets.WebAssembly package provides .a files that are linked into dotnet.wasm via MSBuild NativeFileReference. Unity WebGL uses Emscripten but does NOT use .NET MSBuild, so the static linking targets never apply. The user\u0027s DllNotFoundException occurs because the managed C# DLL calls DllImport(\u0022libSkiaSharp\u0022) which expects either a dynamically loaded library or statically linked symbols resolved by the .NET WASM runtime \u2014 neither is available in Unity\u0027s IL2CPP/Mono WebGL runtime. This is fundamentally a platform support gap, not a configuration issue.",
    "codeInvestigation": [
      {
        "file": "binding/SkiaSharp/SkiaApi.cs",
        "finding": "DllImport constant is \u0027libSkiaSharp\u0027 \u2014 on .NET WASM this resolves to statically linked symbols via the .NET runtime. Unity WebGL uses a different runtime (IL2CPP or Mono) that doesn\u0027t have this resolution mechanism.",
        "relevance": "direct",
        "lines": "12"
      },
      {
        "file": "binding/SkiaSharp.NativeAssets.WebAssembly/buildTransitive/SkiaSharp.targets",
        "finding": "WASM integration uses MSBuild properties UsingMicrosoftNETSdkBlazorWebAssembly/UsingMicrosoftNETSdkWebAssembly and NativeFileReference items. Also has Uno-specific support via IsUnoHead/UnoRuntimeIdentifier. None of these apply to Unity\u0027s build system.",
        "relevance": "direct",
        "lines": "22-41"
      },
      {
        "file": "documentation/packages.md",
        "finding": "Documents that WASM uses static linking via NativeFileReference, and explicitly notes Unity WebGL is not officially supported and requires manual configuration beyond standard NativeFileReference.",
        "relevance": "context",
        "lines": "95-99"
      }
    ],
    "rationale": "Classified as type/question rather than type/feature-request because the user is primarily asking \u0027how to get it to work\u0027 and \u0027has anyone got this working.\u0027 However, confidence is moderate (0.70) because the underlying answer is that Unity WebGL is not supported \u2014 making this borderline between a question and a feature request. The existing type/feature-request label is also defensible. The area is area/libSkiaSharp.native (not area/SkiaSharp.Views.Uno) because the issue is purely about native library loading on Unity WebGL, which has nothing to do with the Uno Platform views layer.",
    "keySignals": [
      {
        "text": "DLLNotFound libSkiaSharp in the Browser console",
        "source": "issue body",
        "interpretation": "Unity WebGL cannot resolve the P/Invoke to libSkiaSharp because the .a static library was not linked into the WASM binary by Unity\u0027s build pipeline."
      },
      {
        "text": "I have tried placing all the different libSkiaSharp.a files in Unity",
        "source": "issue body",
        "interpretation": "User is manually copying .a files \u2014 this won\u0027t work because Unity needs explicit Emscripten linker configuration, not just file placement."
      },
      {
        "text": "I am not sure if this is because the managed C# dll is expecting a dynamic linked library instead of a static one",
        "source": "issue body",
        "interpretation": "Correct intuition \u2014 the managed DLL uses DllImport which on .NET WASM is resolved to statically linked symbols. Unity WebGL doesn\u0027t have this resolution mechanism."
      },
      {
        "text": "Unity WebGL \u2014 Uses Emscripten like Blazor WASM but doesn\u0027t go through MSBuild. SkiaSharp doesn\u0027t officially support Unity WebGL.",
        "source": "documentation (skia-patterns.md)",
        "interpretation": "Confirms this is a known unsupported scenario documented in project knowledge base."
      }
    ],
    "workarounds": [
      "Use SkiaSharp with Blazor WebAssembly instead of Unity WebGL for browser-based vector graphics",
      "For Unity specifically, consider using Unity\u0027s built-in Vector Graphics package or SVG importer for vector art"
    ],
    "nextQuestions": [
      "Is there community interest in official Unity support?",
      "Could Unity\u0027s native plugin system (with .jslib or Emscripten --pre-js) be used to manually link libSkiaSharp.a and expose symbols?"
    ],
    "resolution": {
      "hypothesis": "Unity WebGL does not use .NET MSBuild, so the NativeAssets.WebAssembly package\u0027s NativeFileReference-based static linking never occurs. The libSkiaSharp.a file is present but not linked into the Unity WebGL output.",
      "proposals": [
        {
          "description": "If the goal is browser-based vector graphics with SkiaSharp, use Blazor WebAssembly with SkiaSharp.Views.Blazor. This is the officially supported WASM path and handles all native linking automatically.",
          "title": "Use Blazor WASM instead",
          "confidence": 0.9,
          "effort": "large"
        },
        {
          "description": "Theoretically, Unity\u0027s native plugin system supports Emscripten static libraries. One would need to configure Unity to pass libSkiaSharp.a to the Emscripten linker with appropriate flags (-s USE_WEBGL2=1, etc.) and ensure all C API symbols are exported. This is untested and unsupported.",
          "title": "Manual Emscripten linking in Unity",
          "confidence": 0.3,
          "effort": "large"
        },
        {
          "description": "For vector art in Unity targeting Standalone, Android, and WebGL, consider Unity\u0027s built-in Vector Graphics package, or third-party solutions like NanoSVG or the Unity SVG importer, which are designed for Unity\u0027s build pipeline.",
          "title": "Use Unity-native alternatives",
          "confidence": 0.7,
          "effort": "medium"
        }
      ],
      "recommendedProposal": "Use Unity-native alternatives",
      "recommendedReason": "The user\u0027s goal is vector art across Standalone, Android, and WebGL in Unity. Unity-native solutions avoid the fundamental platform mismatch and work across all Unity build targets without manual linker configuration."
    }
  },
  "output": {
    "actionability": {
      "suggestedAction": "close-with-docs",
      "confidence": 0.75,
      "reason": "Unity WebGL is not an officially supported platform. The DllNotFoundException is expected behavior because SkiaSharp\u0027s WASM support requires .NET SDK MSBuild integration. The issue has been open since October 2025 with no community solutions posted."
    },
    "actions": [
      {
        "type": "update-labels",
        "description": "Fix area label from area/SkiaSharp.Views.Uno to area/libSkiaSharp.native \u2014 this is a native loading issue on Unity WebGL, not related to Uno views",
        "risk": "low",
        "confidence": 0.9,
        "labels": [
          "type/question",
          "area/libSkiaSharp.native",
          "os/WASM",
          "tenet/compatibility"
        ]
      },
      {
        "type": "add-comment",
        "description": "Explain why Unity WebGL is unsupported and suggest alternatives",
        "risk": "high",
        "confidence": 0.75,
        "comment": "Thanks for the detailed write-up of what you\u0027ve tried.\n\nSkiaSharp\u0027s WebAssembly support works through static linking at .NET SDK build time \u2014 the \u0060NativeAssets.WebAssembly\u0060 package provides \u0060.a\u0060 files that get linked into \u0060dotnet.wasm\u0060 via MSBuild\u0027s \u0060NativeFileReference\u0060 mechanism. This works automatically with Blazor WebAssembly and Uno Platform because they use the .NET SDK build pipeline.\n\nUnity WebGL uses Emscripten separately from .NET\u0027s MSBuild toolchain, so the NativeAssets package\u0027s build targets never fire. Simply placing \u0060.a\u0060 files in the Unity project won\u0027t work \u2014 they need to be explicitly passed to Emscripten\u0027s linker with the right flags. Unity WebGL is not an officially supported platform for SkiaSharp.\n\nFor vector art across Standalone, Android, and WebGL in Unity, you might consider Unity-native solutions like the [Vector Graphics package](https://docs.unity3d.com/Packages/com.unity.vectorgraphics@2.0/manual/index.html) or SVG importers that work with Unity\u0027s build pipeline.\n\nRelated issues: #921, #1819."
      },
      {
        "type": "link-related",
        "description": "Cross-reference Unity usage issue #921",
        "risk": "low",
        "confidence": 0.85,
        "linkedIssue": 921
      }
    ]
  }
}