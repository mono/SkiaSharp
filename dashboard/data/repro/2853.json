{
  "meta": {
    "schemaVersion": "1.0",
    "number": 2853,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-11T22:50:00Z"
  },
  "conclusion": "reproduced",
  "notes": "TIFF decoding confirmed to fail: all SKImage.FromEncodedData and SKBitmap.Decode overloads return null or throw ArgumentNullException for the reporter\u0027s TIFF file. This is expected behavior \u2014 Skia does not include a TIFF codec. The SKEncodedImageFormat enum has no TIFF entry, and SKCodec.Create returns null for TIFF data. The file itself is a valid TIFF (magic bytes 49-49-2A-00, 988x664 uncompressed RGB). Reproduced on both 2.88.3 and 3.119.2. The bug report is valid in that decode fails, but TIFF support was never part of Skia\u0027s codec set.",
  "reproductionSteps": [
    {
      "stepNumber": 1,
      "description": "Create standalone console project and add SkiaSharp 2.88.3",
      "layer": "setup",
      "command": "dotnet new console -n Repro --framework net8.0 \u0026\u0026 cd Repro \u0026\u0026 dotnet add package SkiaSharp --version 2.88.3",
      "output": "Restore succeeded.",
      "filesCreated": [
        {
          "filename": "Repro.csproj",
          "description": "Console project targeting net8.0 with SkiaSharp 2.88.3"
        },
        {
          "filename": "Program.cs",
          "description": "Reproduction code testing all decode overloads against the reporter\u0027s TIFF file"
        }
      ],
      "result": "success"
    },
    {
      "stepNumber": 2,
      "description": "Download and extract reporter\u0027s TIFF file from issue attachment",
      "layer": "setup",
      "command": "curl -sL -o C_7_142_18-0002.zip \u0027https://github.com/mono/SkiaSharp/files/15253367/C.7.142.18-0002.zip\u0027 \u0026\u0026 unzip -o C_7_142_18-0002.zip",
      "output": "C 7 142 18-0002.tif: TIFF image data, little-endian, direntries=23, height=664, bps=290, compression=none, PhotometricIntepretation=RGB, orientation=upper-left, width=988",
      "filesCreated": [
        {
          "filename": "C 7 142 18-0002.tif",
          "description": "Reporter\u0027s TIFF file, 3977720 bytes, 988x664 uncompressed RGB"
        }
      ],
      "result": "success"
    },
    {
      "stepNumber": 3,
      "description": "Run decode tests with SkiaSharp 2.88.3 against the TIFF file \u2014 tests SKImage.FromEncodedData(path/byte[]/Stream), SKBitmap.Decode(path/byte[]/Stream), and SKCodec.Create(path)",
      "layer": "csharp",
      "command": "dotnet run",
      "output": "SkiaSharp Version: 2.88.0.0\nOS: Darwin 25.2.0\nArch: Arm64\n.NET: .NET 8.0.23\n\nFile: C 7 142 18-0002.tif (3977720 bytes)\n\nTest 1 - SKImage.FromEncodedData(path): RETURNED NULL\nTest 2 - SKImage.FromEncodedData(byte[]): RETURNED NULL\nTest 3 - SKImage.FromEncodedData(Stream): RETURNED NULL\nTest 4 - SKBitmap.Decode(path): RETURNED NULL\nTest 5 - SKBitmap.Decode(byte[]): EXCEPTION: ArgumentNullException: Value cannot be null. (Parameter \u0027codec\u0027)\nTest 6 - SKBitmap.Decode(Stream): RETURNED NULL\nTest 7 - SKCodec.Create(path): RETURNED NULL (codec creation failed - format not supported?)",
      "result": "failure"
    },
    {
      "stepNumber": 4,
      "description": "Upgrade to latest SkiaSharp 3.119.2 and re-run decode tests",
      "layer": "csharp",
      "command": "dotnet add package SkiaSharp \u0026\u0026 dotnet run",
      "output": "SkiaSharp Version: 3.119.0.0\n\nFile: C 7 142 18-0002.tif (3977720 bytes)\n\nTest 1 - SKImage.FromEncodedData(path): RETURNED NULL\nTest 2 - SKImage.FromEncodedData(byte[]): RETURNED NULL\nTest 3 - SKImage.FromEncodedData(Stream): RETURNED NULL\nTest 4 - SKBitmap.Decode(path): RETURNED NULL\nTest 5 - SKBitmap.Decode(byte[]): EXCEPTION: ArgumentNullException: Value cannot be null. (Parameter \u0027codec\u0027)\nTest 6 - SKBitmap.Decode(Stream): RETURNED NULL\nTest 7 - SKCodec.Create(path): RETURNED NULL (codec creation failed - format not supported?)",
      "result": "failure"
    },
    {
      "stepNumber": 5,
      "description": "Verify TIFF format is not in SKEncodedImageFormat enum and confirm decoder works with PNG (control test)",
      "layer": "csharp",
      "command": "dotnet run",
      "output": "TIFF first 4 bytes: 49-49-2A-00\nExpected TIFF LE magic: 49-49-2A-00\nControl test (PNG roundtrip): OK\n\nSKEncodedImageFormat values:\n  Bmp = 0, Gif = 1, Ico = 2, Jpeg = 3, Png = 4, Wbmp = 5, Webp = 6, Pkm = 7, Ktx = 8, Astc = 9, Dng = 10, Heif = 11, Avif = 12, Jpegxl = 13\n\nTIFF is NOT listed \u2014 Skia does not include a TIFF codec.",
      "result": "success"
    }
  ],
  "environment": {
    "os": "macOS 26.2",
    "arch": "arm64",
    "dotnetVersion": "8.0.417",
    "skiaSharpVersion": "2.88.3",
    "dockerUsed": false
  },
  "reproductionTime": "~5 minutes",
  "versionResults": [
    {
      "version": "2.88.3",
      "source": "nuget",
      "result": "reproduced",
      "notes": "All decode methods return null. SKBitmap.Decode(byte[]) throws ArgumentNullException on \u0027codec\u0027 parameter."
    },
    {
      "version": "3.119.2",
      "source": "nuget",
      "result": "reproduced",
      "notes": "Same behavior as 2.88.3 \u2014 all decode methods return null, SKBitmap.Decode(byte[]) throws ArgumentNullException."
    }
  ],
  "reproProject": {
    "type": "console",
    "tfm": "net8.0",
    "packages": [
      {
        "name": "SkiaSharp",
        "version": "2.88.3"
      }
    ]
  },
  "artifacts": [
    {
      "filename": "C 7 142 18-0002.tif",
      "description": "Reporter\u0027s TIFF file (988x664 uncompressed RGB, 3977720 bytes). Valid TIFF with LE magic 49-49-2A-00.",
      "source": "issue-attachment",
      "available": true,
      "url": "https://github.com/mono/SkiaSharp/files/15253367/C.7.142.18-0002.zip"
    }
  ],
  "errorMessages": {
    "primaryError": "All SKImage.FromEncodedData and SKBitmap.Decode overloads return null for TIFF files. SKBitmap.Decode(byte[]) throws ArgumentNullException: Value cannot be null. (Parameter \u0027codec\u0027) because SKCodec.Create returns null for unsupported formats.",
    "additionalErrors": [
      "SKCodec.Create returns null \u2014 TIFF is not a supported codec format in Skia"
    ]
  }
}