{
  "meta": {
    "schemaVersion": "1.0",
    "number": 533,
    "repo": "mono/SkiaSharp",
    "analyzedAt": "2026-02-13T15:55:00Z"
  },
  "conclusion": "needs-platform",
  "notes": "Issue #533 reports uncapped framerates (300-1200\u002B FPS) on Android SKGLView when HasRenderLoop is enabled, caused by the switch from GLSurfaceView (which internally uses eglSwapInterval for VSync) to GLTextureView (which does not) in SkiaSharp 1.60.1. This is a runtime behavior observable only on Android with OpenGL rendering. A MAUI project with SKGLView and FPS measurement code was created and successfully built for net10.0-android, but cannot be run \u2014 no Android emulator or physical device is available in the current environment. The maintainer confirmed the root cause in issue comments and noted seeing 1.2K FPS in emulators. Multiple community members confirmed the issue on various devices (140 FPS on Moto g6, 230 FPS on Galaxy Note 3). The GLTextureView code remains in the current codebase and still does not call eglSwapInterval, so the bug is almost certainly still present.",
  "reproductionSteps": [
    {
      "stepNumber": 1,
      "description": "Create MAUI project for Android FPS reproduction test",
      "layer": "setup",
      "command": "dotnet new maui -n Repro \u0026\u0026 cd Repro \u0026\u0026 dotnet add package SkiaSharp.Views.Maui.Controls --version 3.119.0-preview.1.2",
      "exitCode": 0,
      "output": "Restore succeeded.\nPackageReference for package \u0027SkiaSharp.Views.Maui.Controls\u0027 version \u00273.119.0-preview.1.2\u0027 added.",
      "filesCreated": [
        {
          "filename": "MainPage.xaml",
          "description": "XAML page with SKGLView configured with HasRenderLoop=True to test uncapped framerate behavior",
          "content": "\u003C?xml version=\u00221.0\u0022 encoding=\u0022utf-8\u0022 ?\u003E\n\u003CContentPage xmlns=\u0022http://schemas.microsoft.com/dotnet/2021/maui\u0022\n             xmlns:x=\u0022http://schemas.microsoft.com/winfx/2009/xaml\u0022\n             xmlns:skia=\u0022clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls\u0022\n             x:Class=\u0022Repro.MainPage\u0022\u003E\n    \u003CVerticalStackLayout\u003E\n        \u003CLabel x:Name=\u0022FpsLabel\u0022 Text=\u0022FPS: --\u0022 FontSize=\u002224\u0022 HorizontalOptions=\u0022Center\u0022 /\u003E\n        \u003Cskia:SKGLView x:Name=\u0022GlView\u0022 \n                       HasRenderLoop=\u0022True\u0022\n                       PaintSurface=\u0022OnPaintSurface\u0022\n                       HeightRequest=\u0022400\u0022 /\u003E\n    \u003C/VerticalStackLayout\u003E\n\u003C/ContentPage\u003E"
        },
        {
          "filename": "MainPage.xaml.cs",
          "description": "FPS measurement code using Stopwatch to measure time between PaintSurface events, matching the approach from the maintainer\u0027s comment",
          "content": "using System.Diagnostics;\nusing SkiaSharp;\nusing SkiaSharp.Views.Maui;\n\nnamespace Repro;\n\npublic partial class MainPage : ContentPage\n{\n    private readonly Stopwatch _sw = Stopwatch.StartNew();\n    private TimeSpan _last;\n    private int _frameCount;\n    private double _fpsAccum;\n\n    public MainPage()\n    {\n        InitializeComponent();\n        _last = _sw.Elapsed;\n    }\n\n    private void OnPaintSurface(object sender, SKPaintGLSurfaceEventArgs e)\n    {\n        var now = _sw.Elapsed;\n        var delta = (now - _last).TotalSeconds;\n        _last = now;\n\n        if (delta \u003E 0)\n        {\n            var fps = 1.0 / delta;\n            _fpsAccum \u002B= fps;\n            _frameCount\u002B\u002B;\n\n            if (_frameCount % 30 == 0)\n            {\n                var avgFps = _fpsAccum / 30;\n                _fpsAccum = 0;\n                MainThread.BeginInvokeOnMainThread(() =\u003E\n                {\n                    FpsLabel.Text = $\u0022FPS: {avgFps:F1} (frame {_frameCount})\u0022;\n                });\n                Debug.WriteLine($\u0022[FPS] {avgFps:F1}\u0022);\n            }\n        }\n\n        var canvas = e.Surface.Canvas;\n        canvas.Clear(SKColors.CornflowerBlue);\n        using var paint = new SKPaint { Color = SKColors.White };\n        using var font = new SKFont { Size = 48 };\n        canvas.DrawText($\u0022Frame {_frameCount}\u0022, 50, 100, SKTextAlign.Left, font, paint);\n    }\n}"
        }
      ],
      "result": "success"
    },
    {
      "stepNumber": 2,
      "description": "Register SkiaSharp in MauiProgram.cs with UseSkiaSharp()",
      "layer": "setup",
      "command": "sed -i \u0027\u0027 \u0027s/.UseMauiApp\u003CApp\u003E()/.UseMauiApp\u003CApp\u003E().UseSkiaSharp()/\u0027 MauiProgram.cs",
      "exitCode": 0,
      "output": "Added using SkiaSharp.Views.Maui.Controls.Hosting and .UseSkiaSharp() call.",
      "result": "success"
    },
    {
      "stepNumber": 3,
      "description": "Build MAUI project targeting Android to verify the repro code compiles",
      "layer": "deployment",
      "command": "dotnet build -f net10.0-android",
      "exitCode": 0,
      "output": "Build succeeded.\n2 Warning(s) (obsolete SKPaint.TextSize and SKCanvas.DrawText overload)\n0 Error(s)\nTime Elapsed 00:00:41.56",
      "result": "success"
    },
    {
      "stepNumber": 4,
      "description": "Attempt to run the Android app to measure framerate \u2014 blocked by missing Android emulator",
      "layer": "deployment",
      "result": "skip"
    }
  ],
  "environment": {
    "os": "macOS 26.2",
    "arch": "arm64",
    "dotnetVersion": "10.0.0",
    "skiaSharpVersion": "3.119.0-preview.1.2",
    "dockerUsed": false,
    "dotnetSdkVersion": "10.0.102",
    "gpu": {
      "available": false,
      "backend": "OpenGL"
    }
  },
  "inputs": {
    "triageFile": "ai-triage/533.json"
  },
  "assessment": "likely-bug",
  "scope": "platform-specific/android",
  "reproductionTime": "~8 minutes",
  "versionResults": [
    {
      "version": "3.119.0-preview.1.2",
      "source": "nuget",
      "result": "not-tested",
      "notes": "MAUI project with SKGLView built successfully for net10.0-android but could not be run \u2014 no Android emulator or device available.",
      "platform": "host-macos-arm64"
    }
  ],
  "reproProject": {
    "type": "maui",
    "tfm": "net10.0-android",
    "packages": [
      {
        "name": "SkiaSharp.Views.Maui.Controls",
        "version": "3.119.0-preview.1.2"
      }
    ]
  },
  "blockers": [
    "Requires Android device or emulator to observe runtime framerate behavior \u2014 no Android emulator (ADB) is installed in the current environment",
    "Bug is in the Android GL view layer (SKGLTextureView / GLTextureView) which only executes on Android runtime \u2014 cannot be simulated in console, Docker, or any non-Android platform",
    "Console fallback is not applicable \u2014 the bug is about the rendering loop frame pacing in the OpenGL view, not a core SkiaSharp API issue"
  ]
}